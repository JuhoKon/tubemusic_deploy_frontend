(this.webpackJsonptubemusic=this.webpackJsonptubemusic||[]).push([[0],{103:function(e,t,a){},134:function(e,t,a){},223:function(e,t,a){},243:function(e,t,a){},263:function(e,t,a){e.exports=a(503)},268:function(e,t,a){},270:function(e,t,a){},291:function(e,t){},293:function(e,t){},329:function(e,t){},330:function(e,t){},409:function(e,t,a){},472:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},503:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),s=a.n(i),l=(a(268),a(4)),o=a.n(l),c=a(13),u=a(5),p=a(6),d=a(11),m=a(8),h=a(7),y=a(533),f=(a(270),a(506)),g=a(507),b=a(508),v=a(509),k=a(510),E=a(511),w=a(512),P=a(534),O=a(535),j=a(513),x=a(514),N=a(515),C=a(28),S=a.n(C),I=a(531);function T(e){return 402!==e.response.status&&401!==e.response.status||(ne.logout(),window.location.reload(!0)),e.response}function U(e){return e}var A=a(249),D=a.n(A),q=function(e){return new Promise((function(t){return setTimeout(t,e)}))},L="AIzaSyCc5tyizZ6BVh1XtAv_ItjIlS7QMKWhe0c",R="https://secure-retreat-97998.herokuapp.com",M=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post(R+"/scrape/scrape",{items:t},ee()).catch((function(e){T(e)}));case 2:if(!(a=e.sent)){e.next=7;break}return e.abrupt("return",a.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{item:t}},(n=ne.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,S.a.get(R+"/scrape/search",a).then(U).catch((function(e){T(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",maxResults:1,key:L,q:t}}).catch((function(e){return console.log(e)}));case 2:if(!(a=e.sent)){e.next=7;break}return e.abrupt("return",a.data.items);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("https://www.googleapis.com/youtube/v3/videos",{params:{part:"contentDetails",id:t,key:L}});case 2:return a=e.sent,e.abrupt("return",a.data.items);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer "+t}},e.next=3,S.a.get("https://api.spotify.com/v1/me",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer "+t}},e.next=3,S.a.get("https://api.spotify.com/v1/me/playlists",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+t}},e.next=3,S.a.get(a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+a}},e.next=3,S.a.get("https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(R+"/playlists",ee()).catch((function(e){T(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post(R+"/playlists/create",t,ee()).catch((function(e){T(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(100);case 2:return e.next=4,S.a.put(R+"/playlists/update/".concat(a),t,ee());case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete(R+"/playlists/delete/".concat(t),ee()).catch((function(e){T(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(R+"/playlists/find/".concat(t),ee()).catch((function(e){T(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,i,s){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=JSON.stringify({playlistId:t,playlistName:a,private:n,owner:r,createdAt:i}),e.next=3,S.a.put(R+"/users/addPlaylist",l,ee()).catch((function(e){T(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i,s){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete(R+"/users/deletePlaylist".concat(t),ee()).catch((function(e){T(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify({playlistId:t,playlistName:a,private:n}),e.next=3,S.a.put(R+"/users/editPlaylist".concat(t),i,ee()).catch((function(e){T(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ee=function(){var e={headers:{"Content-Type":"application/json"}},t=ne.currentUserValue;if(t){var a=D.a.decode(t.token);a||(ne.logout(),window.location.reload(!0));var n=Math.floor((new Date).getTime()/1e3)-a.exp;e.headers["x-auth-token"]=t.token,n>-3870&n<-10&&S.a.get(R+"/auth/renew",e).then((function(e){ne.newToken(e.data)}))}return e},te="https://secure-retreat-97998.herokuapp.com";try{JSON.parse(localStorage.getItem("token"))}catch(sa){localStorage.removeItem("token")}var ae=new I.a(JSON.parse(localStorage.getItem("token"))),ne={login:function(e,t){return re.apply(this,arguments)},logout:function(){localStorage.removeItem("token"),ae.next(null)},signup:function(e){console.log(e);var t=JSON.stringify({name:e.signUpName,email:e.signUpEmail,role:"User",password:e.signUpPassword});return S.a.post(te+"/users/create",t,{headers:{"Content-Type":"application/json"}}).then((function(e){ae.next(e.data),localStorage.setItem("token",JSON.stringify(e.data))})).catch((function(e){return e.response}))},loadUser:function(){return ie.apply(this,arguments)},newToken:function(e){ae.next(e),localStorage.setItem("token",JSON.stringify(e))},currentUser:ae.asObservable(),get currentUserValue(){return ae.value}};function re(){return(re=Object(c.a)(o.a.mark((function e(t,a){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:t,password:a}),e.prev=2,e.next=5,S.a.post(te+"/auth",r,n);case 5:i=e.sent,ae.next(i.data),localStorage.setItem("token",JSON.stringify(i.data)),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function ie(){return(ie=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.get(te+"/auth/user",ee()).then((function(e){return e.data})).catch((function(e){T(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).state={isOpen:!1};var r=window.pageYOffset;return window.onscroll=function(){var e=window.pageYOffset;document.getElementById("navbar").style.top=r>e?"0":"-50px",r=e},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=ne.currentUserValue;return r.a.createElement("div",null,r.a.createElement(f.a,{className:this.props.darkMode?"navbar navbar-dark navbar-expand-lg":"navbar2 navbar-dark navbar-expand-lg",expand:"md",id:"navbar"},r.a.createElement(g.a,{href:"/"},"TubeMusic"),r.a.createElement(b.a,{onClick:function(){return e.setState({isOpen:!e.state.isOpen})}}),r.a.createElement(v.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(k.a,{className:"mr-auto",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/spotify"},"Spotify")),r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/playlists"},"Playlists")),t&&"Admin"===t.user.role?r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/admin"},"Admin")):"",r.a.createElement(P.a,{nav:!0,inNavbar:!0},r.a.createElement(O.a,{nav:!0,caret:!0},"Options"),r.a.createElement(j.a,{right:!0},r.a.createElement(x.a,null,"Option 1"),r.a.createElement(x.a,null,"Option 2"),r.a.createElement(x.a,{divider:!0}),r.a.createElement(x.a,null,"Reset")))),r.a.createElement(N.a,null,"Hello, ",t&&t.user.name),r.a.createElement(k.a,{className:"navbar-nav",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"#",onClick:this.props.logout},"Sign out"))))))}}]),a}(n.Component),le=(a(409),a(518)),oe=a(519),ce=a(516),ue=a(517),pe=a(250),de=a(520),me=(a(223),a(68),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onAddClick=function(t){e.props.addFunc({uniqueId:Math.random(),title:t.title,videoId:t.videoId,duration:t.duration,publishedAt:t.publishedAt,channelTitle:t.channelTitle})},e.onPlayClick=function(t){e.props.onPlay({uniqueId:Math.random(),title:t.title,videoId:t.videoId,duration:t.duration,publishedAt:t.publishedAt,channelTitle:t.channelTitle})},e.onAddToPlaylist=function(t){console.log(t),e.props.AddToPlaylist({uniqueId:Math.random(),title:t.title,videoId:t.videoId,duration:t.duration,publishedAt:t.publishedAt,channelTitle:t.channelTitle,date:Date.now()})},e.playNextClick=function(t){e.props.playNext(t)},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card-2",id:"videoitem"},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{className:"btn btn-secondary float-right btn-item",onClick:this.onPlayClick.bind(this,this.props)},"Play"))),r.a.createElement(oe.a,{xs:"7",sm:"7"},r.a.createElement(de.a,null,this.props.title)),r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{className:"btn btn-primary btn-item",color:"secondary",onClick:this.onAddToPlaylist.bind(this,this.props)},"+P"))),r.a.createElement(oe.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:this.playNextClick.bind(this,this.props)},"+N"),r.a.createElement(pe.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:this.onAddClick.bind(this,this.props)},"+Q")))),r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"float-left"},"Length\xa0",this.props.duration))))))}}]),a}(n.Component)),he=a(41),ye=a(17),fe=a.n(ye),ge=a(253),be=a.n(ge),ve=(a(103),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||35},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(be.a,{size:this.state.size,color:this.props.color||"#c45a8e",loading:this.state.loading}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"italic"},"Loading..."))}}]),a}(r.a.Component)),ke=(a(413),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:n.props.loading,error:n.props.error},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({loading:this.props.loading,error:this.props.error})}},{key:"render",value:function(){var e=this,t=this.props.items;return r.a.createElement("div",{id:"videolist33"},this.state.loading?r.a.createElement("div",{className:"loadingPlace"},r.a.createElement(ve,null)):null,this.state.error?r.a.createElement("span",null,"Error has occured. Most likely quote limit has been exceeded for the day."):"",t.map((function(t){var a=t.title,n=t.publishedAt,i=t.channelTitle,s=t.videoId,l=t.thumbnail,o=t.uniqueId,c=t.duration;return r.a.createElement(he.CSSTransition,{key:o,timeout:500,classNames:"fade"},r.a.createElement(me,{playNext:e.props.playNext,uniqueId:o,title:a,thumbnail:l,channelTitle:i,publishedAt:n,videoId:s,addFunc:e.props.onAdd,onPlay:e.props.onPlay,AddToPlaylist:e.props.AddToPlaylist,duration:c}))})))}}]),a}(n.Component)),Ee=a(521),we=a(536),Pe=a(522),Oe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.onChangetext=function(t){e.setState({text:t.target.value})},e.submit=function(t){t.preventDefault(),e.props.handleSubmit(e.state.text)},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.submit},r.a.createElement(Ee.a,null,r.a.createElement(we.a,{addonType:"prepend"}),r.a.createElement(Pe.a,{type:"text",placeholder:"Search for songs on YouTube...",required:!0,className:"form-control",value:this.state.text,onChange:this.onChangetext}),r.a.createElement(we.a,{addonType:"append"},r.a.createElement(pe.a,{color:"secondary"},"Search")))))}}]),a}(n.Component),je=a(523),xe=a(65),Ne=(a(134),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editMode:e.props.editMode},e.onPlayClick=function(t){e.props.onPlay(t)},e}return Object(p.a)(a,[{key:"onRemoveClick",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.onRemove(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({editMode:this.props.editMode})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{className:"btn btn-secondary float-right btn-item",onClick:this.onPlayClick.bind(this,this.props)},"Play"))),r.a.createElement(oe.a,{xs:"7",sm:"7"},r.a.createElement(de.a,null,this.props.title)),r.a.createElement(oe.a,{xs:"1",sm:"1"},r.a.createElement("small",{className:"float-left"},this.props.duration)),r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},this.props.editMode?r.a.createElement(pe.a,{className:"btn btn-secondary button float-right",color:"secondary",onClick:this.onRemoveClick.bind(this,this.props)},"x"):null))))))}}]),a}(n.Component)),Ce=a(22),Se=Object(xe.b)((function(e){var t=e.uniqueId,a=e.title,n=e.thumbnail,i=e.channelTitle,s=e.publishedAt,l=e.videoId,o=e.duration,c=e.onRemove,u=e.onPlay,p=e.editMode;return r.a.createElement(Ne,{key:t,uniqueId:t,title:a,thumbnail:n,channelTitle:i,publishedAt:s,videoId:l,onRemove:c,onPlay:u,duration:o,editMode:p})})),Ie=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderRow=function(t){var a=t.index,n=t.style,i=e.props.queue[a],s=i.title,l=i.publishedAt,o=i.channelTitle,c=i.videoId,u=i.thumbnail,p=i.uniqueId,d=i.duration;return r.a.createElement("div",{key:p,style:n},r.a.createElement(Se,{className:"QueueItem",key:p,uniqueId:p,index:a,title:s,videoId:c,publishedAt:l,channelTitle:o,thumbnail:u,onRemove:e.props.onRemove,onPlay:e.props.onPlay,duration:d,editMode:e.props.editMode}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.getRef,t=this.props.queue;return r.a.createElement(Ce.c,{ref:e,rowHeight:82,rowRenderer:this.renderRow,rowCount:t.length,width:this.props.width,height:250})}}]),a}(n.Component),Te=a(112),Ue=a.n(Te),Ae=Object(xe.a)(Ie),De=function(e){return new Promise((function(t){return setTimeout(t,e)}))},qe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).registerListRef=function(e){n.List=e},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;if(t!==a){var r=n.state.queue;n.setState({queue:Ue()(r,t,a)}),n.props.setQueue(n.state.queue),n.List.recomputeRowHeights(),n.List.forceUpdate()}},n.toggle=function(){n.setState({editMode:!n.state.editMode}),n.List.recomputeRowHeights(),n.List.forceUpdate()},n.state={queue:n.props.queue,editMode:!1,animation:!1},n.shuffleQueue=n.shuffleQueue.bind(Object(d.a)(n)),n.clearQueue=n.clearQueue.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({queue:this.props.queue})}},{key:"shuffleQueue",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({animation:!0}),e.next=3,De(200);case 3:this.props.shuffleQueue(),this.List.recomputeRowHeights(),this.List.forceUpdate();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearQueue",value:function(){this.props.clearQueue()}},{key:"render",value:function(){var e=this,t=this.state.animation;return r.a.createElement("div",{className:"queueList"},this.props.queue[0]?r.a.createElement(je.a,null,r.a.createElement(pe.a,{disabled:!this.props.queue[0],className:"float-right btn-remove",onClick:this.clearQueue},"CLEAR"),r.a.createElement(pe.a,{disabled:!this.props.queue[0],className:"float-right",onClick:this.shuffleQueue},"SHUFFLE"),r.a.createElement(pe.a,{disabled:!this.props.queue[0],className:"float-left btn-edit",onClick:this.toggle},this.state.editMode?"Save":"Edit"),r.a.createElement("span",null," ",r.a.createElement("span",null,"Queue")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{onAnimationEnd:function(){return e.setState({animation:!1})},className:t?"animation":"queue"},r.a.createElement(Ce.a,{disableHeight:!0},(function(t){var a=t.width;return r.a.createElement(Ae,{getRef:e.registerListRef,queue:e.state.queue,onSortEnd:e.onSortEnd,onRemove:e.props.onRemove,onPlay:e.props.onPlay,editMode:e.state.editMode,width:a,distance:1})})))):"")}}]),a}(n.Component),Le=a(23),Re=a(537),Me=a(525),Be=a(524),Fe=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ze=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e}return Object(p.a)(a,[{key:"loadPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Fe(500);case 3:return e.next=5,this.props.loadPlaylist(t._id);case 5:e.sent&&this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(e){console.log(e),this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(pe.a,{className:"btn btn-primary float-right btn-remove",color:"danger",onClick:this.deletePlaylist.bind(this,this.props)},"x"),r.a.createElement(pe.a,{color:"primary",onClick:this.loadPlaylist.bind(this,this.props),className:this.state.loading?"loading btn btn-primary float-left":"btn btn-primary float-left"},this.state.loading?"Loading...":"Load")),r.a.createElement(Be.a,{style:{textAlign:"center"}},this.props.name))))}}]),a}(n.Component),Qe=(n.Component,a(526)),_e=a(527),He=a(528),Ve=a(529),Ye=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).boxChange=function(e){n.setState({checked:e.target.checked})},n.toggle=function(){n.setState({modal:!n.state.modal,playlistName:n.props.playlistName})},n.onChange=function(e){n.setState(Object(Le.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault(),n.props.Updateplaylist(n.state.playlistName,n.props.playlistId,n.state.checked),n.toggle()},n.state={modal:!1,playlistName:n.props.playlistName,checked:n.props.isPrivate,playlistOwner:n.props.playlistOwner,userName:n.props.userName},n.toggle=n.toggle.bind(Object(d.a)(n)),n.onChange=n.onChange.bind(Object(d.a)(n)),n.onSubmit=n.onSubmit.bind(Object(d.a)(n)),n.boxChange=n.boxChange.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({playlistName:this.props.playlistName,checked:this.props.isPrivate,playlistOwner:this.props.playlistOwner,userName:this.props.userName})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(pe.a,{className:"float-right btn-margin btn btn-secondary button",onClick:this.toggle,href:"#",color:"primary",disabled:!(this.props.playlistId&&this.state.playlistOwner===this.state.userName||"Admin"===this.props.userRole)},"Save as"),r.a.createElement(Re.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Me.a,{className:"mb-4",toggle:this.toggle},"Save playlist as",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Qe.a,{onSubmit:this.onSubmit},r.a.createElement(_e.a,null,r.a.createElement(He.a,null,r.a.createElement(Ve.a,{className:"label",for:"name"},"Name:"),r.a.createElement(Pe.a,{type:"name",name:"playlistName",id:"playlistName",placeholder:this.state.playlistName,value:this.state.playlistName||"",className:"mb-4",onChange:this.onChange}),r.a.createElement("div",{className:"check"},r.a.createElement(Ve.a,{check:!0,className:"float-right"},r.a.createElement(Pe.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(pe.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component);function Je(e,t){var a=(t?["All","Random","Rock","EDM","Rap","Chill","parti"]:["Random","Rock","EDM","Rap","Chill","parti"]).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}));return r.a.createElement(Pe.a,{onChange:e,type:"select",name:"select",id:"exampleSelect"},a)}var We=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",checked:!1,select:"Random"},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(Le.a)({},t.target.name,t.target.value)),console.log(e.state.select)},e.onSubmit=function(t){t.preventDefault(),console.log(t),e.props.makePlaylist(e.state.name,[],e.state.checked,e.state.select),e.toggle()},e.boxChange=function(t){e.setState({checked:t.target.checked})},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(pe.a,{className:"float-left btn-margin btn-secondary btn button",onClick:this.toggle,href:"#",color:"secondary"},"Create new"),r.a.createElement(Re.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Me.a,{className:"mb-4",toggle:this.toggle},"Create a new playlist here :)",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Qe.a,{onSubmit:this.onSubmit},r.a.createElement(_e.a,null,r.a.createElement(He.a,null,r.a.createElement(Ve.a,{for:"name"},"Name for the playlist:"),r.a.createElement(Pe.a,{type:"name",name:"name",id:"name",placeholder:"epic-partylist",className:"mb-4",onChange:this.onChange}),r.a.createElement(Ve.a,{className:""},"Genres"),Je(this.onChange),r.a.createElement("br",null),r.a.createElement("div",{className:"check"},r.a.createElement(Ve.a,{check:!0,className:"float-right "},r.a.createElement(Pe.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(pe.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component),Ge=(a(243),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={playlist:e.props.playlist,editMode:e.props.editMode,fade:!1},e.onAddClick=function(t){e.setState({fade:!0}),e.props.addFunc(t)},e.onPlayClick=function(t){e.props.onPlay(t)},e.onDeleteClick=function(t){e.props.onDeleteFromPlaylist(t)},e.playNextClick=function(t){e.props.playNext(t)},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({playlist:this.props.playlist,editMode:this.props.editMode})}},{key:"render",value:function(){var e=this,t=this.state.fade;return r.a.createElement(ce.a,{onAnimationEnd:function(){return e.setState({fade:!1})},className:t?"card fade2":"card"},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{className:"btn btn-secondary float-right btn-item",onClick:this.onPlayClick.bind(this,this.props)},"Play"))),r.a.createElement(oe.a,{xs:"6",sm:"6"},r.a.createElement(de.a,null,this.props.title)),r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("small",{className:"float-left"},this.props.duration)),r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},this.props.editMode?r.a.createElement(pe.a,{className:"btn btn-secondary btn-remove float-right btn-item",color:"danger",onClick:this.onDeleteClick.bind(this,this.props)},"x"):r.a.createElement("div",{className:"flex-container"},r.a.createElement(pe.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:this.playNextClick.bind(this,this.props)},"+N"),r.a.createElement(pe.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:this.onAddClick.bind(this,this.props)},"+Q")))))))}}]),a}(n.Component)),Ke=Object(xe.b)((function(e){var t=e.uniqueId,a=e.title,n=e.publishedAt,i=e.videoId,s=e.onAdd,l=e.onPlay,o=e.onDeleteFromPlaylist,c=e.duration,u=e.onRemove,p=e.editMode,d=e.playNext;return r.a.createElement(Ge,{key:t,uniqueId:t,title:a,videoId:i,addFunc:s,onPlay:l,onDeleteFromPlaylist:o,onRemove:u,duration:c,publishedAt:n,editMode:p,playNext:d})})),Xe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderRow=function(t){var a=t.index,n=t.style,i=e.props.playlist[a],s=i.title,l=i.publishedAt,o=i.videoId,c=i.uniqueId,u=i.duration;return r.a.createElement("div",{key:c,style:n},r.a.createElement(Ke,{index:a,key:c,uniqueId:c,title:s,videoId:o,onAdd:e.props.onAdd,onPlay:e.props.onPlay,onDeleteFromPlaylist:e.props.onDeleteFromPlaylist,onRemove:e.props.onRemove,duration:u,publishedAt:l,editMode:e.props.editMode,playNext:e.props.playNext}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.getRef,t=this.props.playlist;return r.a.createElement(Ce.c,{ref:e,rowHeight:82,rowRenderer:this.renderRow,rowCount:t.length,width:this.props.width,height:500})}}]),a}(n.Component),Ze=Object(xe.a)(Xe),$e=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({filter:e.target.value})},n.toggle=function(){n.setState({editMode:!n.state.editMode}),setTimeout((function(){return n.props.loadPlaylist(n.state.playlistId)}),200),n.List.recomputeRowHeights(),n.List.forceUpdate()},n.registerListRef=function(e){n.List=e},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;if(t!==a){var r=n.props.playlist;n.setState({playlist:Ue()(r,t,a)}),n.props.setPlaylist(n.state.playlist),n.props.UpdateCurrentPlaylist(),n.List.recomputeRowHeights(),n.List.forceUpdate()}},n.state={playlists:n.props.playlists,playlist:n.props.playlist,playlistName:n.props.playlistName,playlistId:n.props.playlistId,editMode:!1,filter:"",playlistOwner:n.props.playlistOwner,userName:n.props.userName},n.UpdateCurrentPlaylist=n.UpdateCurrentPlaylist.bind(Object(d.a)(n)),n.toggle=n.toggle.bind(Object(d.a)(n)),n.onDeleteFromPlaylist=n.onDeleteFromPlaylist.bind(Object(d.a)(n)),n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.addPlaylistToQueue=n.addPlaylistToQueue.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"addPlaylistToQueue",value:function(e){this.props.addPlaylistToQueue(e)}},{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({playlist:this.props.playlist,playlists:this.props.playlists.reverse,playlistName:this.props.playlistName,playlistId:this.props.playlistId,playlistOwner:this.props.playlistOwner,userName:this.props.userName})}},{key:"onDeleteFromPlaylist",value:function(e){console.log(e);for(var t=0;t<this.state.playlist.length;t++)if(this.state.playlist[t].uniqueId===e.uniqueId){this.state.playlist.splice(t,1);break}this.props.onDeleteFromPlaylist(e)}},{key:"playPlaylist",value:function(e){console.log("playPlaylist"),this.props.playPlaylist(e)}},{key:"UpdateCurrentPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.setPlaylist(this.state.playlist),e.next=3,this.props.UpdateCurrentPlaylist();case 3:this.toggle();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.filter,a=this.props,n=(a.playlists,a.playlist);console.log(n);var i=t.toLowerCase(),s=n.filter((function(e){return null===e||"undefined"===typeof e?n:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"title"===t&&e[t].toLowerCase().includes(i)}))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"btn-group "},r.a.createElement(pe.a,{className:"float-left btn-margin btn-secondary",color:"info",onClick:this.playPlaylist.bind(this,s),disabled:!this.props.playlist[0]},"Play"),r.a.createElement(We,{makePlaylist:this.props.makePlaylist,playlistName:this.state.playlistName}),r.a.createElement(Ye,{userRole:this.props.userRole,userName:this.state.userName,playlistId:this.props.playlistId,isPrivate:this.props.isPrivate,Updateplaylist:this.props.Updateplaylist,playlistName:this.state.playlistName,playlistOwner:this.state.playlistOwner}),r.a.createElement(pe.a,{className:"float-right btn-margin btn btn-secondary button",color:"info",onClick:this.addPlaylistToQueue.bind(this,s),disabled:!this.props.playlist[0]},"+ Q")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"float-left"},"Current playlist: ",this.state.playlistName),r.a.createElement("br",null),r.a.createElement(Pe.a,{value:t,onChange:this.handleChange,placeholder:"Filter songs..."}),r.a.createElement("hr",null),r.a.createElement(pe.a,{color:(this.state.editMode,"secondary"),className:"float-right btn-remove",onClick:this.toggle,disabled:!this.state.playlistName},this.state.editMode?"Revert changes":"Edit"),this.state.editMode?r.a.createElement(pe.a,{onClick:this.UpdateCurrentPlaylist,className:"float-right btn-remove"},"Save"):null,r.a.createElement("p",{className:"float-left"},"Total songs: ",s.length),r.a.createElement(Ce.a,{disableHeight:!0},(function(t){var a=t.width;return r.a.createElement(Ze,{playNext:e.props.playNext,editMode:e.state.editMode,getRef:e.registerListRef,playlist:s,onSortEnd:e.onSortEnd,onAdd:e.props.onAdd,onPlay:e.props.onPlay,onDeleteFromPlaylist:e.onDeleteFromPlaylist,width:a,distance:10})})))}}]),a}(n.Component),et=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={name:n.props.name.substring(0,400)},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({name:this.props.name})}},{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e)}},{key:"render",value:function(){return r.a.createElement("div",{onClick:this.loadPlaylist.bind(this,this.props._id),className:"sidebar-playlist"},this.state.name)}}]),a}(r.a.Component),tt=(a(472),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),at=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getPlaylists=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(2e3);case 2:n.props.getPlaylist();case 3:case"end":return e.stop()}}),e)}))),n.state={playlists:n.props.playlists,loading:!1},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({playlists:this.props.playlists})}},{key:"componentDidMount",value:function(){this.getPlaylists()}},{key:"getPlaylists2",value:function(){this.props.getPlaylist()}},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("div",{className:"sidebardiv"},r.a.createElement("h3",null,"Playlists"),r.a.createElement("button",{onClick:this.getPlaylists2.bind(this,this.props)},"Refresh"),r.a.createElement("br",null),r.a.createElement("div",{className:"playlists-sidebar"},this.state.playlists.map((function(t,a){return r.a.createElement("div",{key:t._id},r.a.createElement(et,{loadPlaylist:e.props.loadPlaylist,name:t.name,_id:t._id}))}))))}}]),a}(n.Component);function nt(e,t){return Math.floor(Math.random()*(e-t)+t)}var rt=function e(t,a,n,r,i){Object(u.a)(this,e),this.title=void 0,this.channelTitle=void 0,this.videoId=void 0,this.uniqueId=void 0,this.duration=void 0,this.title=t,this.channelTitle=a,this.videoId=n,this.uniqueId=r,this.duration=i},it=a(258),st=a.n(it),lt=a(43),ot=a(532),ct=a(538),ut=(a(490),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onAddClick=function(e){n.props.addFunc(e)},n.onPlayClick=function(e){n.props.onPlay(e)},n.onAddToPlaylist=function(e){n.props.AddToPlaylist(e)},n.state={uniqueId:Math.random(),title:n.props.name,videoId:n.props.url.split("https://www.youtube.com/watch?v=")[1]},n.loadPlaylist=n.loadPlaylist.bind(Object(d.a)(n)),n.deletePlaylist=n.deletePlaylist.bind(Object(d.a)(n)),n.onAddClick=n.onAddClick.bind(Object(d.a)(n)),n.onPlayClick=n.onPlayClick.bind(Object(d.a)(n)),n.onAddToPlaylist=n.onAddToPlaylist.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(pe.a,{className:"btn btn-primary float-right btn-remove",color:"secondary",onClick:this.onAddToPlaylist.bind(this,this.state)},"+ P"),r.a.createElement(pe.a,{className:"btn btn-primary float-left btn-remove",onClick:this.onPlayClick.bind(this,this.state),color:"primary"},"Play"),r.a.createElement(pe.a,{className:"btn btn-primary float-right btn-remove",color:"info",onClick:this.onAddClick.bind(this,this.state)},"+ Q")),r.a.createElement(Be.a,{style:{textAlign:"center"}},this.state.title))))}}]),a}(n.Component));a(491),n.Component;function pt(e){var t=e.className,a=e.seconds;return r.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=dt(t.getUTCSeconds());if(a)return"".concat(a,":").concat(dt(n),":").concat(r);return"".concat(n,":").concat(r)}(a))}function dt(e){return("0"+e).slice(-2)}a(492);var mt=a(74),ht=a(73),yt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).load=function(e){n.setState({url:e,played:0,loaded:0,pip:!1})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.setMute=function(){console.log("I was clicked"),n.setState({muted:!n.state.muted})},n.clearHistory=function(){n.setState({history:[]})},n.handlePlayPause=function(){var e=n.state.playing;n.setState({playing:!n.state.playing}),n.props.setPlaying(!e),null!==n.state.url||n.state.playing||n.handlePlayNext()},n.handlePlay=function(){console.log("onPlay"),n.setState({playing:!0}),null===n.state.url&&n.handlePlayNext()},n.addToHistory=function(e){0!==e.duration&&(n.state.history.unshift(e),n.state.historyToPlayFrom.unshift(e))},n.handlePlayPrevious=function(){if("undefined"!==typeof n.state.historyToPlayFrom[0]){var e=n.state.historyToPlayFrom.shift();console.log("ASDASDASD"),console.log(e),n.props.setTitle(e.title);var t=e.url;t===n.state.url&&n.player.seekTo(0),n.setState({playing:!0,url:t,title:e.title,played:0}),lt.a.notify(r.a.createElement("span",null,"Now playing: ",e.title),{duration:1200}),n.props.setUrl(t)}},n.handlePlayNext=function(){if(console.log("onPlay"),"undefined"!==typeof n.state.array[0]){n.props.setTitle(n.state.array[0].title);var e="https://www.youtube.com/watch?v="+n.state.array[0].videoId;e===n.state.url&&n.player.seekTo(0),n.setState({playing:!0,url:e,title:n.state.array[0].title,played:0}),lt.a.notify(r.a.createElement("span",null,"Now playing: ",n.state.array[0].title),{duration:1200}),n.props.onRemove(n.state.array[0]),n.props.setUrl(e)}else n.setState({playing:!1,url:null})},n.handleVolumeChange=function(e){n.setState({volume:parseFloat(e.target.value)})},n.handlePause=function(){console.log("onPause"),n.setState({playing:!1})},n.handleEnded=function(){if(console.log("onEnded"),null!==n.state.url){var e={};e.title=n.state.title||"error",e.url=n.state.url,e.duration=n.state.duration,n.addToHistory(e)}n.handlePlayNext()},n.renderLoadButton=function(e,t){return r.a.createElement("button",{onClick:function(){return n.load(e)}},t)},n.ref=function(e){n.player=e},n.toggletip=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.handleStartOver=function(){n.seekTo0()},n.handleDuration=function(e){console.log("onDuration",e),n.setState({duration:e})},n.handleSeekMouseDown=function(e){n.setState({seeking:!0})},n.handleSeekChange=function(e){n.setState({played:parseFloat(e.target.value)})},n.handleSeekMouseUp=function(e){n.setState({seeking:!1}),n.player.seekTo(parseFloat(e.target.value))},n.handleProgress=function(e){console.log("onProgress",e),n.state.seeking||n.setState(e)},n.state={url:n.props.url,title:"",pip:!1,playing:!1,controls:!0,light:!1,volume:.5,muted:!1,duration:0,played:0,loaded:0,playbackRate:1,loop:!1,array:n.props.array,modal:!1,history:[],tooltipOpen:!1,historyToPlayFrom:[]},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){if(!fe()(this.props,e)&&(this.setState({url:this.props.url,array:this.props.array,title:this.props.title,playing:this.props.playing}),function(e){if("string"!==typeof e)throw new Error("Title should be an string");document.title=e}(this.props.title),this.props.url!==e.url&&"undefined"!==typeof e.url&&null!==e.url)){var t={};if(console.log(e),console.log(this.props),t.title=e.title||"error",t.url=e.url,t.duration=e.duration,null===t.url)return}}},{key:"seekTo0",value:function(){this.player.seekTo(0)}},{key:"render",value:function(){var e,t=this.state,a=t.playing,n=t.volume,i=t.duration,s=t.played;return r.a.createElement("div",{className:"MediaPlayerdiv"},r.a.createElement(le.a,null,r.a.createElement(oe.a,{sm:"3"},this.state.title&&this.state.title.length>26?r.a.createElement("span",{className:"marquee"},r.a.createElement("span",null,this.state.title),r.a.createElement("span",null,this.state.title)):r.a.createElement("p",{className:"titleplaying"},this.state.title),r.a.createElement(ot.a,{placement:"top",isOpen:this.state.tooltipOpen,target:"TooltipExample",toggle:this.toggletip},this.state.title),r.a.createElement("div",{className:"testi123",id:"TooltipExample"},r.a.createElement(st.a,{ref:this.ref,muted:this.state.muted,className:"react-player",width:"100%",height:"100%",url:this.state.url,playing:a,controls:!0,volume:n,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handlePlayNext,onDuration:this.handleDuration,onProgress:this.handleProgress}))),r.a.createElement(oe.a,{sm:"6"},r.a.createElement("div",{className:"playercontrols"},r.a.createElement(le.a,null,r.a.createElement(oe.a,{sm:"2"}," ",r.a.createElement("div",{className:"elapsedTime float-right"},r.a.createElement(pt,{seconds:i*s}))),r.a.createElement(oe.a,{sm:"8",className:"asd"},r.a.createElement(le.a,null,r.a.createElement("div",{className:"durationcontrol"},r.a.createElement(ct.a,(e={type:"range",id:"exampleCustomRange",name:"customRange"},Object(Le.a)(e,"type","range"),Object(Le.a)(e,"min",0),Object(Le.a)(e,"max",.999999),Object(Le.a)(e,"step","any"),Object(Le.a)(e,"value",s),Object(Le.a)(e,"onMouseDown",this.handleSeekMouseDown),Object(Le.a)(e,"onChange",this.handleSeekChange),Object(Le.a)(e,"onMouseUp",this.handleSeekMouseUp),e)))),r.a.createElement(le.a,null,r.a.createElement("div",{className:"buttonit"},a?r.a.createElement("div",{className:"buttonArea",onClick:this.handlePlayPause},r.a.createElement(ht.a,{size:"lg",icon:mt.c})):r.a.createElement("div",{className:"buttonArea",disabled:!this.props.array[0],onClick:this.handlePlayPause},r.a.createElement(ht.a,{size:"lg",icon:mt.d})),r.a.createElement("div",{className:"buttonArea2",onClick:this.handleEnded},r.a.createElement(ht.a,{size:"lg",icon:mt.b})),r.a.createElement("div",{className:"buttonArea3",onClick:this.handlePlayPrevious},r.a.createElement(ht.a,{size:"lg",icon:mt.a}))))),r.a.createElement(oe.a,{sm:"2"}," ",r.a.createElement("div",{className:"durationOfSong float-left"},r.a.createElement(pt,{seconds:i})))))),r.a.createElement(oe.a,{sm:"3"},r.a.createElement("div",{className:"volumeiconcontrols"},r.a.createElement("div",{className:"volumecontrol"},r.a.createElement("div",{className:"volumecontrolicon",onClick:this.setMute},this.state.muted?r.a.createElement(ht.a,{size:"lg",icon:mt.e}):r.a.createElement(ht.a,{size:"lg",icon:mt.f})),r.a.createElement(ct.a,{type:"range",id:"exampleCustomRange",name:"customRange",min:0,max:1,step:"any",value:n,onChange:this.handleVolumeChange}))))),r.a.createElement("div",null,r.a.createElement("tr",null,r.a.createElement("th",null,"remaining"),r.a.createElement("td",null,r.a.createElement(pt,{seconds:i*(1-s)})))))}}]),a}(n.Component),ft=(a(493),a(494),a(113)),gt=a.n(ft),bt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading2",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(gt.a,{size:15,color:this.props.color||"#c45a8e",loading:this.state.loading,margin:2}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component),vt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},kt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n,r,i;return Object(u.a)(this,a),(i=t.call(this,e)).player=void 0,i.ref=function(e){i.player=e},i.onAdd=i.onAdd.bind(Object(d.a)(i)),i.onDelete=i.onDelete.bind(Object(d.a)(i)),i.onPlay=i.onPlay.bind(Object(d.a)(i)),i.getPlaylist=i.getPlaylist.bind(Object(d.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(d.a)(i)),i.AddToPlaylist=i.AddToPlaylist.bind(Object(d.a)(i)),i.onDeleteFromPlaylist=i.onDeleteFromPlaylist.bind(Object(d.a)(i)),i.addPlaylistToQueue=i.addPlaylistToQueue.bind(Object(d.a)(i)),i.loadPlaylist=i.loadPlaylist.bind(Object(d.a)(i)),i.playPlaylist=i.playPlaylist.bind(Object(d.a)(i)),i.makePlaylist=i.makePlaylist.bind(Object(d.a)(i)),i.Updateplaylist=i.Updateplaylist.bind(Object(d.a)(i)),i.deletePlaylist=i.deletePlaylist.bind(Object(d.a)(i)),i.UpdateCurrentPlaylist=i.UpdateCurrentPlaylist.bind(Object(d.a)(i)),i.shuffleQueue=i.shuffleQueue.bind(Object(d.a)(i)),i.clearQueue=i.clearQueue.bind(Object(d.a)(i)),i.setQueue=i.setQueue.bind(Object(d.a)(i)),i.setUrl=i.setUrl.bind(Object(d.a)(i)),i.setPlaylist=i.setPlaylist.bind(Object(d.a)(i)),i.setTitle=i.setTitle.bind(Object(d.a)(i)),i.setPlaying=i.setPlaying.bind(Object(d.a)(i)),i.playNext=i.playNext.bind(Object(d.a)(i)),i.state={items:[],queue:[],playlist:[],contentDetails:[],Allplaylists:[],playlists:(null===(n=i.props)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.playlists)||[],loading:!1,updated:!1,url:"",playing:!0,playlistId:"",playlistName:"",error:!1,title:"",user:null,token:"",userName:"",userRole:"",loadingPlaylist:!1},i}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||(this.setState({user:this.props.data}),this.setState({playlists:this.props.data.playlists}))}},{key:"playNext",value:function(e){var t=Object.assign({},e);t.uniqueId=Math.random(),this.state.queue.unshift(t),this.setState({updated:!0}),lt.a.notify(r.a.createElement("span",null,e.title," added to in front of the queue."),{duration:800})}},{key:"setPlaying",value:function(e){this.setState({playing:e})}},{key:"setQueue",value:function(e){console.log(this.state.url),this.setState({queue:e}),console.log(this.state.url)}},{key:"isSame",value:function(e,t){for(var a=0;a<e.length;a++)if(e[a].title!==t[a].title)return!1;return!0}},{key:"shuffleQueue",value:function(){for(var e=this.state.queue,t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}this.setState({queue:e})}},{key:"clearQueue",value:function(){"undefined"!==typeof this.state.queue[0]&&this.setState({queue:[]})}},{key:"setPlaylist",value:function(e){this.setState({playlist:e}),console.log(e)}},{key:"componentDidMount",value:function(){var e=ne.currentUserValue;e&&e.token&&this.setState({token:e.token,userName:e.user.name,userRole:e.user.role})}},{key:"componentWillUnmount",value:function(){}},{key:"playPlaylist",value:function(e){for(var t=[],a=0;a<e.length;a++)if(0===a){var n=new rt(e[a].title,e[a].channelTitle,e[a].videoId,Math.random(),e[a].duration);this.onPlay(n)}else{var i=new rt(e[a].title,e[a].channelTitle,e[a].videoId,Math.random(),e[a].duration);t.push(i)}this.setState({queue:t}),lt.a.notify(r.a.createElement("span",{className:"styled-toast"},"Now playing: ",this.state.playlistName),{duration:1200})}},{key:"addPlaylistToQueue",value:function(e){for(var t=this.state.queue,a=0;a<e.length;a++){var n=new rt(e[a].title,e[a].channelTitle,e[a].videoId,Math.random(),e[a].duration);t.push(n)}this.setState({queue:t}),lt.a.notify(r.a.createElement("span",null,this.state.playlistName," added to the queue!"),{duration:1200})}},{key:"AddToPlaylist",value:function(e){var t=this;console.log(e),""===this.state.playlistId&&""===this.state.playlistName?(alert("No playlist selected. Creating a new playlist.\nGenerating name..."),this.state.playlist.push(e),this.makePlaylist(function(){var e=["abandoned","able","absolute","adorable","adventurous","academic","acceptable","acclaimed","accomplished","accurate","aching","acidic","acrobatic","active","actual","adept","admirable","admired","adolescent","adorable","adored","advanced","afraid","affectionate","aged","aggravating","aggressive","agile","agitated","agonizing","agreeable","ajar","alarmed","alarming","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","amusing","anchored","ancient","angelic","angry","anguished","animated","annual","another","antique","anxious","any","apprehensive","appropriate","apt","arctic","arid","aromatic","artistic","ashamed","assured","astonishing","athletic","attached","attentive","attractive","austere","authentic","authorized","automatic","avaricious","average","aware","awesome","awful","awkward","babyish","bad","back","baggy","bare","barren","basic","beautiful","belated","beloved","beneficial","better","best","bewitched","big","big-hearted","biodegradable","bite-sized","bitter","black","black-and-white","bland","blank","blaring","bleak","blind","blissful","blond","blue","blushing","bogus","boiling","bold","bony","boring","bossy","both","bouncy","bountiful","bowed","brave","breakable","brief","bright","brilliant","brisk","broken","bronze","brown","bruised","bubbly","bulky","bumpy","buoyant","burdensome","burly","bustling","busy","buttery","buzzing","calculating","calm","candid","canine","capital","carefree","careful","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","cheery","chief","chilly","chubby","circular","classic","clean","clear","clear-cut","clever","close","closed","cloudy","clueless","clumsy","cluttered","coarse","cold","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complex","complicated","composed","concerned","concrete","confused","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","coordinated","corny","corrupt","costly","courageous","courteous","crafty","crazy","creamy","creative","creepy","criminal","crisp","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cultured","cumbersome","curly","curvy","cute","cylindrical","damaged","damp","dangerous","dapper","daring","darling","dark","dazzling","dead","deadly","deafening","dear","dearest","decent","decimal","decisive","deep","defenseless","defensive","defiant","deficient","definite","definitive","delayed","delectable","delicious","delightful","delirious","demanding","dense","dental","dependable","dependent","descriptive","deserted","detailed","determined","devoted","different","difficult","digital","diligent","dim","dimpled","dimwitted","direct","disastrous","discrete","disfigured","disgusting","disloyal","dismal","distant","downright","dreary","dirty","disguised","dishonest","dismal","distant","distinct","distorted","dizzy","dopey","doting","double","downright","drab","drafty","dramatic","dreary","droopy","dry","dual","dull","dutiful","each","eager","earnest","early","easy","easy-going","ecstatic","edible","educated","elaborate","elastic","elated","elderly","electric","elegant","elementary","elliptical","embarrassed","embellished","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enormous","enraged","entire","envious","equal","equatorial","essential","esteemed","ethical","euphoric","even","evergreen","everlasting","every","evil","exalted","excellent","exemplary","exhausted","excitable","excited","exciting","exotic","expensive","experienced","expert","extraneous","extroverted","extra-large","extra-small","fabulous","failing","faint","fair","faithful","fake","false","familiar","famous","fancy","fantastic","far","faraway","far-flung","far-off","fast","fat","fatal","fatherly","favorable","favorite","fearful","fearless","feisty","feline","female","feminine","few","fickle","filthy","fine","finished","firm","first","firsthand","fitting","fixed","flaky","flamboyant","flashy","flat","flawed","flawless","flickering","flimsy","flippant","flowery","fluffy","fluid","flustered","focused","fond","foolhardy","foolish","forceful","forked","formal","forsaken","forthright","fortunate","fragrant","frail","frank","frayed","free","French","fresh","frequent","friendly","frightened","frightening","frigid","frilly","frizzy","frivolous","front","frosty","frozen","frugal","fruitful","full","fumbling","functional","funny","fussy","fuzzy","gargantuan","gaseous","general","generous","gentle","genuine","giant","giddy","gigantic","gifted","giving","glamorous","glaring","glass","gleaming","gleeful","glistening","glittering","gloomy","glorious","glossy","glum","golden","good","good-natured","gorgeous","graceful","gracious","grand","grandiose","granular","grateful","grave","gray","great","greedy","green","gregarious","grim","grimy","gripping","grizzled","gross","grotesque","grouchy","grounded","growing","growling","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","half","handmade","handsome","handy","happy","happy-go-lucky","hard","hard-to-find","harmful","harmless","harmonious","harsh","hasty","hateful","haunting","healthy","heartfelt","hearty","heavenly","heavy","hefty","helpful","helpless","hidden","hideous","high","high-level","hilarious","hoarse","hollow","homely","honest","honorable","honored","hopeful","horrible","hospitable","hot","huge","humble","humiliating","humming","humongous","hungry","hurtful","husky","icky","icy","ideal","idealistic","identical","idle","idiotic","idolized","ignorant","ill","illegal","ill-fated","ill-informed","illiterate","illustrious","imaginary","imaginative","immaculate","immaterial","immediate","immense","impassioned","impeccable","impartial","imperfect","imperturbable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incompatible","incomplete","inconsequential","incredible","indelible","inexperienced","indolent","infamous","infantile","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","insubstantial","intelligent","intent","intentional","interesting","internal","international","intrepid","ironclad","irresponsible","irritating","itchy","jaded","jagged","jam-packed","jaunty","jealous","jittery","joint","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","jumpy","juvenile","kaleidoscopic","keen","key","kind","kindhearted","kindly","klutzy","knobby","knotty","knowledgeable","knowing","known","kooky","kosher","lame","lanky","large","last","lasting","late","lavish","lawful","lazy","leading","lean","leafy","left","legal","legitimate","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","loathsome","lone","lonely","long","long-term","loose","lopsided","lost","loud","lovable","lovely","loving","low","loyal","lucky","lumbering","luminous","lumpy","lustrous","luxurious","mad","made-up","magnificent","majestic","major","male","mammoth","married","marvelous","masculine","massive","mature","meager","mealy","mean","measly","meaty","medical","mediocre","medium","meek","mellow","melodic","memorable","menacing","merry","messy","metallic","mild","milky","mindless","miniature","minor","minty","miserable","miserly","misguided","misty","mixed","modern","modest","moist","monstrous","monthly","monumental","moral","mortified","motherly","motionless","mountainous","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","naive","narrow","nasty","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","noisy","nonstop","normal","notable","noted","noteworthy","novel","noxious","numb","nutritious","nutty","obedient","obese","oblong","oily","oblong","obvious","occasional","odd","oddball","offbeat","offensive","official","old","old-fashioned","only","open","optimal","optimistic","opulent","orange","orderly","organic","ornate","ornery","ordinary","original","other","our","outlying","outgoing","outlandish","outrageous","outstanding","oval","overcooked","overdue","overjoyed","overlooked","palatable","pale","paltry","parallel","parched","partial","passionate","past","pastel","peaceful","peppery","perfect","perfumed","periodic","perky","personal","pertinent","pesky","pessimistic","petty","phony","physical","piercing","pink","pitiful","plain","plaintive","plastic","playful","pleasant","pleased","pleasing","plump","plush","polished","polite","political","pointed","pointless","poised","poor","popular","portly","posh","positive","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","precious","previous","pricey","prickly","primary","prime","pristine","private","prize","probable","productive","profitable","profuse","proper","proud","prudent","punctual","pungent","puny","pure","purple","pushy","putrid","puzzled","puzzling","quaint","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quick-witted","quiet","quintessential","quirky","quixotic","quizzical","radiant","ragged","rapid","rare","rash","raw","recent","reckless","rectangular","ready","real","realistic","reasonable","red","reflecting","regal","regular","reliable","relieved","remarkable","remorseful","remote","repentant","required","respectful","responsible","repulsive","revolving","rewarding","rich","rigid","right","ringed","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","rundown","ruddy","rude","runny","rural","rusty","sad","safe","salty","same","sandy","sane","sarcastic","sardonic","satisfied","scaly","scarce","scared","scary","scented","scholarly","scientific","scornful","scratchy","scrawny","second","secondary","second-hand","secret","self-assured","self-reliant","selfish","sentimental","separate","serene","serious","serpentine","several","severe","shabby","shadowy","shady","shallow","shameful","shameless","sharp","shimmering","shiny","shocked","shocking","shoddy","short","short-term","showy","shrill","shy","sick","silent","silky","silly","silver","similar","simple","simplistic","sinful","single","sizzling","skeletal","skinny","sleepy","slight","slim","slimy","slippery","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","solid","somber","some","spherical","sophisticated","sore","sorrowful","soulful","soupy","sour","Spanish","sparkling","sparse","specific","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spotted","spry","square","squeaky","squiggly","stable","staid","stained","stale","standard","starchy","stark","starry","steep","sticky","stiff","stimulating","stingy","stormy","straight","strange","steel","strict","strident","striking","striped","strong","studious","stunning","stupendous","stupid","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","sure-footed","surprised","suspicious","svelte","sweaty","sweet","sweltering","swift","sympathetic","tall","talkative","tame","tan","tangible","tart","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","terrific","testy","thankful","that","these","thick","thin","third","thirsty","this","thorough","thorny","those","thoughtful","threadbare","thrifty","thunderous","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","traumatic","treasured","tremendous","tragic","trained","tremendous","triangular","tricky","trifling","trim","trivial","troubled","true","trusting","trustworthy","trusty","truthful","tubby","turbulent","twin","ugly","ultimate","unacceptable","unaware","uncomfortable","uncommon","unconscious","understated","unequaled","uneven","unfinished","unfit","unfolded","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","united","unkempt","unknown","unlawful","unlined","unlucky","unnatural","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwitting","unwritten","upbeat","upright","upset","urban","usable","used","useful","useless","utilized","utter","vacant","vague","vain","valid","valuable","vapid","variable","vast","velvety","venerated","vengeful","verifiable","vibrant","vicious","victorious","vigilant","vigorous","villainous","violet","violent","virtual","virtuous","visible","vital","vivacious","vivid","voluminous","wan","warlike","warm","warmhearted","warped","wary","wasteful","watchful","waterlogged","watery","wavy","wealthy","weak","weary","webbed","wee","weekly","weepy","weighty","weird","welcome","well-documented","well-groomed","well-informed","well-lit","well-made","well-off","well-to-do","well-worn","wet","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wide-eyed","wiggly","wild","willing","wilted","winding","windy","winged","wiry","wise","witty","wobbly","woeful","wonderful","wooden","woozy","wordy","worldly","worn","worried","worrisome","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yawning","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty","zigzag","rocky"],t=["people","history","way","art","world","information","map","family","government","health","system","computer","meat","year","thanks","music","person","reading","method","data","food","understanding","theory","law","bird","literature","problem","software","control","knowledge","power","ability","economics","love","internet","television","science","library","nature","fact","product","idea","temperature","investment","area","society","activity","story","industry","media","thing","oven","community","definition","safety","quality","development","language","management","player","variety","video","week","security","country","exam","movie","organization","equipment","physics","analysis","policy","series","thought","basis","boyfriend","direction","strategy","technology","army","camera","freedom","paper","environment","child","instance","month","truth","marketing","university","writing","article","department","difference","goal","news","audience","fishing","growth","income","marriage","user","combination","failure","meaning","medicine","philosophy","teacher","communication","night","chemistry","disease","disk","energy","nation","road","role","soup","advertising","location","success","addition","apartment","education","math","moment","painting","politics","attention","decision","event","property","shopping","student","wood","competition","distribution","entertainment","office","population","president","unit","category","cigarette","context","introduction","opportunity","performance","driver","flight","length","magazine","newspaper","relationship","teaching","cell","dealer","debate","finding","lake","member","message","phone","scene","appearance","association","concept","customer","death","discussion","housing","inflation","insurance","mood","woman","advice","blood","effort","expression","importance","opinion","payment","reality","responsibility","situation","skill","statement","wealth","application","city","county","depth","estate","foundation","grandmother","heart","perspective","photo","recipe","studio","topic","collection","depression","imagination","passion","percentage","resource","setting","ad","agency","college","connection","criticism","debt","description","memory","patience","secretary","solution","administration","aspect","attitude","director","personality","psychology","recommendation","response","selection","storage","version","alcohol","argument","complaint","contract","emphasis","highway","loss","membership","possession","preparation","steak","union","agreement","cancer","currency","employment","engineering","entry","interaction","limit","mixture","preference","region","republic","seat","tradition","virus","actor","classroom","delivery","device","difficulty","drama","election","engine","football","guidance","hotel","match","owner","priority","protection","suggestion","tension","variation","anxiety","atmosphere","awareness","bread","climate","comparison","confusion","construction","elevator","emotion","employee","employer","guest","height","leadership","mall","manager","operation","recording","respect","sample","transportation","boring","charity","cousin","disaster","editor","efficiency","excitement","extent","feedback","guitar","homework","leader","mom","outcome","permission","presentation","promotion","reflection","refrigerator","resolution","revenue","session","singer","tennis","basket","bonus","cabinet","childhood","church","clothes","coffee","dinner","drawing","hair","hearing","initiative","judgment","lab","measurement","mode","mud","orange","poetry","police","possibility","procedure","queen","ratio","relation","restaurant","satisfaction","sector","signature","significance","song","tooth","town","vehicle","volume","wife","accident","airport","appointment","arrival","assumption","baseball","chapter","committee","conversation","database","enthusiasm","error","explanation","farmer","gate","girl","hall","historian","hospital","injury","instruction","maintenance","manufacturer","meal","perception","pie","poem","presence","proposal","reception","replacement","revolution","river","son","speech","tea","village","warning","winner","worker","writer","assistance","breath","buyer","chest","chocolate","conclusion","contribution","cookie","courage","desk","drawer","establishment","examination","garbage","grocery","honey","impression","improvement","independence","insect","inspection","inspector","king","ladder","menu","penalty","piano","potato","profession","professor","quantity","reaction","requirement","salad","sister","supermarket","tongue","weakness","wedding","affair","ambition","analyst","apple","assignment","assistant","bathroom","bedroom","beer","birthday","celebration","championship","cheek","client","consequence","departure","diamond","dirt","ear","fortune","friendship","funeral","gene","girlfriend","hat","indication","intention","lady","midnight","negotiation","obligation","passenger","pizza","platform","poet","pollution","recognition","reputation","shirt","speaker","stranger","surgery","sympathy","tale","throat","trainer","uncle","youth","time","work","film","water","money","example","while","business","study","game","life","form","air","day","place","number","part","field","fish","back","process","heat","hand","experience","job","book","end","point","type","home","economy","value","body","market","guide","interest","state","radio","course","company","price","size","card","list","mind","trade","line","care","group","risk","word","fat","force","key","light","training","name","school","top","amount","level","order","practice","research","sense","service","piece","web","boss","sport","fun","house","page","term","test","answer","sound","focus","matter","kind","soil","board","oil","picture","access","garden","range","rate","reason","future","site","demand","exercise","image","case","cause","coast","action","age","bad","boat","record","result","section","building","mouse","cash","class","period","plan","store","tax","side","subject","space","rule","stock","weather","chance","figure","man","model","source","beginning","earth","program","chicken","design","feature","head","material","purpose","question","rock","salt","act","birth","car","dog","object","scale","sun","note","profit","rent","speed","style","war","bank","craft","half","inside","outside","standard","bus","exchange","eye","fire","position","pressure","stress","advantage","benefit","box","frame","issue","step","cycle","face","item","metal","paint","review","room","screen","structure","view","account","ball","discipline","medium","share","balance","bit","black","bottom","choice","gift","impact","machine","shape","tool","wind","address","average","career","culture","morning","pot","sign","table","task","condition","contact","credit","egg","hope","ice","network","north","square","attempt","date","effect","link","post","star","voice","capital","challenge","friend","self","shot","brush","couple","exit","front","function","lack","living","plant","plastic","spot","summer","taste","theme","track","wing","brain","button","click","desire","foot","gas","influence","notice","rain","wall","base","damage","distance","feeling","pair","savings","staff","sugar","target","text","animal","author","budget","discount","file","ground","lesson","minute","officer","phase","reference","register","sky","stage","stick","title","trouble","bowl","bridge","campaign","character","club","edge","evidence","fan","letter","lock","maximum","novel","option","pack","park","quarter","skin","sort","weight","baby","background","carry","dish","factor","fruit","glass","joint","master","muscle","red","strength","traffic","trip","vegetable","appeal","chart","gear","ideal","kitchen","land","log","mother","net","party","principle","relative","sale","season","signal","spirit","street","tree","wave","belt","bench","commission","copy","drop","minimum","path","progress","project","sea","south","status","stuff","ticket","tour","angle","blue","breakfast","confidence","daughter","degree","doctor","dot","dream","duty","essay","father","fee","finance","hour","juice","luck","milk","mouth","peace","pipe","stable","storm","substance","team","trick","afternoon","bat","beach","blank","catch","chain","consideration","cream","crew","detail","gold","interview","kid","mark","mission","pain","pleasure","score","screw","sex","shop","shower","suit","tone","window","agent","band","bath","block","bone","calendar","candidate","cap","coat","contest","corner","court","cup","district","door","east","finger","garage","guarantee","hole","hook","implement","layer","lecture","lie","manner","meeting","nose","parking","partner","profile","rice","routine","schedule","swimming","telephone","tip","winter","airline","bag","battle","bed","bill","bother","cake","code","curve","designer","dimension","dress","ease","emergency","evening","extension","farm","fight","gap","grade","holiday","horror","horse","host","husband","loan","mistake","mountain","nail","noise","occasion","package","patient","pause","phrase","proof","race","relief","sand","sentence","shoulder","smoke","stomach","string","tourist","towel","vacation","west","wheel","wine","arm","aside","associate","bet","blow","border","branch","breast","brother","buddy","bunch","chip","coach","cross","document","draft","dust","expert","floor","god","golf","habit","iron","judge","knife","landscape","league","mail","mess","native","opening","parent","pattern","pin","pool","pound","request","salary","shame","shelter","shoe","silver","tackle","tank","trust","assist","bake","bar","bell","bike","blame","boy","brick","chair","closet","clue","collar","comment","conference","devil","diet","fear","fuel","glove","jacket","lunch","monitor","mortgage","nurse","pace","panic","peak","plane","reward","row","sandwich","shock","spite","spray","surprise","till","transition","weekend","welcome","yard","alarm","bend","bicycle","bite","blind","bottle","cable","candle","clerk","cloud","concert","counter","flower","grandfather","harm","knee","lawyer","leather","load","mirror","neck","pension","plate","purple","ruin","ship","skirt","slice","snow","specialist","stroke","switch","trash","tune","zone","anger","award","bid","bitter","boot","bug","camp","candy","carpet","cat","champion","channel","clock","comfort","cow","crack","engineer","entrance","fault","grass","guy","hell","highlight","incident","island","joke","jury","leg","lip","mate","motor","nerve","passage","pen","pride","priest","prize","promise","resident","resort","ring","roof","rope","sail","scheme","script","sock","station","toe","tower","truck","witness","can","will","other","use","make","good","look","help","go","great","being","still","public","read","keep","start","give","human","local","general","specific","long","play","feel","high","put","common","set","change","simple","past","big","possible","particular","major","personal","current","national","cut","natural","physical","show","try","check","second","call","move","pay","let","increase","single","individual","turn","ask","buy","guard","hold","main","offer","potential","professional","international","travel","cook","alternative","special","working","whole","dance","excuse","cold","commercial","low","purchase","deal","primary","worth","fall","necessary","positive","produce","search","present","spend","talk","creative","tell","cost","drive","green","support","glad","remove","return","run","complex","due","effective","middle","regular","reserve","independent","leave","original","reach","rest","serve","watch","beautiful","charge","active","break","negative","safe","stay","visit","visual","affect","cover","report","rise","walk","white","junior","pick","unique","classic","final","lift","mix","private","stop","teach","western","concern","familiar","fly","official","broad","comfortable","gain","rich","save","stand","young","heavy","lead","listen","valuable","worry","handle","leading","meet","release","sell","finish","normal","press","ride","secret","spread","spring","tough","wait","brown","deep","display","flow","hit","objective","shoot","touch","cancel","chemical","cry","dump","extreme","push","conflict","eat","fill","formal","jump","kick","opposite","pass","pitch","remote","total","treat","vast","abuse","beat","burn","deposit","print","raise","sleep","somewhere","advance","consist","dark","double","draw","equal","fix","hire","internal","join","kill","sensitive","tap","win","attack","claim","constant","drag","drink","guess","minor","pull","raw","soft","solid","wear","weird","wonder","annual","count","dead","doubt","feed","forever","impress","repeat","round","sing","slide","strip","wish","combine","command","dig","divide","equivalent","hang","hunt","initial","march","mention","spiritual","survey","tie","adult","brief","crazy","escape","gather","hate","prior","repair","rough","sad","scratch","sick","strike","employ","external","hurt","illegal","laugh","lay","mobile","nasty","ordinary","respond","royal","senior","split","strain","struggle","swim","train","upper","wash","yellow","convert","crash","dependent","fold","funny","grab","hide","miss","permit","quote","recover","resolve","roll","sink","slip","spare","suspect","sweet","swing","twist","upstairs","usual","abroad","brave","calm","concentrate","estimate","grand","male","mine","prompt","quiet","refuse","regret","reveal","rush","shake","shift","shine","steal","suck","surround","bear","brilliant","dare","dear","delay","drunk","female","hurry","inevitable","invite","kiss","neat","pop","punch","quit","reply","representative","resist","rip","rub","silly","smile","spell","stretch","stupid","tear","temporary","tomorrow","wake","wrap","yesterday","Thomas","Tom","Lieuwe"];return e[nt(e.length-1,0)]+" "+t[nt(t.length-1,0)]}(),this.state.playlist,!0,"Random"),this.setState({updated:!this.state.updated}),setTimeout((function(){return t.Updateplaylist(t.state.playlistName,t.state.playlistId,t.state.private)}),100),lt.a.notify(r.a.createElement("span",null,e.title," added to the playlist."),{duration:750})):(this.state.playlist.push(e),this.Updateplaylist(this.state.playlistName,this.state.playlistId,this.state.private),this.setState({updated:!this.state.updated}),lt.a.notify(r.a.createElement("span",null,e.title," added to the playlist."),{duration:750}))}},{key:"onDeleteFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.playlist[0]){for(var t=0;t<this.state.playlist.length;t++)if(this.state.playlist[t].uniqueId===e.uniqueId){this.state.playlist.splice(t,1);break}this.setState({updated:!this.state.updated})}}},{key:"handleSubmit",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,B(t);case 3:if(a=e.sent,console.log(a),null!==a){e.next=8;break}return this.setState({error:!0}),e.abrupt("return");case 8:this.setState({items:a,loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit2",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,B(t);case 3:if(null!==(a=e.sent)){e.next=7;break}return this.setState({error:!0}),e.abrupt("return");case 7:return n=[],a.map((function(e){return n.push(e.id.videoId)})),n=n.join(","),e.next=12,z(n);case 12:r=e.sent,this.setState({items:a,contentDetails:r,loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingPlaylist:!0}),e.next=3,K(t);case 3:return a=e.sent,this.setState({playlist:a.data.playlist,playlistName:a.data.name,playlistId:a.data._id,loading:!1,private:a.data.private,playlistOwner:a.data.owner,loadingPlaylist:!1}),e.abrupt("return","OK");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadUser();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r){var i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({playlist:a}),i=JSON.stringify({name:t,playlist:a,isPrivate:n,owner:this.state.userName,genre:r}),e.next=4,J(i);case 4:return s=e.sent,l=s.data,console.log(s),X(l._id,l.name,l.private,l.owner,l.createdAt,this.state.token),this.setState({playlistId:s.data._id,playlistName:s.data.name,private:n}),e.next=11,vt(500);case 11:this.getPlaylist();case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"UpdateCurrentPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.Updateplaylist(this.state.playlistName,this.state.playlistId,this.state.private);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Updateplaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n){var r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.state.playlist,console.log(n),i=JSON.stringify({name:t,playlist:r,private:n}),e.next=5,W(i,a);case 5:return s=e.sent,$(a,t,n,this.state.token),this.setState({playlistName:s.data.name,playlist:r}),e.next=10,vt(500);case 10:this.getPlaylist();case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.playlistId===t&&this.setState({playlistId:"",playlistName:"",playlist:[]}),a=0;case 2:if(!(a<this.state.playlists.length)){e.next=9;break}if(this.state.playlists[a]._id!==t){e.next=6;break}return this.state.playlists.splice(a,1),e.abrupt("break",9);case 6:a++,e.next=2;break;case 9:return this.setState({updated:!0}),e.next=12,Z(t,this.state.token);case 12:return e.next=14,vt(3e4);case 14:this.getPlaylist();case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAdd",value:function(e){var t=Object.assign({},e);t.uniqueId=Math.random(),this.state.queue.push(t),this.setState({updated:!this.state.updated}),lt.a.notify(r.a.createElement("span",null,e.title," added to the queue."),{duration:800})}},{key:"onDelete",value:function(e){if(e&&"undefined"!==typeof this.state.queue[0]){for(var t=0;t<this.state.queue.length;t++)if(this.state.queue[t].uniqueId===e.uniqueId){this.state.queue.splice(t,1);break}this.setState({updated:!this.state.updated})}}},{key:"setUrl",value:function(e){this.setState({url:e,playing:!0})}},{key:"onPlay",value:function(e){if(e){console.log(e),this.state.queue.unshift(e);var t=e.videoId,a=e.title,n="https://www.youtube.com/watch?v="+t;n===this.state.url&&this.player.seekTo0(),this.setState({url:n,playing:!0,updated:!0,title:a}),this.player.handleEnded()}}},{key:"setTitle",value:function(e){this.setState({title:e})}},{key:"render",value:function(){var e=this.state.queue,t=this.state.url,a=this.state.playlists,n=this.state.playlist;return console.log(this.state.playlists),console.log(this.props),r.a.createElement("div",{className:this.props.darkMode?"homepage-div":"homepage-div2"},r.a.createElement("div",{id:"spinnerDivHomePage"},this.state.loadingPlaylist?r.a.createElement(bt,{size:50,color:"white"}):null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{sm:"8",className:"homepage2"},r.a.createElement(le.a,null,r.a.createElement(oe.a,{sm:"2",className:"sidebar"},r.a.createElement(at,{loadPlaylist:this.loadPlaylist,playlists:a,getPlaylist:this.getPlaylist})),r.a.createElement(oe.a,{sm:"10",className:"playlist"},r.a.createElement("br",null),r.a.createElement($e,{playNext:this.playNext,userName:this.state.userName,userRole:this.state.userRole,playlists:a,playlistOwner:this.state.playlistOwner,isPrivate:this.state.private,playlist:n,playlistName:this.state.playlistName,playlistId:this.state.playlistId,getPlayList:this.getPlaylist,loadPlaylist:this.loadPlaylist,onDeleteFromPlaylist:this.onDeleteFromPlaylist,onPlay:this.onPlay,addPlaylistToQueue:this.addPlaylistToQueue,onRemove:this.onDelete,playPlaylist:this.playPlaylist,makePlaylist:this.makePlaylist,Updateplaylist:this.Updateplaylist,deletePlaylist:this.deletePlaylist,onAdd:this.onAdd,UpdateCurrentPlaylist:this.UpdateCurrentPlaylist,setPlaylist:this.setPlaylist})))),r.a.createElement(oe.a,{sm:"4",className:"homepage3"},r.a.createElement("br",null),r.a.createElement(Oe,{handleSubmit:this.handleSubmit}),r.a.createElement("hr",null),r.a.createElement(ke,{playNext:this.playNext,loading:this.state.loading,items:this.state.items,onAdd:this.onAdd,onPlay:this.onPlay,AddToPlaylist:this.AddToPlaylist,error:this.state.error}),r.a.createElement(qe,{queue:e,onRemove:this.onDelete,onPlay:this.onPlay,shuffleQueue:this.shuffleQueue,clearQueue:this.clearQueue,setQueue:this.setQueue}))),r.a.createElement(le.a,null,r.a.createElement(oe.a,{sm:"12",className:"mediaplayer"},r.a.createElement(yt,{ref:this.ref,array:e,onRemove:this.onDelete,url:t,playing:this.state.playing,title:this.state.title,onAdd:this.onAdd,AddToPlaylist:this.AddToPlaylist,onPlay:this.onPlay,setUrl:this.setUrl,setTitle:this.setTitle,setPlaying:this.setPlaying})))))}}]),a}(n.Component),Et=(a(495),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),wt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(Le.a)({},e.target.name,e.target.value))},n.togglePanel=function(){n.setState({active:!n.state.active})},n.signUpSubmit=function(e){e.preventDefault();var t=n.state,a={signUpName:t.signUpName,signUpEmail:t.signUpEmail,signUpPassword:t.signUpPassword,role:"User"};n.signUp(a)},n.signInSubmit=function(e){e.preventDefault(),n.login(n.state.email,n.state.password)},n.state={active:!1,error:"",SignUpError:""},ne.currentUserValue&&n.props.history.push("/"),n.login=n.login.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"login",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Et(1500);case 3:return e.next=5,ne.login(t,a);case 5:n=e.sent,this.setState({loading:!1}),n?this.setState({error:n}):this.props.history.push("/");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Et(1500);case 3:return e.next=5,ne.signup(t);case 5:a=e.sent,this.setState({loading:!1}),a||this.props.history.push("/"),a&&a.data.error[0]&&(n=a.data.error[0],this.setState({SignUpError:n.name||n.email||n.password||a.data.error}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:this.state.active?"ss right-panel-active":"ss"},r.a.createElement("h1",{className:"position"},"WELCOME TO TUBEMUSIC"),r.a.createElement(je.a,{id:"login-container"},r.a.createElement(je.a,{className:"form-container sign-up-container"},r.a.createElement(Qe.a,{onSubmit:this.signUpSubmit},r.a.createElement("h1",null,"Create an account"),r.a.createElement("br",null),this.state.SignUpError?r.a.createElement("div",{className:"error2"},this.state.SignUpError):r.a.createElement("span",{className:"span2"},"Please fill in the form to create a new account!"),r.a.createElement("br",null),r.a.createElement(He.a,null,r.a.createElement(Pe.a,{name:"signUpName",autoComplete:"username",type:"text",placeholder:"Name",onChange:this.onChange,required:!0})),r.a.createElement(He.a,null,r.a.createElement(Pe.a,{name:"signUpEmail",type:"email",autoComplete:"email",placeholder:"Email",onChange:this.onChange,required:!0})),r.a.createElement(He.a,null,r.a.createElement(Pe.a,{name:"signUpPassword",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.onChange,required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:this.state.loading?"loading":""},this.state.loading?"Loading...":"Sign up"),this.state.loading?r.a.createElement("div",{className:"spin"}):""))),r.a.createElement(je.a,{className:"form-container sign-in-container"},r.a.createElement(Qe.a,{onSubmit:this.signInSubmit},r.a.createElement("h1",null,"Sign in"),r.a.createElement("br",null),this.state.error?r.a.createElement("div",{className:"error"},this.state.error):r.a.createElement("span",{className:"span2"},"Please login using your email and password!"),r.a.createElement("br",null),r.a.createElement(He.a,null,r.a.createElement(Pe.a,{name:"email",id:"email",type:"email",placeholder:"Email",autoComplete:"username",onChange:this.onChange,required:!0})),r.a.createElement(He.a,null,r.a.createElement(Pe.a,{name:"password",id:"password",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.onChange,required:!0})),r.a.createElement("a",{href:"# "},"Forgot your password?"),r.a.createElement("div",null,r.a.createElement("button",{className:this.state.loading?"loading":""},this.state.loading?"Signing in...":"Sign in"),this.state.loading?r.a.createElement("div",{className:"spin"}):""))),r.a.createElement("div",{className:"overlay-container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlay-panel overlay-left"},r.a.createElement("h1",null,"Already have an account?"),r.a.createElement("p",null,"To keep connected with us please login with your personal info"),r.a.createElement("button",{onClick:this.togglePanel,className:"ghost",id:"signIn"},"Sign In")),r.a.createElement("div",{className:"overlay-panel overlay-right"},r.a.createElement("h1",null,"Don't have an account yet?"),r.a.createElement("p",null,"No worries! Enter your personal details and start listening to music with us."),r.a.createElement("button",{onClick:this.togglePanel,className:"ghost",id:"signUp"},"Sign Up"))))))}}]),a}(n.Component),Pt=a(53),Ot=a(530),jt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={artistName:e.props.artistName,title:e.props.title,imported:e.props.imported},e}return Object(p.a)(a,[{key:"addToImport",value:function(e){this.props.addToImport(e)}},{key:"removeFromPlaylist",value:function(e){this.props.removeFromPlaylist(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement(de.a,null,this.state.title)),r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement(de.a,{className:"float-left"},this.state.artistName)),r.a.createElement(oe.a,{xs:"2",sm:"2"},this.props.createdAt),r.a.createElement(oe.a,{xs:"2",sm:"2"},this.state.imported?r.a.createElement(pe.a,{onClick:this.removeFromPlaylist.bind(this,this.props),className:"btn btn-primary",color:"danger"},"x"):r.a.createElement(pe.a,{onClick:this.addToImport.bind(this,this.props),className:"btn btn-primary",color:"primary"},"+"))))))}}]),a}(n.Component),xt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderRow=function(t){var a=t.index,n=(t.key,t.isScrolling,t.isVisible,t.style),i=e.props.tracks[a],s=i.title,l=i.artistName,o=i.id,c=i.createdAt;return r.a.createElement("div",{key:Math.random(),style:n},r.a.createElement(jt,{id:Math.random(),key:o,artistName:l,addToImport:e.props.addToImport,imported:!1,title:s,createdAt:c}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ce.a,null,(function(t){var a=t.width;return r.a.createElement(Ce.c,{width:a,height:550,rowCount:e.props.tracks.length,rowHeight:80,rowRenderer:e.renderRow})})))}}]),a}(n.Component),Nt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=(e.key,e.isScrolling,e.isVisible,e.style),i=n.props.toBeImportedPlaylist[t],s=i.title,l=i.artistName,o=i.id;return r.a.createElement("div",{key:o,style:a},r.a.createElement(jt,{key:o,id:o,artistName:l,importPlaylistToApp:n.props.importPlaylistToApp,removeFromPlaylist:n.removeFromPlaylist,imported:!0,title:s}))},n.state={toBeImportedPlaylist:n.props.toBeImportedPlaylist,updated:""},n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({toBeImportedPlaylist:this.props.toBeImportedPlaylist})}},{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,this.props.toBeImportedPlaylist.length," songs in the list."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ce.a,null,(function(t){var a=t.width;return r.a.createElement(Ce.c,{width:a,height:550,rowCount:e.props.toBeImportedPlaylist.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),Ct=(a(496),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),St=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({filter:e.target.value})},n.state={modal:n.props,description:n.props.description,imageUrl:n.props.imageUrl,name:n.props.name,id:n.props.id,key:n.props.id,trackRef:n.props.trackRef,totalTracks:n.props.totalTracks,ownerName:n.props.ownerName,chosenListsTracks:n.props.chosenListsTracks,toBeImportedPlaylist:[],importCount:0,loading:!1,imported:!1,progressValue:0,notFoundArray:[],filter:""},n.importPlaylistToApp=n.importPlaylistToApp.bind(Object(d.a)(n)),n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(d.a)(n)),n.addToImport=n.addToImport.bind(Object(d.a)(n)),n.toggle=n.toggle.bind(Object(d.a)(n)),n.moveAllToImport=n.moveAllToImport.bind(Object(d.a)(n)),n.clearList=n.clearList.bind(Object(d.a)(n)),n.webScrape=n.webScrape.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=ne.currentUserValue;e&&this.setState({token:e.token,userName:e.user.name})}},{key:"webScrape",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,i,s,l,c,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.toBeImportedPlaylist.length<1)){e.next=2;break}return e.abrupt("return");case 2:this.setState({loading:!0,progressValue:0,importCount:0}),t=[],a=this.state.toBeImportedPlaylist,n=this.state.toBeImportedPlaylist.length,r=1/n*100,i=50,s=0;case 9:if(!(n>s)){e.next=18;break}return e.next=12,M(a.slice(s,s+i));case 12:e.sent.forEach((function(e){t.push(e)})),this.setState({progressValue:r*t.length,importCount:t.filter((function(e){return null!==e})).length}),s+=i,e.next=9;break;case 18:return e.next=20,Ct(6500);case 20:if(!(t.length>0)){e.next=34;break}if(l=this.state.name,c=t.filter((function(e){return null!==e})),u=JSON.stringify({name:l,playlist:c,isPrivate:!0,owner:this.state.userName}),!(c.length>0)){e.next=32;break}return e.next=27,J(u);case 27:p=e.sent,X(p.data._id,p.data.name,p.data.private,p.data.owner,p.data.createdAt,this.state.token),200===p.status?this.setState({imported:!0,loading:!1}):(this.setState({imported:!1}),alert("Error making creating the playlist.")),e.next=34;break;case 32:this.setState({imported:!1}),alert("No songs were found.");case 34:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearList",value:function(){this.setState({toBeImportedPlaylist:[]})}},{key:"moveAllToImport",value:function(e){var t=this;e.forEach((function(e){return t.addToImport(e)}))}},{key:"toggle",value:function(){this.setState({toBeImportedPlaylist:[]}),this.props.toggle()}},{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({modal:this.props,description:this.props.description,imageUrl:this.props.imageUrl,name:this.props.name,id:this.props.id,key:this.props.id,trackRef:this.props.trackRef,totalTracks:this.props.totalTracks,ownerName:this.props.ownerName,chosenListsTracks:this.props.chosenListsTracks,imported:!1,progressValue:0,importCount:0})}},{key:"makePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({name:t,playlist:a}),e.next=3,J(n);case 3:r=e.sent,this.setState({playlistId:r.data._id,playlistName:r.data.name,playlist:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"importPlaylistToApp",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,i,s,l,c,u,p,d,m,h,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,progressValue:0,importCount:0}),t=this.state.toBeImportedPlaylist.length,a=1/t*100,n=[],r=this.state.toBeImportedPlaylist,i=0;case 6:if(!(i<r.length)){e.next=32;break}return s=r[i].artistName,l=r[i].title,c=l+" "+s,e.next=12,F(c);case 12:if(null!==(u=e.sent)){e.next=16;break}return this.setState({loading:!1,error:!0}),e.abrupt("return");case 16:return(p={}).videoId=u[0].id.videoId,p.title=u[0].snippet.title,p.publishedAt=u[0].snippet.publishedAt,p.description=u[0].snippet.description,p.channelTitle=u[0].snippet.channelTitle,e.next=24,z(u[0].id.videoId);case 24:d=e.sent,p.duration=d[0].contentDetails.duration,p.uniqueId=Math.random(),n.push(p),this.setState({progressValue:this.state.progressValue+a});case 29:i++,e.next=6;break;case 32:return m=this.state.name,h=JSON.stringify({name:m,playlist:n}),e.next=36,J(h);case 36:y=e.sent,this.setState({loading:!1,progressValue:0,importCount:0}),200===y.status?this.setState({imported:!0}):(this.setState({imported:!1}),alert("Error"));case 39:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"addToImport",value:function(e){var t={};t.artistName=e.artistName,t.title=e.title,t.id=Math.random(),this.state.toBeImportedPlaylist.push(t),this.setState({updated:!0})}},{key:"render",value:function(){var e=this.state.chosenListsTracks,t=this.state.filter,a=t.toLowerCase(),n=e.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(a)}))}));return r.a.createElement("div",null,r.a.createElement(Re.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,size:"lg",style:{maxWidth:"1600px",width:"100%",margin:"10px auto"}},r.a.createElement(Me.a,{className:"mb-4",toggle:this.props.toggle},r.a.createElement("span",null,"Songs in the playlist ",r.a.createElement("br",null),r.a.createElement("i",null,this.state.name)),r.a.createElement("span",{className:"inthemiddle"},"Playlist importer")),r.a.createElement(_e.a,null,r.a.createElement("span",null,"I recommend using webScraping for retrieving songs from YouTube."),this.state.notFoundArray.length>1?r.a.createElement("div",{id:"notFoundArray"},r.a.createElement("h3",null,"Following songs were not found:",r.a.createElement("br",null),r.a.createElement("br",null)),this.state.notFoundArray.map((function(e){var t=e.title,a=e.artistName;return r.a.createElement("span",{id:"notFoundItem",key:t},r.a.createElement("p",null,t)," by ",r.a.createElement("p",null,a," "),r.a.createElement("br",null))}))):"",this.state.error?r.a.createElement("div",null,r.a.createElement("span",{id:"errorImport"},"Daily limit exdeeded. Try again tomorrow.")):"",this.state.imported?r.a.createElement("span",{id:"successImport"},"Succesfully created the playlist!"):"",this.state.loading?r.a.createElement("div",{id:"LoadingSpot"},r.a.createElement("h2",{className:"loadingTitle"},"Importing songs"),r.a.createElement("div",{id:"spinner"},r.a.createElement(ve,{size:35,color:"#17a2b8"})),r.a.createElement("span",{className:"importedNumbers",id:"creatingInfo"},this.state.progressValue<100?"Importing songs...":"Creating playlist..."),r.a.createElement("span",{className:"importedNumbers"},this.state.importCount," /"," ",this.state.toBeImportedPlaylist.length," songs imported."),r.a.createElement("span",{className:"importedNumbers",id:"creatingInfo2"},this.state.progressValue>99&this.state.toBeImportedPlaylist.length!==this.state.importCount?"Unfortunately we were unable to import all of the songs":""),r.a.createElement("div",{id:"progressbar"},r.a.createElement(Ot.a,{animated:!0,color:"info",value:this.state.progressValue})),r.a.createElement("span",{className:"loadingInfo"},"Fetching songs from YouTube and adding them to our database... This might take awhile.")):"",r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(Nt,{importPlaylistToApp:this.importPlaylistToApp,removeFromPlaylist:this.removeFromPlaylist,toBeImportedPlaylist:this.state.toBeImportedPlaylist}))),r.a.createElement(oe.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement("p",null,n.length," songs"),r.a.createElement("span",{className:"float-right filterSpan"},"By ",this.props.ownerName),r.a.createElement("br",null),r.a.createElement(Pe.a,{value:t,onChange:this.handleChange,placeholder:"Filter songs based on artist, album or title..."}),r.a.createElement("br",null),r.a.createElement(xt,{ownerName:this.state.ownerName,totalTracks:this.state.totalTracks,tracks:n,addToImport:this.addToImport})))),r.a.createElement(le.a,{id:"lowerRow"},r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{disabled:!0,onClick:this.importPlaylistToApp},"Import playlist"))),r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{disabled:!(!this.state.loading&&this.state.toBeImportedPlaylist[0]),onClick:this.clearList},"Clear list"))),r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{disabled:this.state.loading,onClick:this.moveAllToImport.bind(this,n)},"Get all songs"))),r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{disabled:!(!this.state.loading&&this.state.toBeImportedPlaylist[0]),onClick:this.webScrape},"use webScraping"))))),r.a.createElement(pe.a,{onClick:this.toggle,className:"btn btn-primary"},"Cancel")))}}]),a}(n.Component),It=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleList=function(){n.setState({modal:!n.state.modal})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.state={modal:!1,description:n.props.description,imageUrl:n.props.imageUrl,name:n.props.name,id:n.props.id,key:n.props.id,trackRef:n.props.trackRef,totalTracks:n.props.totalTracks,ownerName:n.props.ownerName,token:n.props.token,chosenListsTracks:[],loading:!1},n.toggle=n.toggle.bind(Object(d.a)(n)),n.clickOnPlayList=n.clickOnPlayList.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"clickOnPlayList",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,i,s,l,c,u,p,d,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.state.token,e.next=4,V(this.state.id,t);case 4:a=e.sent,n=[],r=null,n=a.items,console.log(n);case 9:if(null===a.next||"undefined"===typeof a.next){e.next=19;break}return e.next=12,H(t,a.next);case 12:if(r=e.sent,n=n.concat(r.items),null!==r.next){e.next=16;break}return e.abrupt("break",19);case 16:a.next=r.next,e.next=9;break;case 19:for(i=[],s=[],l=[],c=[],u=[],p=[],(n=n.filter((function(e){return null!==e.track}))).forEach((function(e){return console.log(e.track.name)})),n.forEach((function(e){return i.push(e.track.name)})),n.forEach((function(e){return s.push(e.track.artists)})),n.forEach((function(e){return c.push(e.track.id)})),n.forEach((function(e){return u.push(e.track.album.name)})),n.forEach((function(e){return p.push(e.added_at)})),d=0;d<s.length;d++)(m={}).artistName=s[d][0].name,"undefined"!==typeof s[d][1]&&(m.artistName=m.artistName.concat(" & "+s[d][1].name)),m.title=i[d],m.id=c[d],m.album=u[d],m.createdAt=p[d],l.push(m);this.setState({loading:!1,chosenListsTracks:l}),this.toggleList(l);case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,this.state.loading?r.a.createElement(ve,null):""),r.a.createElement("a",{style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"1",sm:"1"}),r.a.createElement(oe.a,{xs:"8",sm:"8"},r.a.createElement(de.a,null,this.props.name)),r.a.createElement(oe.a,{xs:"3",sm:"3"},r.a.createElement("small",null,this.props.totalTracks," songs"))),r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"6",sm:"6"},r.a.createElement("small",{className:"float-left"},"By ",this.props.ownerName)))))),r.a.createElement(St,{isOpen:this.state.modal,toggle:this.toggle,description:this.state.description,imageUrl:this.state.imageUrl,name:this.state.name,id:this.state.id,key:this.state.id,trackRef:this.state.trackRef,totalTracks:this.state.totalTracks,ownerName:this.state.ownerName,chosenListsTracks:this.state.chosenListsTracks}))}}]),a}(n.Component),Tt=(a(497),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSortChange=function(e){var t,a=e.target.value,r=Object(Pt.a)(n.state.userPlaylists);switch(console.log(r),a){case"Latest":t=r;break;case"Last":t=r.sort((function(e,t){return e<t?1:-1}));break;case"By name":t=r.sort((function(e,t){return e.name>t.name?1:-1}));break;case"By owner":t=r.sort((function(e,t){return e.ownerName>t.ownerName?1:-1}))}console.log("Yeps..."),n.setState({sortedPlaylists:t})},n.handleChange=function(e){var t=n.state.userPlaylists,a=e.target.value.toLowerCase(),r=t.filter((function(e){return null===e||"undefined"===typeof e?t:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"imageUrl"!==t&&"description"!==t&&"trackRef"!==t&&e[t].toLowerCase().includes(a)}))}));console.log(r),n.setState({filter:e.target.value,filteredData:r})},n.state={loading:n.props.loading,userPlaylists:[],sortedPlaylists:[],filteredData:[],filter:""},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({loading:this.props.loading,userPlaylists:this.props.Userplaylists,filteredData:this.props.Userplaylists,sortedPlaylists:this.props.Userplaylists})}},{key:"render",value:function(){var e=this,t=this.state,a=t.filteredData,n=t.filter,i=t.sortedPlaylists.filter((function(e){return-1!==a.indexOf(e)}));return r.a.createElement("div",null,r.a.createElement("p",null,"Click on a playlist to see what songs there are, and to choose which songs will be imported."),r.a.createElement("div",{className:"inputDiv"},r.a.createElement(Pe.a,{id:"filterId",value:n,onChange:this.handleChange,placeholder:"Filter playlists..."}),r.a.createElement(Pe.a,{onChange:this.onSortChange,type:"select",name:"select",id:"exampleSelect"},r.a.createElement("option",{key:"Latest",value:"Latest"},"Latest"),r.a.createElement("option",{key:"Last",value:"Last"},"Last"),r.a.createElement("option",{key:"By name",value:"By name"},"By name"),r.a.createElement("option",{key:"By owner",value:"By owner"},"By owner"))),r.a.createElement("div",{id:i.length>0?"spotifyPlaylist":"template"},this.state.loading?r.a.createElement("div",{className:"loadingPlace"},r.a.createElement(ve,null)):r.a.createElement("div",null,i.map((function(t){var a=t.id,n=t.name,i=t.description,s=t.imageUrl,l=t.trackRef,o=t.totalTracks,c=t.ownerName;return r.a.createElement(It,{description:i,imageUrl:s,name:n,id:a,key:a,trackRef:l,totalTracks:o,ownerName:c,token:e.props.token})})))))}}]),a}(n.Component)),Ut=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={auth:!1,token:null,userPlaylists:[],display_name:"",user_id:"",nextPlaylists:null,loading:!1,chosenPlaylist:[]},n.getUserId=n.getUserId.bind(Object(d.a)(n)),n.getPlayListData=n.getPlayListData.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"getUserId",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Q(t);case 3:a=e.sent,setTimeout(function(){this.getPlayListData(t)}.bind(this),2e3),this.setState({display_name:a.data.display_name,user_id:a.data.id});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPlayListData",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r,i,s,l,c,u,p,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,_(t);case 3:a=e.sent,console.log(a),n=[],r=null,n=a.items;case 8:if("undefined"===typeof a.next||null===a.next){e.next=19;break}return console.log(t,a.next),e.next=12,H(t,a.next);case 12:if(r=e.sent,n=n.concat(r.items),null!==r.next){e.next=16;break}return e.abrupt("break",19);case 16:a.next=r.next,e.next=8;break;case 19:for(i=[],s=[],l=[],c=[],u=[],n.forEach((function(e){return e.images[0]?i.push(e.images[0].url):i.push(null)})),n.forEach((function(e){return s.push(e.tracks.href)})),n.forEach((function(e){return c.push(e.tracks.total)})),n.forEach((function(e){return l.push(e.owner.display_name)})),p=0;p<n.length;p++)(d={}).id=n[p].id,d.name=n[p].name,d.description=n[p].description,d.imageUrl=i[p],d.trackRef=s[p],d.ownerName=l[p],d.totalTracks=c[p],u.push(d);this.setState({loading:!1,userPlaylists:u});case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=window.location.href;"undefined"!==typeof(e=e.split("_token=")[1])?(e=e.split("&token")[0],this.setState({token:e,auth:!0}),this.getUserId(e)):this.setState({token:null,auth:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage-div"},r.a.createElement("br",null),r.a.createElement("h3",null,"Import your spotify playlists into the app!"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(le.a,null,r.a.createElement(oe.a,{sm:"4",className:"spotifypage1"},this.state.auth?r.a.createElement("span",null,"Hello, you are logged in as ",r.a.createElement("br",null),this.state.display_name," !"):"Please login to use the playlist importer!"),r.a.createElement(oe.a,{sm:"4",className:"spotifypage2"},r.a.createElement(pe.a,{href:"https://accounts.spotify.com/fi/authorize?client_id=dc20085012814f3d8cab4b36a4144393&response_type=token&redirect_uri=https:%2F%2Ftubemusicapp.herokuapp.com%2Fspotify&show_dialog=true&scope=playlist-read-private%20playlist-read-collaborative%20user-follow-read"},this.state.auth?"Change account.":"Log in.")),r.a.createElement(oe.a,{sm:"4",className:"spotifypage3"},this.state.auth?r.a.createElement(Tt,{Userplaylists:this.state.userPlaylists,loading:this.state.loading,token:this.state.token}):""))))}}]),a}(n.Component),At=a(261),Dt=function(e){var t=e.component,a=e.roles,n=Object(At.a)(e,["component","roles"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(e){var i=ne.currentUserValue;return i?a&&-1===a.indexOf(i.user.role)?r.a.createElement(y.a,{to:{pathname:"/"}}):r.a.createElement(t,Object.assign({},e,{data:n.data,darkMode:n.darkMode,loadUser:n.loadUser})):r.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},qt=a(82),Lt=a.n(qt),Rt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentUserInfo:n.props.currentUserInfo},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({currentUserInfo:this.props.currentUserInfo})}},{key:"clickOnPlayList",value:function(){this.props.getPlayListById(this.props.id)}},{key:"load",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ne.loadUser(t);case 3:null!==(n=e.sent)&&(n.playlists.forEach((function(e){a.push(e._id)})),this.setState({currentUserInfo:a}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),console.log(this.state),e.next=4,X(this.props.id,this.props.name,this.props.private,this.props.owner,this.props.createdAt,this.props.token);case 4:this.load(this.props.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(this.props.id);case 2:this.load(this.props.token);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.currentUserInfo||"",t=this.props.id;return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"2",sm:"2"},e.includes(t)?r.a.createElement("div",null,r.a.createElement(pe.a,{disabled:this.props.private,href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.unsubscribe.bind(this,this.state)},r.a.createElement(de.a,null,"Unsubscribe")," ")):r.a.createElement("div",null,r.a.createElement(pe.a,{disabled:this.props.private,href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.subscribe.bind(this,this.state)},r.a.createElement(de.a,null,"Subscribe")," "))),r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement(pe.a,{href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(de.a,null,this.props.name))),r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"text-muted"},"Created at:"," ",r.a.createElement(Lt.a,{format:"DD-MM-YYYY HH:mm"},this.props.createdAt))),r.a.createElement(oe.a,{xs:"2",sm:"2"},"By ",this.props.owner)))))}}]),a}(n.Component),Mt=(a(248),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(gt.a,{size:15,color:this.props.color||"#c45a8e",loading:this.state.loading,margin:2}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component)),Bt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,i=n.props.playlists,s=i[t],l=s.name,o=s._id,c=s.createdAt,u=s.owner,p=i[t].private;return r.a.createElement("div",{key:o,style:a},r.a.createElement(Rt,{currentUserInfo:n.state.currentUserInfo,loadPlaylists:n.props.loadPlaylists,getPlayListById:n.props.getPlayListById,token:n.props.token,createdAt:c,id:o,name:l,owner:u,private:p}))},n.bindListRef=function(e){n.list=e},n.state={playlists:n.props.playlists,token:n.props.token,userData:n.props.userData,loading:n.props.loading||!0},n.load=n.load.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.load(this.state.token)}},{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||(console.log("Change?"),this.list&&this.list.forceUpdateGrid(),this.setState({playlists:this.props.playlists,token:this.props.token,Userplaylists:this.props.Userplaylists,userData:this.props.userData,loading:this.props.loading}))}},{key:"load",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ne.loadUser(t);case 3:null!==(n=e.sent)&&n.playlists.forEach((function(e){a.push(e._id)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state.playlists;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{id:"spinnerDiv2"},this.state.loading?r.a.createElement(Mt,{size:50,color:"white"}):null),r.a.createElement(Ce.a,null,(function(a){var n=a.width;return r.a.createElement(Ce.c,{ref:e.bindListRef,width:n,height:700,rowCount:t.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),Ft=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={artistName:e.props.artistName,title:e.props.title,imported:e.props.imported,date:e.props.date,duration:e.props.duration},e}return Object(p.a)(a,[{key:"addToImport",value:function(e){this.props.addToImport(e)}},{key:"removeFromPlaylist",value:function(e){this.props.removeFromPlaylist(e)}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"2",sm:"2"},this.state.duration),r.a.createElement(oe.a,{xs:"8",sm:"8"},r.a.createElement(de.a,null,this.state.title)),r.a.createElement(oe.a,{xs:"2",sm:"2"},this.state.imported?r.a.createElement(pe.a,{onClick:this.removeFromPlaylist.bind(this,this.props),className:"btn btn-secondary",color:"secondary"},"x"):r.a.createElement(pe.a,{onClick:this.addToImport.bind(this,this.props),className:"btn btn-secondary",color:"secondary"},"+"))),r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"12",sm:"12"},r.a.createElement("span",{className:"float-right"},"Added at: \xa0",r.a.createElement(Lt.a,{format:"DD-MM-YYYY HH:mm"},this.state.date)))))))}}]),a}(n.Component),zt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).renderRow=function(t){var a=t.index,n=(t.key,t.isScrolling,t.isVisible,t.style),i=e.props.tracks[a],s=i.title,l=i.artistName,o=i.id,c=i.duration,u=i.date,p=i.videoId;return r.a.createElement("div",{key:Math.random(),style:n},r.a.createElement(Ft,{id:Math.random(),key:o,artistName:l,addToImport:e.props.addToImport,imported:!1,title:s,duration:c,date:u,videoId:p}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ce.a,null,(function(t){var a=t.width;return r.a.createElement(Ce.c,{width:a,height:550,rowCount:e.props.tracks.length,rowHeight:80,rowRenderer:e.renderRow})})))}}]),a}(n.Component),Qt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=(e.key,e.isScrolling,e.isVisible,e.style),i=n.props.toBeImportedPlaylist[t],s=i.title,l=i.artistName,o=i.id,c=i.duration,u=i.date,p=i.videoId;return r.a.createElement("div",{key:o,style:a},r.a.createElement(Ft,{key:o,id:o,artistName:l,importPlaylistToApp:n.props.importPlaylistToApp,removeFromPlaylist:n.props.removeFromPlaylist,imported:!0,title:s,duration:c,date:u,videoId:p}))},n.state={toBeImportedPlaylist:n.props.toBeImportedPlaylist,updated:""},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({toBeImportedPlaylist:this.props.toBeImportedPlaylist})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ce.a,null,(function(t){var a=t.width;return r.a.createElement(Ce.c,{width:a,height:550,rowCount:e.props.toBeImportedPlaylist.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),_t=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",checked:!1,select:"Random"},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(Le.a)({},t.target.name,t.target.value)),console.log(e.state.select)},e.onSubmit=function(t){t.preventDefault(),console.log(t),e.props.makePlaylist(e.state.name,e.state.checked,e.state.select,e.props.owner),e.toggle()},e.boxChange=function(t){e.setState({checked:t.target.checked})},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(pe.a,{disabled:this.props.disabled,className:"float-left btn-margin btn-secondary btn button",onClick:this.toggle,href:"#",color:"secondary"},"Add playlist to your collections."),r.a.createElement(Re.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Me.a,{className:"mb-4",toggle:this.toggle},"Create a new playlist here :)",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Qe.a,{onSubmit:this.onSubmit},r.a.createElement(_e.a,null,r.a.createElement(He.a,null,r.a.createElement(Ve.a,{for:"name"},"Name for the playlist:"),r.a.createElement(Pe.a,{type:"name",name:"name",id:"name",placeholder:"epic-partylist",className:"mb-4",onChange:this.onChange,required:!0}),r.a.createElement(Ve.a,{className:""},"Genres"),Je(this.onChange),r.a.createElement("br",null),r.a.createElement("div",{className:"check"},r.a.createElement(Ve.a,{check:!0,className:"float-right "},r.a.createElement(Pe.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(pe.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component),Ht=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChangeImport=function(e){n.setState({importFilter:e.target.value})},n.handleChangeLoad=function(e){n.setState({loadFilter:e.target.value})},n.clearList=function(){n.setState({toBeImportedPlaylist:[]})},n.getAllSongs=function(e){e.forEach((function(e){return n.addToImport(e)}))},n.state={importFilter:"",loadFilter:"",tracks:n.props.tracks,toBeImportedPlaylist:[],modal:!0},n.addToImport=n.addToImport.bind(Object(d.a)(n)),n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(d.a)(n)),n.addPlayListToColl=n.addPlayListToColl.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"addToImport",value:function(e){var t=Object.assign({},e);t.id=Math.random(),this.state.toBeImportedPlaylist.push(t),this.setState({updated:!0})}},{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({tracks:this.props.tracks})}},{key:"addPlayListToColl",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,i){var s,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.state.toBeImportedPlaylist,l=JSON.stringify({name:t,playlist:s,isPrivate:a,owner:i,genre:n}),e.next=4,J(l);case 4:if(c=e.sent){e.next=8;break}return lt.a.notify(r.a.createElement("span",null,"An error making the playlist has occured. Please try again!"),{duration:2800}),e.abrupt("return");case 8:X(c.data._id,t,a,i,c.data.createdAt,this.props.token),lt.a.notify(r.a.createElement("span",null,"Playlist created!"),{duration:2800});case 10:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.importFilter,a=e.loadFilter,n=e.toBeImportedPlaylist,i=e.tracks;console.log(i);var s=t.toLowerCase(),l=n.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(s)}))})),o=a.toLowerCase(),c=i.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(o)}))}));return console.log(c),console.log(this.props),r.a.createElement("div",{className:"playlistEditor"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(Pe.a,{value:t,onChange:this.handleChangeImport,placeholder:"Filter songs based on title..."}),r.a.createElement("span",{className:"float-left"},"Songs: ",l.length),r.a.createElement("br",null),r.a.createElement(Qt,{removeFromPlaylist:this.removeFromPlaylist,toBeImportedPlaylist:l}))),r.a.createElement(oe.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(Pe.a,{value:a,onChange:this.handleChangeLoad,placeholder:"Filter songs based on title..."}),r.a.createElement("span",{className:"float-left"},"Songs: ",c.length),r.a.createElement("br",null),r.a.createElement(zt,{tracks:c,addToImport:this.addToImport})))),r.a.createElement(le.a,{id:"lowerRow"},r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(_t,{disabled:!this.state.toBeImportedPlaylist.length,owner:this.props.data.name,makePlaylist:this.addPlayListToColl}))),r.a.createElement(oe.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{onClick:this.clearList.bind(this)},"Clear list"))),r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(pe.a,{onClick:this.getAllSongs.bind(this,c)},"Get all songs")))))}}]),a}(n.Component),Vt=(n.Component,a(260)),Yt=a.n(Vt),Jt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Yt.a,{size:this.state.size,color:this.props.color||"#c45a8e",loading:this.state.loading}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component),Wt=(a(500),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),Gt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSortChange=function(e){var t=e.target.value,a=n.state.playlists;switch(t){case"Latest":a.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));break;case"Last":a.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));break;case"By name":a.sort((function(e,t){return e.name>t.name?1:-1}));break;case"By owner":a.sort((function(e,t){return e.owner>t.owner?1:-1}))}console.log("Yeps..."),n.setState({sortedPlaylists:a})},n.onChange=function(e){var t=e.target.value;console.log(t),"All"===e.target.value&&(t=""),n.setState({genreFilter:t});var a=n.state.playlists,r=t.toLowerCase(),i=a.filter((function(e){return null===e||"undefined"===typeof e?a:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"_id"!==t&&e[t].toLowerCase().includes(r)}))}));n.setState({genreFilter:e.target.value,genreFilteredData:i})},n.handleChange=function(e){n.setState({filter:e.target.value})},n.state={playlists:[],token:"",filter:"",tracks:[],loading:!1,filteredData:[],genreFilteredData:[],sortedPlaylists:[],data:n.props.data},n.loadPlaylists=n.loadPlaylists.bind(Object(d.a)(n)),n.getPlayListById=n.getPlayListById.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"loadPlaylists",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingPlaylists:!0}),e.next=3,Wt(300);case 3:return e.next=5,Y();case 5:t=e.sent,this.setState({playlists:t.data.Playlist.reverse(),filteredData:t.data.Playlist,genreFilteredData:t.data.Playlist,sortedPlaylists:t.data.Playlist,loadingPlaylists:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPlayListById",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Wt(2500);case 3:return e.next=5,K(t);case 5:a=e.sent,this.setState({tracks:a.data.playlist,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||(this.setState({user:this.props.data}),this.props.data&&this.setState({Userplaylists:this.props.data.playlists,data:this.props.data}))}},{key:"componentDidMount",value:function(){var e=ne.currentUserValue;e&&e.token&&(this.setState({token:e.token,data:this.props.data}),this.loadPlaylists()),this.props.loadUser()}},{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.token,a=e.filter,n=this.state,i=(n.playlists,n.genreFilteredData),s=n.sortedPlaylists,l=a.toLowerCase();console.log(this.state.loadingPlaylists);var o=s.filter((function(e){return-1!==i.indexOf(e)}));console.log(s),console.log(i);var c=o.filter((function(e){return null===e||"undefined"===typeof e?o:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"_id"!==t&&"createdAt"!==t&&"updatedAt"!==t&&e[t].toLowerCase().includes(l)}))}));return console.log(c),r.a.createElement("div",{className:"container-fluid homepage-div"},r.a.createElement("div",{id:"spinnerDiv"},this.state.loading?r.a.createElement(Jt,{color:"white"}):null),r.a.createElement("div",{id:"spinnerDiv2"},this.state.playlistsLoading?r.a.createElement(Jt,{size:50,color:"white"}):null),r.a.createElement("br",null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"4",sm:"4",className:"spotifypage1"},"Playlists to choose from :)!",r.a.createElement("br",null),"You can subscribe to public playlists or just load a playlist by clicking on the name and editing on the playlist-editor on the right side.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"inputDiv"},r.a.createElement(Pe.a,{id:"filterId",value:a,onChange:this.handleChange,placeholder:"Filter playlists..."}),r.a.createElement(Pe.a,{onChange:this.onSortChange,type:"select",name:"select",id:"exampleSelect"},r.a.createElement("option",{key:"Latest",value:"Latest"},"Latest"),r.a.createElement("option",{key:"Last",value:"Last"},"Last"),r.a.createElement("option",{key:"By name",value:"By name"},"By name"),r.a.createElement("option",{key:"By owner",value:"By owner"},"By owner")),Je(this.onChange,!0)),r.a.createElement(Bt,{userData:this.state.Userplaylists,loadPlaylists:this.loadPlaylists,token:t,playlists:c,getPlayListById:this.getPlayListById,loading:this.state.loadingPlaylists})),r.a.createElement(oe.a,{xs:"8",sm:"8",className:"spotifypage2"},'Chosen playlist. With options to A) Make a copy to your playlists B) If it\'s a yhteissoittolista: "subscribe"',r.a.createElement("div",{className:this.state.tracks.length?"playListEditorActive":"playListEditorNotActive"},this.state.tracks.length?r.a.createElement(Ht,{data:this.props.data,loadPlaylists:this.loadPlaylists,token:t,playlists:c,getPlayListById:this.getPlayListById,tracks:this.state.tracks}):null)))))}}]),a}(n.Component),Kt=a(55),Xt=Object(Kt.a)(),Zt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e._id)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(pe.a,{className:"btn btn-primary float-right btn-remove",color:"danger",onClick:this.deletePlaylist.bind(this,this.props),disabled:!0},"Delete:TODO")),r.a.createElement(Be.a,{style:{textAlign:"center"}},this.props.name))))}}]),a}(n.Component),$t=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,i=n.props.playlists[t],s=i.title,l=i.artistName,o=i.uniqueId;return r.a.createElement("div",{key:o,style:a},r.a.createElement(Zt,{key:o,id:o,artistName:l,name:s}))},n.state={playlists:n.props.playlists},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({playlists:this.props.playlists})}},{key:"render",value:function(){var e=this.props.playlists;return console.log(e.length),r.a.createElement("div",null,r.a.createElement(Ce.c,{width:470,height:550,rowCount:e.length,rowHeight:82,rowRenderer:this.renderRow}))}}]),a}(n.Component),ea=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(Le.a)({},t.target.name,t.target.value))},e.onSubmit=function(e){e.preventDefault()},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.playlists;return r.a.createElement("div",null,r.a.createElement(Re.a,{isOpen:this.props.isOpen,toggle:this.props.toggle},r.a.createElement(Me.a,{className:"mb-4",toggle:this.props.toggle},this.props.name),r.a.createElement(_e.a,null,r.a.createElement("p",{className:"formText text-center"},"Hello"),r.a.createElement($t,{playlists:e||[]}))))}}]),a}(n.Component),ta=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleList=function(){n.setState({modal:!n.state.modal})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.state={modal:!1,loading:!1},n.deletePlaylist=n.deletePlaylist.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"deletePlaylist",value:function(){console.log("Hey"),this.setState({loading:!0}),this.props.deletePlaylist(this.props.id)}},{key:"clickOnPlayList",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,K(this.props.id);case 3:t=e.sent,this.setState({playlist:t.data.playlist,playlistName:t.data.name,playlistId:t.data._id,loading:!1,private:t.data.private}),this.toggleList();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"card"},r.a.createElement(ue.a,null,r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"6",sm:"6"},r.a.createElement(pe.a,{href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(de.a,null,this.props.name))),r.a.createElement(oe.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"text-muted"},"Created at:"," ",r.a.createElement(Lt.a,{format:"DD-MM-YYYY HH:mm"},this.props.createdAt))),r.a.createElement(oe.a,{xs:"2",sm:"2"},r.a.createElement(pe.a,{color:"secondary",onClick:this.deletePlaylist.bind(this),className:this.state.loading?"loading btn btn-primary float-left":"btn btn-primary float-left"},this.state.loading?"Deleting...":"Delete"))))),r.a.createElement(ea,{isOpen:this.state.modal,toggle:this.toggle,name:this.state.playlistName,playlists:this.state.playlist}))}}]),a}(n.Component),aa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,i=n.props.playlists[t],s=i.name,l=i._id,o=i.createdAt;return r.a.createElement("div",{key:l,style:a},r.a.createElement(ta,{loadPlaylists:n.props.loadPlaylists,deletePlaylist:n.props.deletePlaylist,token:n.props.token,createdAt:o,id:l,name:s}))},n.state={playlists:n.props.playlists,token:n.props.token},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){fe()(this.props,e)||this.setState({playlists:this.props.playlists,token:this.props.token})}},{key:"render",value:function(){var e=this,t=this.state.playlists;return r.a.createElement("div",null,"All playlists",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ce.a,null,(function(a){var n=a.width;return r.a.createElement(Ce.c,{width:n,height:700,rowCount:t.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),na=(a(501),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={playlists:[],token:""},n.loadPlaylists=n.loadPlaylists.bind(Object(d.a)(n)),n.deletePlaylist=n.deletePlaylist.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"loadPlaylists",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("I shouldn't"),e.next=3,Y();case 3:t=e.sent,this.setState({playlists:t.data.Playlist});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:this.loadPlaylists();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=ne.currentUserValue;e&&e.token&&(this.setState({token:e.token}),this.loadPlaylists())}},{key:"render",value:function(){var e=this.state,t=e.token,a=e.playlists;return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid homepage-div"},r.a.createElement(le.a,null,r.a.createElement(oe.a,{xs:"2",sm:"2",className:"adminpage1"},"ds"),r.a.createElement(oe.a,{xs:"6",sm:"6",className:"adminpage2"},r.a.createElement(aa,{loadPlaylists:this.loadPlaylists,token:t,playlists:a,deletePlaylist:this.deletePlaylist})),r.a.createElement(oe.a,{xs:"4",sm:"4",className:"adminpage3"},"d"))))}}]),a}(n.Component)),ra=function(){return r.a.createElement("h3",null,"404 - Not found")},ia=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentUserInfo:null,isAuth:!1},n.loadUser=n.loadUser.bind(Object(d.a)(n)),n.logout=n.logout.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"loadUser",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.loadUser(t);case 2:null!==(a=e.sent)?this.setState({currentUserInfo:a,isAuth:!0}):this.setState({currentUserInfo:null,isAuth:!1,token:null}),this.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;ne.currentUser.subscribe((function(t){t&&(e.setState({token:t.token}),e.loadUser())})),ee(),this.interval=setInterval((function(){ee()}),9e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"logout",value:function(){ne.logout(),Xt.push("/login"),this.setState({token:null})}},{key:"render",value:function(){var e=this.state,t=e.currentUserInfo,a=e.token;e.isAuth;return console.log(t),r.a.createElement("div",{className:"App wrapper"},r.a.createElement(y.c,{history:Xt},a&&r.a.createElement(se,{darkMode:!0,logout:this.logout}),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/login",component:wt}),r.a.createElement(Dt,{path:"/",data:t,darkMode:!0,loadUser:this.loadUser,exact:!0,component:kt}),r.a.createElement(Dt,{path:"/spotify",data:t,component:Ut}),r.a.createElement(Dt,{path:"/playlists",data:t,component:Gt,loadUser:this.loadUser}),r.a.createElement(Dt,{path:"/admin",data:t,roles:["Admin"],component:na}),r.a.createElement(y.b,{component:ra}))))}}]),a}(n.Component);a(502),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ia,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[263,1,2]]]);
//# sourceMappingURL=main.605bd5f9.chunk.js.map