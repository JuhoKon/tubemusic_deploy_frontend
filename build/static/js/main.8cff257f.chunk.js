(this.webpackJsonptubemusic=this.webpackJsonptubemusic||[]).push([[0],{141:function(e,t,a){},231:function(e,t,a){},251:function(e,t,a){},271:function(e,t,a){e.exports=a(519)},276:function(e,t,a){},278:function(e,t,a){},299:function(e,t){},301:function(e,t){},337:function(e,t){},338:function(e,t){},416:function(e,t,a){},421:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},506:function(e,t,a){},508:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),i=a.n(s),l=(a(276),a(3)),o=a.n(l),c=a(11),u=a(5),p=a(7),d=a(12),m=a(9),h=a(8),y=a(553),f=(a(278),a(522)),g=a(523),b=a(524),v=a(525),k=a(526),E=a(527),w=a(528),x=a(554),P=a(555),O=a(529),j=a(530),N=a(531),S=a(25),C=a.n(S),I=a(551);function T(e){return"undefined"===typeof e.response?"timeout":(402!==e.response.status&&401!==e.response.status||(ce.logout(),window.location.reload(!0)),e.response)}function A(e){return e}var U=a(258),D=a.n(U),L=function(e){return new Promise((function(t){return setTimeout(t,e)}))},q="AIzaSyCc5tyizZ6BVh1XtAv_ItjIlS7QMKWhe0c",M="https://tubemusicbackend.herokuapp.com";C.a.defaults.timeout=25e3;var R=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,C.a.post(M+"/scrape/scrape",{items:t},re()).catch((function(e){T(e)}));case 3:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{item:t}},(n=ce.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(M+"/scrape/search",a).then(A).catch((function(e){T(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{item:t}},(n=ce.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(M+"/scrape/dbsearch",a).then(A).catch((function(e){T(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{item:t}},(n=ce.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(M+"/scrape/autocomplete",a).then(A).catch((function(e){T(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.data);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",maxResults:1,key:q,q:t}}).catch((function(e){return console.log(e)}));case 2:if(!(a=e.sent)){e.next=7;break}return e.abrupt("return",a.data.items);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://www.googleapis.com/youtube/v3/videos",{params:{part:"contentDetails",id:t,key:q}});case 2:return a=e.sent,e.abrupt("return",a.data.items);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer "+t}},e.next=3,C.a.get("https://api.spotify.com/v1/me",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer "+t}},e.next=3,C.a.get("https://api.spotify.com/v1/me/playlists",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+t}},e.next=3,C.a.get(a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+a}},e.next=3,C.a.get("https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+a}},e.next=3,C.a.get("https://api.spotify.com/v1/search?q=".concat(t,"&type=playlist&limit=30"),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(M+"/playlists",re()).catch((function(e){T(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post(M+"/playlists/create",t,re()).catch((function(e){T(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(100);case 2:return e.next=4,C.a.put(M+"/playlists/update/".concat(a),t,re());case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(100);case 2:return e.next=4,C.a.put(M+"/playlists/updatetime/".concat(a),t,re());case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.delete(M+"/playlists/delete/".concat(t),re()).catch((function(e){T(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(M+"/playlists/find/".concat(t),re()).catch((function(e){T(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,s,i){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=JSON.stringify({playlistId:t,playlistName:a,private:n,owner:r,createdAt:s}),e.next=3,C.a.put(M+"/users/addPlaylist",l,re()).catch((function(e){T(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,i){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.delete(M+"/users/deletePlaylist".concat(t),re()).catch((function(e){T(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify({playlistId:t,playlistName:a,private:n}),e.next=3,C.a.put(M+"/users/editPlaylist".concat(t),s,re()).catch((function(e){T(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),re=function(){var e={headers:{"Content-Type":"application/json"}},t=ce.currentUserValue;if(t){var a=D.a.decode(t.token);a||(ce.logout(),window.location.reload(!0));var n=Math.floor((new Date).getTime()/1e3)-a.exp;e.headers["x-auth-token"]=t.token,n>-3870&n<-10&&C.a.get(M+"/auth/renew",e).then((function(e){ce.newToken(e.data)}))}return e},se=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{query:t}},(n=ce.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(M+"/scrape/search_artists",a).then(A).catch((function(e){T(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{query:t}},(n=ce.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(M+"/scrape/get_artist_data",a).then(A).catch((function(e){T(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le="https://tubemusicbackend.herokuapp.com";try{JSON.parse(localStorage.getItem("token"))}catch(Ba){localStorage.removeItem("token")}var oe=new I.a(JSON.parse(localStorage.getItem("token"))),ce={login:function(e,t){return ue.apply(this,arguments)},logout:function(){localStorage.removeItem("token"),oe.next(null)},signup:function(e){console.log(e);var t=JSON.stringify({name:e.signUpName,email:e.signUpEmail,role:"User",password:e.signUpPassword});return C.a.post(le+"/users/create",t,{headers:{"Content-Type":"application/json"}}).then((function(e){oe.next(e.data),localStorage.setItem("token",JSON.stringify(e.data))})).catch((function(e){return e.response}))},loadUser:function(){return pe.apply(this,arguments)},newToken:function(e){oe.next(e),localStorage.setItem("token",JSON.stringify(e))},currentUser:oe.asObservable(),get currentUserValue(){return oe.value}};function ue(){return(ue=Object(c.a)(o.a.mark((function e(t,a){var n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:t,password:a}),e.prev=2,e.next=5,C.a.post(le+"/auth",r,n);case 5:s=e.sent,oe.next(s.data),localStorage.setItem("token",JSON.stringify(s.data)),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function pe(){return(pe=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.get(le+"/auth/user",re()).then((function(e){return e.data})).catch((function(e){T(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).state={isOpen:!1};var r=window.pageYOffset;return window.onscroll=function(){var e=window.pageYOffset;document.getElementById("navbar").style.top=r>e?"0":"-50px",r=e},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=ce.currentUserValue;return r.a.createElement("div",null,r.a.createElement(f.a,{className:this.props.darkMode?"navbar navbar-dark navbar-expand-lg":"navbar2 navbar-dark navbar-expand-lg",expand:"md",id:"navbar"},r.a.createElement(g.a,{href:"/"},"TubeMusic"),r.a.createElement(b.a,{onClick:function(){return e.setState({isOpen:!e.state.isOpen})}}),r.a.createElement(v.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(k.a,{className:"mr-auto",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/spotify"},"Spotify")),r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/playlists"},"Playlists")),t&&"Admin"===t.user.role?r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/admin"},"Admin")):"",r.a.createElement(x.a,{nav:!0,inNavbar:!0},r.a.createElement(P.a,{nav:!0,caret:!0},"Options"),r.a.createElement(O.a,{right:!0},r.a.createElement(j.a,null,"Option 1"),r.a.createElement(j.a,null,"Option 2"),r.a.createElement(j.a,{divider:!0}),r.a.createElement(j.a,null,"Reset")))),r.a.createElement(N.a,null,"Hello, ",t&&t.user.name),r.a.createElement(k.a,{className:"navbar-nav",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"#",onClick:this.props.logout},"Sign out"))))))}}]),a}(n.Component),me=(a(416),a(97)),he=a(535),ye=a(536),fe=a(533),ge=a(534),be=a(537),ve=a(259),ke=(a(231),a(71),a(99)),Ee=a(40),we=a(39),xe=a(532),Pe=function(e){return r.a.createElement("div",null,r.a.createElement(xe.a,{style:{padding:"8px",borderRadius:"2rem",margin:"5px"},href:"#",color:"info"},e.title))},Oe=a(15),je=a.n(Oe),Ne=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onAddClick=function(e){n.props.addFunc({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,artists:e.artists})},n.onPlayClick=function(e){n.props.onPlay({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,artists:e.artists})},n.onAddToPlaylist=function(e){console.log(e),n.props.AddToPlaylist({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,thumbnail:e.thumbnail,artists:e.artists,date:Date.now()})},n.playNextClick=function(e){n.props.playNext(e)},n.state={albums:[],subscribers:"",views:"",description:"",songs:[]},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){console.log("Hello")}},{key:"shouldComponentUpdate",value:function(e,t){return!je()(this.props,e)||!je()(this.state,t)}},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je()(this.props,t)){e.next=8;break}if(this.props.browseId===t.browseId){e.next=8;break}return e.next=4,ie(this.props.browseId);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return");case 7:this.setState({albums:a.albums,subscribers:a.subscribers,views:a.views,description:a.description,songs:a.songs});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.browseId){e.next=5;break}return e.next=3,ie(this.props.browseId);case 3:t=e.sent,this.setState({albums:t.albums,subscribers:t.subscribers,views:t.views,description:t.description,songs:t.songs});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(this.props);var t=function(t){switch(t.resultType){case"song":return r.a.createElement(fe.a,{className:"card-2",id:"videoitem",onDoubleClick:e.onPlayClick.bind(e,e.props)},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbutton",onClick:e.onPlayClick.bind(e,e.props)},e.props.thumbnail&&r.a.createElement(ke.LazyLoadImage,{height:70,src:e.props.thumbnail,width:70,style:{position:"absolute"},id:"thumbnail"}),r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.d,id:"thumbnail2"}))),r.a.createElement(ye.a,{xs:"7",sm:"7"},r.a.createElement(be.a,null,e.props.title," -"," ",e.props.artists[0]&&r.a.createElement(Se,{artists:e.props.artists}))),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{className:"btn btn-primary btn-item",color:"secondary",onClick:e.onAddToPlaylist.bind(e,e.props)},"+P"))),r.a.createElement(ye.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:e.playNextClick.bind(e,e.props)},"+N"),r.a.createElement(ve.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:e.onAddClick.bind(e,e.props)},"+Q")))),r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"12",sm:"12"},r.a.createElement("small",{className:"float"},e.props.duration)))));case"artist":return r.a.createElement(fe.a,{className:"card-2",id:"videoitem",onDoubleClick:e.onPlayClick.bind(e,e.props)},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbutton2",onClick:e.onPlayClick.bind(e,e.props)},e.props.thumbnails&&r.a.createElement(ke.LazyLoadImage,{height:100,src:e.props.thumbnails[1].url,width:100,style:{position:"absolute"},id:"thumbnail"}))),r.a.createElement(ye.a,{xs:"7",sm:"7"},r.a.createElement(be.a,null,r.a.createElement("h5",null,e.props.artist))),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},e.state.subscribers)),r.a.createElement(ye.a,{xs:"1",sm:"1"})),r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"12",sm:"12"},r.a.createElement("div",{className:"badgeWrapper"},r.a.createElement(Ce,{toggleModal:e.props.toggleModal,albums:e.state.albums}))))));default:return r.a.createElement(fe.a,{className:"card-2",id:"videoitem",onDoubleClick:e.onPlayClick.bind(e,e.props)},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbutton",onClick:e.onPlayClick.bind(e,e.props)},e.props.thumbnail&&r.a.createElement(ke.LazyLoadImage,{height:70,src:e.props.thumbnail,width:70,style:{position:"absolute"},id:"thumbnail"}),r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.d,id:"thumbnail2"}))),r.a.createElement(ye.a,{xs:"7",sm:"7"},r.a.createElement(be.a,null,e.props.title," -"," ",e.props.artists[0]&&r.a.createElement(Se,{artists:e.props.artists}))),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{className:"btn btn-primary btn-item",color:"secondary",onClick:e.onAddToPlaylist.bind(e,e.props)},"+P"))),r.a.createElement(ye.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:e.playNextClick.bind(e,e.props)},"+N"),r.a.createElement(ve.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:e.onAddClick.bind(e,e.props)},"+Q")))),r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"12",sm:"12"},r.a.createElement("small",{className:"float"},e.props.duration)))))}};return r.a.createElement("div",null,r.a.createElement(t,{resultType:this.props.resultType}))}}]),a}(n.Component),Se=function(e){return e.artists.map((function(e){return r.a.createElement(r.a.Fragment,null,e.name," \xa0")}))},Ce=function(e){return e.albums&&e.albums.results?e.albums.results.map((function(t){return r.a.createElement("div",{onClick:function(){return e.toggleModal()}},r.a.createElement(Pe,{title:t.title}))})):null},Ie=Ne,Te=a(38),Ae=a(115),Ue=a.n(Ae),De=(a(91),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||35},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(Ue.a,{size:this.state.size,color:this.props.color||"#c45a8e",loading:this.state.loading}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"italic"},"Loading..."))}}]),a}(r.a.Component)),Le=(a(420),a(76)),qe=a(538),Me=a(556),Re=a(539),Be=a(540),ze=a(541),Fe=function(e){var t=e.title,a=e.className,s=e.show,i=Object(n.useState)(!1),l=Object(Le.a)(i,2),o=l[0],c=l[1],u=Object(n.useState)(!0),p=Object(Le.a)(u,2),d=p[0],m=(p[1],Object(n.useState)(!0)),h=Object(Le.a)(m,2),y=h[0],f=(h[1],function(){return c(!o)});return r.a.createElement("div",null,r.a.createElement(qe.a,{inline:!0,onSubmit:function(e){return e.preventDefault()}}),r.a.createElement(Me.a,{isOpen:s,toggle:function(){return e.toggleModal()},className:a,backdrop:d,keyboard:y},r.a.createElement(Re.a,{toggle:function(){return e.toggleModal()}},t),r.a.createElement(Be.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.a.createElement(ze.a,null,r.a.createElement(ve.a,{color:"primary",onClick:f},"Do Something")," ",r.a.createElement(ve.a,{color:"secondary",onClick:f},"Cancel"))))},_e=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleModal=function(){n.setState({showModal:!n.state.showModal})},n.state={loading:n.props.loading,error:n.props.error,errorText:n.props.errorText,showModal:!1},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({loading:this.props.loading,error:this.props.error,errorText:this.props.errorText})}},{key:"render",value:function(){var e=this,t=this.props.items;return console.log(t),r.a.createElement("div",{id:"videolist33"},r.a.createElement(Fe,{show:this.state.showModal,toggleModal:this.toggleModal}),this.state.loading?r.a.createElement("div",{className:"loadingPlace"},r.a.createElement(De,{color:"#545454"})):null,this.state.error?r.a.createElement("span",null,this.state.errorText):"",t.map((function(t){var a=t.title,n=t.publishedAt,s=t.channelTitle,i=t.videoId,l=t.thumbnail,o=t.uniqueId,c=t.duration,u=t.thumbnails,p=t.artists,d=t.resultType,m=t.artist,h=t.browseId;return r.a.createElement(Te.CSSTransition,{key:o,timeout:500,classNames:"fade"},r.a.createElement(Ie,{playNext:e.props.playNext,uniqueId:o,title:a,thumbnail:l&&l,channelTitle:s,publishedAt:n,videoId:i,addFunc:e.props.onAdd,onPlay:e.props.onPlay,AddToPlaylist:e.props.AddToPlaylist,duration:c,artists:p,resultType:d,artist:m,browseId:h,thumbnails:u,toggleModal:e.toggleModal}))})))}}]),a}(n.Component),Qe=a(544),He=a(557),Ve=a(547),Ye=a(542),Je=a(543),We=a(545),Ge=a(546),Ke=a(6),Xe=a.n(Ke),Ze=(a(421),a(165)),$e=a.n(Ze),et=(a(210),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),tt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={text:"",dbtext:"",activeTab:"1",autoCompleteItems:[{title:"",_id:"s"}],checked:!1},e.onChangetext=function(){var t=Object(c.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,e.setState({text:n,dbtext:n}),t.next=4,et(150);case 4:if(n===e.state.text){t.next=6;break}return t.abrupt("return");case 6:if(""!==n){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,F(n);case 10:r=t.sent,console.log(r),e.setState({autoCompleteItems:r});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSelect=function(t){e.setState({dbtext:t,text:t})},e.submit=function(t){t.preventDefault(),e.state.checked?e.getArtists():e.props.handleSubmit(e.state.text)},e.submitDb=function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.props.handleDB(null,e.state.text);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggle=function(t){e.setState({activeTab:t}),e.props.setTab(t)},e.boxChange=function(t){e.setState({checked:t.target.checked})},e}return Object(p.a)(a,[{key:"getArtists",value:function(){this.props.getArtists(this.state.text)}},{key:"render",value:function(){var e=this,t=this.state,a=(t.dbtext,t.activeTab);return r.a.createElement("div",null,r.a.createElement(k.a,{tabs:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{className:Xe()({active:"1"===a}),onClick:function(){e.toggle("1")}},"Database")),r.a.createElement(E.a,null,r.a.createElement(w.a,{className:Xe()({active:"2"===a}),onClick:function(){e.toggle("2")}},"YouTube"))),r.a.createElement(Ye.a,{activeTab:a},r.a.createElement(Je.a,{tabId:"1"},r.a.createElement(he.a,null,r.a.createElement(ye.a,{sm:"12"},r.a.createElement("form",{onSubmit:this.submitDb},r.a.createElement(Qe.a,null,r.a.createElement($e.a,{renderInput:function(e){return r.a.createElement("input",Object.assign({id:"autocomplete",placeholder:"Search for songs on our database..."},e))},items:this.state.autoCompleteItems,wrapperStyle:{width:"calc(100% - 71px)"},getItemValue:function(e){return e.title},menuStyle:{zIndex:1e4,borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"#ffffff",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},renderItem:function(e,t){return r.a.createElement("div",{key:e._id,style:{color:"#000000",backgroundColor:t?"rgb(219, 219, 219)":"transparent"}},e.title)},value:this.state.text,onChange:function(t){return e.onChangetext(t)},onSelect:function(t){return e.onSelect(t)}}),r.a.createElement(He.a,{addonType:"append"},r.a.createElement(ve.a,{color:"secondary"},"Search"))))))),r.a.createElement(Je.a,{tabId:"2"},r.a.createElement(he.a,null,r.a.createElement(ye.a,{sm:"12"},r.a.createElement("form",{onSubmit:this.submit},r.a.createElement(Qe.a,null,r.a.createElement($e.a,{renderInput:function(e){return r.a.createElement("input",Object.assign({id:"autocomplete",placeholder:"Search for songs on YouTube..."},e))},items:this.state.autoCompleteItems,wrapperStyle:{width:"calc(100% - 71px)"},getItemValue:function(e){return e.title},menuStyle:{zIndex:1e4,borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"#ffffff",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},renderItem:function(e,t){return r.a.createElement("div",{key:e._id,style:{color:"#000000",backgroundColor:t?"rgb(219, 219, 219)":"transparent"}},e.title)},value:this.state.text,onChange:function(t){return e.onChangetext(t)},onSelect:function(t){return e.onSelect(t)}}),r.a.createElement(He.a,{addonType:"append"},r.a.createElement(ve.a,{color:"secondary"},"Search")),r.a.createElement(We.a,{check:!0},r.a.createElement(Ge.a,{check:!0},r.a.createElement(Ve.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"})," ","Search for artists")))))))))}}]),a}(n.Component),at=a(548),nt=a(68),rt=(a(141),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editMode:e.props.editMode},e.onPlayClick=function(t){e.props.onPlay(t)},e}return Object(p.a)(a,[{key:"onRemoveClick",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.onRemove(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({editMode:this.props.editMode})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(fe.a,{className:"card",onDoubleClick:this.onPlayClick.bind(this,this.props)},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{className:"btn btn-secondary float-right btn-item",onClick:this.onPlayClick.bind(this,this.props)},"Play"))),r.a.createElement(ye.a,{xs:"7",sm:"7"},r.a.createElement(be.a,null,this.props.title)),r.a.createElement(ye.a,{xs:"1",sm:"1"},r.a.createElement("small",{className:"float-left"},this.props.duration)),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},this.props.editMode?r.a.createElement(ve.a,{className:"btn btn-secondary button float-right",color:"secondary",onClick:this.onRemoveClick.bind(this,this.props)},"x"):null))))))}}]),a}(n.Component)),st=a(24),it=Object(nt.b)((function(e){var t=e.uniqueId,a=e.title,n=e.thumbnail,s=e.channelTitle,i=e.publishedAt,l=e.videoId,o=e.duration,c=e.onRemove,u=e.onPlay,p=e.editMode;return r.a.createElement(rt,{key:t,uniqueId:t,title:a,thumbnail:n,channelTitle:s,publishedAt:i,videoId:l,onRemove:c,onPlay:u,duration:o,editMode:p})})),lt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderRow=function(t){var a=t.index,n=t.style,s=e.props.queue[a],i=s.title,l=s.publishedAt,o=s.channelTitle,c=s.videoId,u=s.thumbnail,p=s.uniqueId,d=s.duration;return r.a.createElement("div",{key:p,style:n},r.a.createElement(it,{className:"QueueItem",key:p,uniqueId:p,index:a,title:i,videoId:c,publishedAt:l,channelTitle:o,thumbnail:u,onRemove:e.props.onRemove,onPlay:e.props.onPlay,duration:d,editMode:e.props.editMode}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.getRef,t=this.props.queue;return r.a.createElement(st.c,{ref:e,rowHeight:82,rowRenderer:this.renderRow,rowCount:t.length,width:this.props.width,height:250})}}]),a}(n.Component),ot=a(119),ct=a.n(ot),ut=Object(nt.a)(lt),pt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},dt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).registerListRef=function(e){n.List=e},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;if(t!==a){var r=n.state.queue;n.setState({queue:ct()(r,t,a)}),n.props.setQueue(n.state.queue),n.List.recomputeRowHeights(),n.List.forceUpdate()}},n.toggle=function(){n.setState({editMode:!n.state.editMode}),n.List.recomputeRowHeights(),n.List.forceUpdate()},n.state={queue:n.props.queue,editMode:!1,animation:!1},n.shuffleQueue=n.shuffleQueue.bind(Object(d.a)(n)),n.clearQueue=n.clearQueue.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({queue:this.props.queue})}},{key:"shuffleQueue",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({animation:!0}),e.next=3,pt(200);case 3:this.props.shuffleQueue(),this.List.recomputeRowHeights(),this.List.forceUpdate();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearQueue",value:function(){this.props.clearQueue()}},{key:"render",value:function(){var e=this,t=this.state.animation;return console.log(this.props),r.a.createElement("div",{className:"queueList"},this.props.isShuffle?r.a.createElement("p",null,"Shuffle is on! Playing random songs from the queue. There are"," ",this.props.queue.length," songs in the queue. To see and edit the queue please set shuffle off."):null,!this.props.isShuffle&&this.props.queue[0]?r.a.createElement(at.a,null,r.a.createElement(ve.a,{disabled:!this.props.queue[0],className:"float-right btn-remove",onClick:this.clearQueue},"CLEAR"),r.a.createElement(ve.a,{disabled:!this.props.queue[0],className:"float-right",onClick:this.shuffleQueue},"SHUFFLE"),r.a.createElement(ve.a,{disabled:!this.props.queue[0],className:"float-left btn-edit",onClick:this.toggle},this.state.editMode?"Save":"Edit"),r.a.createElement("span",null," ",r.a.createElement("span",null,"Queue")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{onAnimationEnd:function(){return e.setState({animation:!1})},className:t?"animation":"queue"},r.a.createElement(st.a,{disableHeight:!0},(function(t){var a=t.width;return r.a.createElement(ut,{getRef:e.registerListRef,queue:e.state.queue,onSortEnd:e.onSortEnd,onRemove:e.props.onRemove,onPlay:e.props.onPlay,editMode:e.state.editMode,width:a,distance:10})})))):"")}}]),a}(n.Component),mt=a(23),ht=a(549),yt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ft=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e}return Object(p.a)(a,[{key:"loadPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,yt(500);case 3:return e.next=5,this.props.loadPlaylist(t._id);case 5:e.sent&&this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(e){console.log(e),this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(fe.a,{className:"card"},r.a.createElement(ge.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(ve.a,{className:"btn btn-primary float-right btn-remove",color:"danger",onClick:this.deletePlaylist.bind(this,this.props)},"x"),r.a.createElement(ve.a,{color:"primary",onClick:this.loadPlaylist.bind(this,this.props),className:this.state.loading?"loading btn btn-primary float-left":"btn btn-primary float-left"},this.state.loading?"Loading...":"Load")),r.a.createElement(ht.a,{style:{textAlign:"center"}},this.props.name))))}}]),a}(n.Component),gt=(n.Component,function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).boxChange=function(e){n.setState({checked:e.target.checked})},n.toggle=function(){n.setState({modal:!n.state.modal,playlistName:n.props.playlistName})},n.onChange=function(e){n.setState(Object(mt.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault(),n.props.Updateplaylist(n.state.playlistName,n.props.playlistId,n.state.checked),n.toggle()},n.state={modal:!1,playlistName:n.props.playlistName,checked:n.props.isPrivate,playlistOwner:n.props.playlistOwner,userName:n.props.userName},n.toggle=n.toggle.bind(Object(d.a)(n)),n.onChange=n.onChange.bind(Object(d.a)(n)),n.onSubmit=n.onSubmit.bind(Object(d.a)(n)),n.boxChange=n.boxChange.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({playlistName:this.props.playlistName,checked:this.props.isPrivate,playlistOwner:this.props.playlistOwner,userName:this.props.userName})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ve.a,{className:"float-right btn-margin btn btn-secondary button",onClick:this.toggle,href:"#",color:"primary",disabled:!(this.props.playlistId&&this.state.playlistOwner===this.state.userName||"Admin"===this.props.userRole)},"Save playlist as"),r.a.createElement(Me.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Re.a,{className:"mb-4",toggle:this.toggle},"Save playlist as",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(qe.a,{onSubmit:this.onSubmit},r.a.createElement(Be.a,null,r.a.createElement(We.a,null,r.a.createElement(Ge.a,{className:"label",for:"name"},"Name:"),r.a.createElement(Ve.a,{type:"name",name:"playlistName",id:"playlistName",placeholder:this.state.playlistName,value:this.state.playlistName||"",className:"mb-4",onChange:this.onChange}),r.a.createElement("div",{className:"check"},r.a.createElement(Ge.a,{check:!0,className:"float-right"},r.a.createElement(Ve.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(ve.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component));function bt(e,t){var a=(t?["All","Random","Rock","EDM","Rap","Chill","parti"]:["Random","Rock","EDM","Rap","Chill","parti"]).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}));return r.a.createElement(Ve.a,{onChange:e,type:"select",name:"select",id:"exampleSelect"},a)}var vt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",checked:!1,select:"Random"},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(mt.a)({},t.target.name,t.target.value)),console.log(e.state.select)},e.onSubmit=function(t){t.preventDefault(),console.log(t),e.props.makePlaylist(e.state.name,[],e.state.checked,e.state.select),e.toggle()},e.boxChange=function(t){e.setState({checked:t.target.checked})},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ve.a,{className:" btn-margin btn-secondary btn button",onClick:this.toggle,href:"#",color:"secondary"},"Create Playlist"),r.a.createElement(Me.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Re.a,{className:"mb-4",toggle:this.toggle},"Create a new playlist here :)",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(qe.a,{onSubmit:this.onSubmit},r.a.createElement(Be.a,null,r.a.createElement(We.a,null,r.a.createElement(Ge.a,{for:"name"},"Name for the playlist:"),r.a.createElement(Ve.a,{type:"name",name:"name",id:"name",placeholder:"epic-partylist",className:"mb-4",onChange:this.onChange}),r.a.createElement(Ge.a,{className:""},"Genres"),bt(this.onChange),r.a.createElement("br",null),r.a.createElement("div",{className:"check"},r.a.createElement(Ge.a,{check:!0,className:"float-right "},r.a.createElement(Ve.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(ve.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component),kt=(a(251),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={playlist:e.props.playlist,editMode:e.props.editMode,fade:!1},e.onAddClick=function(t){e.setState({fade:!0}),e.props.addFunc(t)},e.onPlayClick=function(t){e.props.onPlay(t)},e.onDeleteClick=function(t){e.props.onDeleteFromPlaylist(t)},e.playNextClick=function(t){e.props.playNext(t)},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({playlist:this.props.playlist,editMode:this.props.editMode})}},{key:"render",value:function(){var e=this,t=this.state.fade;return r.a.createElement(fe.a,{onAnimationEnd:function(){return e.setState({fade:!1})},className:t?"card fade2":"card",onDoubleClick:this.onPlayClick.bind(this,this.props)},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbuttonplaylist ",onClick:this.onPlayClick.bind(this,this.props)},this.props.thumbnail&&r.a.createElement("img",{height:60,src:this.props.thumbnail,width:60,style:{position:"absolute"},id:"thumbnail"}),r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.d,id:"thumbnail2"}))),r.a.createElement(ye.a,{xs:"6",sm:"6"},r.a.createElement(be.a,null,this.props.title," ")," ",this.props.artists&&r.a.createElement(Et,{artists:this.props.artists})),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("small",{className:"float-left"},this.props.duration)),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},this.props.editMode?r.a.createElement(ve.a,{className:"btn btn-secondary btn-remove float-right btn-item",color:"danger",onClick:this.onDeleteClick.bind(this,this.props)},"x"):r.a.createElement("div",{className:"flex-container"},r.a.createElement(ve.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:this.playNextClick.bind(this,this.props)},"+N"),r.a.createElement(ve.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:this.onAddClick.bind(this,this.props)},"+Q")))))))}}]),a}(n.Component)),Et=function(e){return e.artists.map((function(e){return r.a.createElement(r.a.Fragment,null,e.name," \xa0")}))},wt=kt,xt=Object(nt.b)((function(e){var t=e.uniqueId,a=e.title,n=e.publishedAt,s=e.videoId,i=e.onAdd,l=e.onPlay,o=e.onDeleteFromPlaylist,c=e.duration,u=e.onRemove,p=e.editMode,d=e.playNext,m=e.thumbnail,h=e.artists;return r.a.createElement(wt,{key:t,uniqueId:t,title:a,videoId:s,addFunc:i,onPlay:l,onDeleteFromPlaylist:o,onRemove:u,duration:c,publishedAt:n,editMode:p,playNext:d,thumbnail:m&&m,artists:h})})),Pt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderRow=function(t){var a=t.index,n=t.style,s=e.props.playlist;console.log(s);var i=s[a],l=i.title,o=i.publishedAt,c=i.videoId,u=i.uniqueId,p=i.duration,d=i.thumbnail,m=i.artists;return r.a.createElement("div",{key:u,style:n},r.a.createElement(xt,{index:a,key:u,uniqueId:u,title:l,videoId:c,onAdd:e.props.onAdd,onPlay:e.props.onPlay,onDeleteFromPlaylist:e.props.onDeleteFromPlaylist,onRemove:e.props.onRemove,duration:p,publishedAt:o,editMode:e.props.editMode,playNext:e.props.playNext,thumbnail:d&&d,artists:m}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.getRef,t=this.props.playlist;return r.a.createElement(st.c,{ref:e,rowHeight:82,rowRenderer:this.renderRow,rowCount:t.length,width:this.props.width,height:500})}}]),a}(n.Component),Ot=Object(nt.a)(Pt),jt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({filter:e.target.value})},n.toggle=function(){n.setState({editMode:!n.state.editMode}),setTimeout((function(){return n.props.loadPlaylist(n.state.playlistId)}),200),n.List.recomputeRowHeights(),n.List.forceUpdate()},n.registerListRef=function(e){n.List=e},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;if(t!==a){var r=n.props.playlist;n.setState({playlist:ct()(r,t,a)}),n.props.setPlaylist(n.state.playlist),n.props.UpdateCurrentPlaylist(),n.List.recomputeRowHeights(),n.List.forceUpdate()}},n.state={playlists:n.props.playlists,playlist:n.props.playlist,playlistName:n.props.playlistName,playlistId:n.props.playlistId,editMode:!1,filter:"",playlistOwner:n.props.playlistOwner,userName:n.props.userName},n.UpdateCurrentPlaylist=n.UpdateCurrentPlaylist.bind(Object(d.a)(n)),n.toggle=n.toggle.bind(Object(d.a)(n)),n.onDeleteFromPlaylist=n.onDeleteFromPlaylist.bind(Object(d.a)(n)),n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.addPlaylistToQueue=n.addPlaylistToQueue.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"addPlaylistToQueue",value:function(e){this.props.addPlaylistToQueue(e)}},{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({playlist:this.props.playlist,playlists:this.props.playlists.reverse,playlistName:this.props.playlistName,playlistId:this.props.playlistId,playlistOwner:this.props.playlistOwner,userName:this.props.userName})}},{key:"onDeleteFromPlaylist",value:function(e){console.log(e);for(var t=0;t<this.state.playlist.length;t++)if(this.state.playlist[t].uniqueId===e.uniqueId){this.state.playlist.splice(t,1);break}this.props.onDeleteFromPlaylist(e)}},{key:"playPlaylist",value:function(e){console.log(e),console.log("playPlaylist"),this.props.playPlaylist(e)}},{key:"UpdateCurrentPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.setPlaylist(this.state.playlist),e.next=3,this.props.UpdateCurrentPlaylist();case 3:this.toggle();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.filter,a=this.props,n=(a.playlists,a.playlist);console.log(n);var s=t.toLowerCase(),i=n.filter((function(e){return null===e||"undefined"===typeof e?n:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"title"===t&&e[t].toLowerCase().includes(s)}))}));return console.log(i),r.a.createElement("div",null,r.a.createElement("div",{className:"btn-group "},r.a.createElement(ve.a,{className:"float-left btn-margin btn-secondary",color:"info",onClick:this.playPlaylist.bind(this,i),disabled:!this.props.playlist[0]},"Play playlist"),r.a.createElement(vt,{makePlaylist:this.props.makePlaylist,playlistName:this.state.playlistName,setLoading:this.setLoading}),r.a.createElement(gt,{userRole:this.props.userRole,userName:this.state.userName,playlistId:this.props.playlistId,isPrivate:this.props.isPrivate,Updateplaylist:this.props.Updateplaylist,playlistName:this.state.playlistName,playlistOwner:this.state.playlistOwner,setLoading:this.setLoading}),r.a.createElement(ve.a,{className:"float-right btn-margin btn btn-secondary button",color:"info",onClick:this.addPlaylistToQueue.bind(this,i),disabled:!this.props.playlist[0]},"+ Q")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"float-left"},"Current playlist: ",this.state.playlistName),r.a.createElement("br",null),r.a.createElement(Ve.a,{value:t,onChange:this.handleChange,placeholder:"Filter songs..."}),r.a.createElement("hr",null),r.a.createElement(ve.a,{color:(this.state.editMode,"secondary"),className:"float-right btn-remove",onClick:this.toggle,disabled:!this.state.playlistName},this.state.editMode?"Revert changes":"Edit"),this.state.editMode?r.a.createElement(ve.a,{onClick:this.UpdateCurrentPlaylist,className:"float-right btn-remove"},"Save"):null,r.a.createElement("p",{className:"float-left"},"Total songs: ",i.length),r.a.createElement(st.a,{disableHeight:!0},(function(t){var a=t.width;return r.a.createElement(Ot,{playNext:e.props.playNext,editMode:e.state.editMode,getRef:e.registerListRef,playlist:i,onSortEnd:e.onSortEnd,onAdd:e.props.onAdd,onPlay:e.props.onPlay,onDeleteFromPlaylist:e.onDeleteFromPlaylist,width:a,distance:10})})))}}]),a}(n.Component),Nt=a(552),St=a(101),Ct=(a(483),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={name:n.props.name.substring(0,400)},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({name:this.props.name})}},{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e)}},{key:"deletePlayList",value:function(e){this.props.deletePlaylist(e)}},{key:"render",value:function(){return r.a.createElement(St.b,{id:this.props._id},r.a.createElement(St.a,{id:this.props._id},r.a.createElement(St.c,{data:{foo:"bar"},onClick:this.loadPlaylist.bind(this,this.props._id)},"Load playlist"),r.a.createElement(St.c,{data:{foo:"bar"},onClick:this.deletePlayList.bind(this,this.props._id)},"Delete playlist")),r.a.createElement("div",{onClick:this.loadPlaylist.bind(this,this.props._id),className:"sidebar-playlist"},this.state.name))}}]),a}(r.a.Component)),It=(a(484),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),Tt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getPlaylists=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It(2e3);case 2:n.props.getPlaylist();case 3:case"end":return e.stop()}}),e)}))),n.toggletip=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.state={playlists:n.props.playlists,loading:!1},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({playlists:this.props.playlists})}},{key:"componentDidMount",value:function(){this.getPlaylists()}},{key:"getPlaylists2",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.setLoading(!0),e.next=3,this.props.getPlaylist();case 3:this.props.setLoading(!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("div",{className:"sidebardiv"},r.a.createElement("h3",null,"Playlists"),r.a.createElement(Nt.a,{placement:"top",isOpen:this.state.tooltipOpen,target:"TooltipExample2",toggle:this.toggletip},"Refresh playlists"),r.a.createElement("div",{id:"TooltipExample2",className:"refreshbuttonarea",onClick:this.getPlaylists2.bind(this,this.props)},r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.f})),r.a.createElement(vt,{makePlaylist:this.props.makePlaylist,playlistName:this.state.playlistName}),r.a.createElement("br",null),r.a.createElement("div",{className:"playlists-sidebar"},this.state.playlists.map((function(t,a){return r.a.createElement("div",{key:t._id},r.a.createElement(Ct,{loadPlaylist:e.props.loadPlaylist,name:t.name,_id:t._id,deletePlaylist:e.props.deletePlaylist}))}))))}}]),a}(n.Component);function At(e,t){return Math.floor(Math.random()*(e-t)+t)}var Ut=function e(t,a,n,r,s,i,l){Object(u.a)(this,e),this.title=void 0,this.channelTitle=void 0,this.videoId=void 0,this.uniqueId=void 0,this.duration=void 0,this.artists=void 0,this.album=void 0,this.title=t,this.channelTitle=a,this.videoId=n,this.uniqueId=r,this.duration=s,this.artists=i,this.album=l},Dt=a(266),Lt=a.n(Dt),qt=a(47),Mt=a(558),Rt=(a(502),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onAddClick=function(e){n.props.addFunc(e)},n.onPlayClick=function(e){n.props.onPlay(e)},n.onAddToPlaylist=function(e){n.props.AddToPlaylist(e)},n.state={uniqueId:Math.random(),title:n.props.name,videoId:n.props.url.split("https://www.youtube.com/watch?v=")[1]},n.loadPlaylist=n.loadPlaylist.bind(Object(d.a)(n)),n.deletePlaylist=n.deletePlaylist.bind(Object(d.a)(n)),n.onAddClick=n.onAddClick.bind(Object(d.a)(n)),n.onPlayClick=n.onPlayClick.bind(Object(d.a)(n)),n.onAddToPlaylist=n.onAddToPlaylist.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(fe.a,{className:"card"},r.a.createElement(ge.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(ve.a,{className:"btn btn-primary float-right btn-remove",color:"secondary",onClick:this.onAddToPlaylist.bind(this,this.state)},"+ P"),r.a.createElement(ve.a,{className:"btn btn-primary float-left btn-remove",onClick:this.onPlayClick.bind(this,this.state),color:"primary"},"Play"),r.a.createElement(ve.a,{className:"btn btn-primary float-right btn-remove",color:"info",onClick:this.onAddClick.bind(this,this.state)},"+ Q")),r.a.createElement(ht.a,{style:{textAlign:"center"}},this.state.title))))}}]),a}(n.Component)),Bt=(a(503),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",history:e.props.history},e.onChange=function(t){e.setState(Object(mt.a)({},t.target.name,t.target.value))},e.onSubmit=function(e){e.preventDefault()},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({history:this.props.history})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Me.a,{isOpen:this.props.isOpen,toggle:this.props.toggle},r.a.createElement(Re.a,{className:"mb-4",toggle:this.props.toggle},"Recently played songs:"),r.a.createElement(he.a,null,r.a.createElement("div",{className:"clearButton"},r.a.createElement(ve.a,{className:"float-right",onClick:this.props.clearList},"Clear All"))),r.a.createElement(Be.a,null,r.a.createElement("div",{id:"videolist"},this.state.history.map((function(t){var a=t.title,n=t.videoId,s=t.url;return r.a.createElement(Te.CSSTransition,{key:Math.random(),timeout:500,classNames:"fade"},r.a.createElement(Rt,{url:s,name:a,videoId:n,addFunc:e.props.addFunc,onPlay:e.props.onPlay,AddToPlaylist:e.props.AddToPlaylist}))}))))))}}]),a}(n.Component));function zt(e){var t=e.className,a=e.seconds;return r.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=Ft(t.getUTCSeconds());if(a)return"".concat(a,":").concat(Ft(n),":").concat(r);return"".concat(n,":").concat(r)}(a))}function Ft(e){return("0"+e).slice(-2)}a(504);function _t(e){return("0"+e).slice(-2)}function Qt(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=_t(t.getUTCSeconds());return a?"".concat(a,".").concat(_t(n),".").concat(r):"".concat(n,".").concat(r)}var Ht=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleShuffle=function(){n.props.setShuffle()},n.load=function(e){n.setState({url:e,played:0,loaded:0,pip:!1})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.setMute=function(){console.log("I was clicked"),n.setState({muted:!n.state.muted})},n.clearHistory=function(){n.setState({history:[]})},n.handlePlayPause=function(){var e=n.state.playing;n.setState({playing:!n.state.playing}),n.props.setPlaying(!e),null!==n.state.url||n.state.playing||n.handlePlayNext()},n.handlePlay=function(){console.log("onPlay"),n.setState({playing:!0}),null===n.state.url&&n.handlePlayNext(),setTimeout((function(){n.setState({muted:!0})}),50),setTimeout((function(){n.setState({muted:!1})}),100)},n.addToHistory=function(e){0!==e.duration&&"error"!==e.title&&(n.state.history.unshift(e),n.state.historyToPlayFrom.unshift(e))},n.handlePlayPrevious=function(){if("undefined"!==typeof n.state.historyToPlayFrom[0]){var e=n.state.historyToPlayFrom.shift();console.log("ASDASDASD"),console.log(e),n.props.setTitle(e.title);var t=e.url,a=e.duration;t===n.state.url&&n.player.seekTo(0),n.setState({playing:!0,url:t,title:e.title,played:0,durationFromObject:a}),qt.a.notify(r.a.createElement("span",null,"Now playing: ",e.title),{duration:1200}),n.props.setUrl(t)}},n.handlePlayNext=function(){var e;if(console.log("onPlay"),"undefined"!==typeof n.state.array[0]){e=n.state.shuffle?n.state.array[Math.floor(Math.random()*(n.state.array.length-1))]:n.state.array[0],n.props.setTitle(e.title),n.props.setArtist(e.artists);var t=e.videoId,a="https://www.youtube.com/watch?v="+t,s=e.duration;e.artists;console.log(e),a===n.state.url&&n.player.seekTo(0),n.setState({playing:!0,url:a,title:e.title,played:0,durationFromObject:s,videoId:t}),qt.a.notify(r.a.createElement("span",null,"Now playing: ",e.title),{duration:1200}),n.props.onRemove(e),n.props.setUrl(a)}else n.setState({playing:!1,url:null})},n.handleVolumeChange=function(e){n.setState({volume:parseFloat(e.target.value)})},n.handlePause=function(){console.log("onPause"),n.setState({playing:!1})},n.handleEnded=function(){if(console.log("onEnded"),null!==n.state.url){var e={};e.title=n.state.title||"error",e.url=n.state.url,e.duration=n.state.durationFromObject,e.videoID=n.state.videoId,n.addToHistory(e)}n.handlePlayNext()},n.renderLoadButton=function(e,t){return r.a.createElement("button",{onClick:function(){return n.load(e)}},t)},n.ref=function(e){n.player=e},n.toggletip=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.shuffleRandomTip=function(){n.setState({shuffleRandomTip:!n.state.shuffleRandomTip})},n.handleStartOver=function(){n.seekTo0()},n.handleDuration=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.durationFromObject===Qt(t)){e.next=5;break}if(a=JSON.stringify({duration:Qt(t),videoId:n.state.videoId}),""===n.state.playlistId){e.next=5;break}return e.next=5,Z(a,n.state.playlistId);case 5:n.setState({duration:t});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSeekMouseDown=function(e){n.setState({seeking:!0})},n.handleSeekChange=function(e){console.log(n.props),n.setState({played:parseFloat(e.target.value)})},n.handleSeekMouseUp=function(e){n.setState({seeking:!1}),n.player.seekTo(parseFloat(e.target.value))},n.handleProgress=function(e){n.state.seeking||n.setState(e)},n.state={url:n.props.url,title:"",pip:!1,playing:!1,controls:!0,light:!1,volume:.5,muted:!1,duration:0,played:0,loaded:0,playbackRate:1,loop:!1,array:n.props.array,modal:!1,history:[],tooltipOpen:!1,historyToPlayFrom:[],durationFromObject:n.props.duration,playlistId:n.props.playlistId,shuffle:n.props.isShuffle},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){if(!je()(this.props,e)&&(this.setState({url:this.props.url,array:this.props.array,title:this.props.title,playing:this.props.playing,playlistId:this.props.playlistId,shuffle:this.props.isShuffle}),function(e){if("string"!==typeof e)throw new Error("Title should be an string");document.title=e}(this.props.title),this.props.url!==e.url&&"undefined"!==typeof e.url&&null!==e.url)){var t={};if(console.log(e),console.log(this.props),t.title=e.title||"error",t.url=e.url,t.duration=e.duration,null===t.url)return}}},{key:"seekTo0",value:function(){this.player.seekTo(0)}},{key:"render",value:function(){var e,t=this.state,a=t.playing,n=t.volume,s=t.duration,i=t.played;return r.a.createElement("div",{className:"MediaPlayerdiv"},r.a.createElement(he.a,null,r.a.createElement(ye.a,{sm:"3"},this.state.title&&this.state.title.length>0?r.a.createElement("span",{className:"marquee"},r.a.createElement("span",null,this.state.title," - ",this.props.artist),r.a.createElement("span",null," ",this.state.title," - ",this.props.artist)):r.a.createElement("p",{className:"titleplaying"}," ",this.state.title," - ",this.props.artist),r.a.createElement(Nt.a,{placement:"top",isOpen:this.state.tooltipOpen,target:"TooltipExample",toggle:this.toggletip},this.state.title," - ",this.props.artist),r.a.createElement("div",{className:"testi123",id:"TooltipExample"},r.a.createElement(Lt.a,{ref:this.ref,muted:this.state.muted,className:"react-player",width:"100%",height:"100%",url:this.state.url,playing:a,controls:!0,volume:n,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handlePlayNext,onDuration:this.handleDuration,onProgress:this.handleProgress}))),r.a.createElement(ye.a,{sm:"6"},r.a.createElement("div",{className:"playercontrols"},r.a.createElement(he.a,null,r.a.createElement(ye.a,{sm:"2"}," ",r.a.createElement("div",{className:"elapsedTime float-right"},r.a.createElement(zt,{seconds:s*i}))),r.a.createElement(ye.a,{sm:"8",className:"asd"},r.a.createElement(he.a,null,r.a.createElement("div",{className:"durationcontrol"},r.a.createElement(Mt.a,(e={type:"range",id:"exampleCustomRange",name:"customRange"},Object(mt.a)(e,"type","range"),Object(mt.a)(e,"min",0),Object(mt.a)(e,"max",.999999),Object(mt.a)(e,"step","any"),Object(mt.a)(e,"value",i),Object(mt.a)(e,"onMouseDown",this.handleSeekMouseDown),Object(mt.a)(e,"onChange",this.handleSeekChange),Object(mt.a)(e,"onMouseUp",this.handleSeekMouseUp),e)))),r.a.createElement(he.a,null,r.a.createElement("div",{className:"buttonit"},a?r.a.createElement("div",{className:"buttonArea",onClick:this.handlePlayPause},r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.c})):r.a.createElement("div",{className:"buttonArea",disabled:!this.props.array[0],onClick:this.handlePlayPause},r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.d})),r.a.createElement("div",{className:"buttonArea2",onClick:this.handleEnded},r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.b})),r.a.createElement("div",{className:"buttonArea3",onClick:this.handlePlayPrevious},r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.a})),r.a.createElement(Nt.a,{placement:"top",isOpen:this.state.shuffleRandomTip,target:"shuffleRandomTip",toggle:this.shuffleRandomTip},"Toggle Shuffle"),r.a.createElement("div",{id:"shuffleRandomTip",className:"buttonArea4",onClick:this.handleShuffle},r.a.createElement(we.a,{className:this.state.shuffle?"Active":"null",size:"lg",icon:Ee.e})," ")))),r.a.createElement(ye.a,{sm:"2"}," ",r.a.createElement("div",{className:"durationOfSong float-left"},r.a.createElement(zt,{seconds:s})))))),r.a.createElement(ye.a,{sm:"3"},r.a.createElement("div",{className:"historybutton"},r.a.createElement(ve.a,{disabled:!this.state.history[0],className:"btn-controls btn-secondary float-right",onClick:this.toggle},"History"),r.a.createElement(Bt,{isOpen:this.state.modal,toggle:this.toggle,history:this.state.history,clearList:this.clearHistory,addFunc:this.props.onAdd,onPlay:this.props.onPlay,AddToPlaylist:this.props.AddToPlaylist})),r.a.createElement("div",{className:"volumeiconcontrols"},r.a.createElement("div",{className:"volumecontrol"},r.a.createElement("div",{className:"volumecontrolicon",onClick:this.setMute},this.state.muted?r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.g}):r.a.createElement(we.a,{className:"Active",size:"lg",icon:Ee.h})),r.a.createElement(Mt.a,{type:"range",id:"exampleCustomRange",name:"customRange",min:0,max:1,step:"any",value:n,onChange:this.handleVolumeChange}))))),r.a.createElement("div",null,r.a.createElement("tr",null,r.a.createElement("th",null,"remaining"),r.a.createElement("td",null,r.a.createElement(zt,{seconds:s*(1-i)})))))}}]),a}(n.Component),Vt=(a(505),a(506),a(120)),Yt=a.n(Vt),Jt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading2",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Yt.a,{size:15,color:this.props.color||"#c45a8e",loading:this.state.loading,margin:2}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component),Wt=a(507),Gt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Kt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n,r,s;return Object(u.a)(this,a),(s=t.call(this,e)).player=void 0,s.getArtists=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return s.setState({error:!1,loading:!0,items:[]}),e.next=5,se(t);case 5:a=e.sent,s.setState({items:a,loading:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.setArtist=function(e){e&&e[0]?s.setState({artist:e[0].name}):s.setState({artist:""})},s.sortBySimilarity=function(e,t){var a,n=Object(me.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.similarity=Wt.compareTwoStrings(r.title,t)}}catch(s){n.e(s)}finally{n.f()}return e.sort((function(e,t){return t.similarity-e.similarity})),e},s.setTab=function(e){s.setState({focusedTab:e})},s.ref=function(e){s.player=e},s.onAdd=s.onAdd.bind(Object(d.a)(s)),s.onDelete=s.onDelete.bind(Object(d.a)(s)),s.onPlay=s.onPlay.bind(Object(d.a)(s)),s.getPlaylist=s.getPlaylist.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.AddToPlaylist=s.AddToPlaylist.bind(Object(d.a)(s)),s.onDeleteFromPlaylist=s.onDeleteFromPlaylist.bind(Object(d.a)(s)),s.addPlaylistToQueue=s.addPlaylistToQueue.bind(Object(d.a)(s)),s.loadPlaylist=s.loadPlaylist.bind(Object(d.a)(s)),s.playPlaylist=s.playPlaylist.bind(Object(d.a)(s)),s.makePlaylist=s.makePlaylist.bind(Object(d.a)(s)),s.Updateplaylist=s.Updateplaylist.bind(Object(d.a)(s)),s.deletePlaylist=s.deletePlaylist.bind(Object(d.a)(s)),s.UpdateCurrentPlaylist=s.UpdateCurrentPlaylist.bind(Object(d.a)(s)),s.shuffleQueue=s.shuffleQueue.bind(Object(d.a)(s)),s.clearQueue=s.clearQueue.bind(Object(d.a)(s)),s.setQueue=s.setQueue.bind(Object(d.a)(s)),s.setUrl=s.setUrl.bind(Object(d.a)(s)),s.setPlaylist=s.setPlaylist.bind(Object(d.a)(s)),s.setTitle=s.setTitle.bind(Object(d.a)(s)),s.setPlaying=s.setPlaying.bind(Object(d.a)(s)),s.playNext=s.playNext.bind(Object(d.a)(s)),s.setLoading=s.setLoading.bind(Object(d.a)(s)),s.handleDB=s.handleDB.bind(Object(d.a)(s)),s.setTab=s.setTab.bind(Object(d.a)(s)),s.setShuffle=s.setShuffle.bind(Object(d.a)(s)),s.state={items:[],queue:[],playlist:[],contentDetails:[],Allplaylists:[],playlists:(null===(n=s.props)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.playlists)||[],loading:!1,updated:!1,url:"",playing:!0,playlistId:"",playlistName:"",error:!1,title:"",user:null,token:"",userName:"",userRole:"",loadingPlaylists:!1,loadingPlaylist:!1,duration:"",focusedTab:"1",dbitems:[],shuffle:!1,artist:""},s}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||(this.setState({user:this.props.data}),this.setState({playlists:this.props.data.playlists}))}},{key:"setShuffle",value:function(){this.setState({shuffle:!this.state.shuffle})}},{key:"playNext",value:function(e){console.log(e);var t=Object.assign({},e);t.uniqueId=Math.random(),this.state.queue.unshift(t),this.setState({updated:!0}),qt.a.notify(r.a.createElement("span",null,e.title," added to in front of the queue."),{duration:800})}},{key:"setPlaying",value:function(e){this.setState({playing:e})}},{key:"setQueue",value:function(e){console.log(this.state.url),this.setState({queue:e}),console.log(this.state.url)}},{key:"isSame",value:function(e,t){for(var a=0;a<e.length;a++)if(e[a].title!==t[a].title)return!1;return!0}},{key:"handleDB",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return this.setState({error:!1,loading:!0}),e.next=5,z(a);case 5:n=e.sent,r=this.sortBySimilarity(n,a),this.setState({dbitems:r,loading:!1}),0===r.length&&this.setState({error:!0,loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"shuffleQueue",value:function(){for(var e=this.state.queue,t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}this.setState({queue:e})}},{key:"clearQueue",value:function(){"undefined"!==typeof this.state.queue[0]&&this.setState({queue:[]})}},{key:"setPlaylist",value:function(e){this.setState({playlist:e}),console.log(e)}},{key:"componentDidMount",value:function(){var e=ce.currentUserValue;e&&e.token&&this.setState({token:e.token,userName:e.user.name,userRole:e.user.role})}},{key:"componentWillUnmount",value:function(){}},{key:"playPlaylist",value:function(e){console.log(e);for(var t=[],a=0;a<e.length;a++)if(0===a){var n=new Ut(e[a].title,e[a].channelTitle,e[a].videoId,Math.random(),e[a].duration,e[a].artists,e[a].album);console.log(e[a].artists),console.log(n),this.onPlay(n)}else{var s=new Ut(e[a].title,e[a].channelTitle,e[a].videoId,Math.random(),e[a].duration,e[a].artists,e[a].album);t.push(s)}this.setState({queue:t}),qt.a.notify(r.a.createElement("span",{className:"styled-toast"},"Now playing: ",this.state.playlistName),{duration:1200})}},{key:"addPlaylistToQueue",value:function(e){for(var t=this.state.queue,a=0;a<e.length;a++){var n=new Ut(e[a].title,e[a].channelTitle,e[a].videoId,Math.random(),e[a].duration,e[a].artists,e[a].album);t.push(n)}this.setState({queue:t}),qt.a.notify(r.a.createElement("span",null,this.state.playlistName," added to the queue!"),{duration:1200})}},{key:"AddToPlaylist",value:function(e){var t=this;console.log(e),""===this.state.playlistId&&""===this.state.playlistName?(alert("No playlist selected. Creating a new playlist.\nGenerating name..."),this.state.playlist.push(e),this.makePlaylist(function(){var e=["abandoned","able","absolute","adorable","adventurous","academic","acceptable","acclaimed","accomplished","accurate","aching","acidic","acrobatic","active","actual","adept","admirable","admired","adolescent","adorable","adored","advanced","afraid","affectionate","aged","aggravating","aggressive","agile","agitated","agonizing","agreeable","ajar","alarmed","alarming","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","amusing","anchored","ancient","angelic","angry","anguished","animated","annual","another","antique","anxious","any","apprehensive","appropriate","apt","arctic","arid","aromatic","artistic","ashamed","assured","astonishing","athletic","attached","attentive","attractive","austere","authentic","authorized","automatic","avaricious","average","aware","awesome","awful","awkward","babyish","bad","back","baggy","bare","barren","basic","beautiful","belated","beloved","beneficial","better","best","bewitched","big","big-hearted","biodegradable","bite-sized","bitter","black","black-and-white","bland","blank","blaring","bleak","blind","blissful","blond","blue","blushing","bogus","boiling","bold","bony","boring","bossy","both","bouncy","bountiful","bowed","brave","breakable","brief","bright","brilliant","brisk","broken","bronze","brown","bruised","bubbly","bulky","bumpy","buoyant","burdensome","burly","bustling","busy","buttery","buzzing","calculating","calm","candid","canine","capital","carefree","careful","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","cheery","chief","chilly","chubby","circular","classic","clean","clear","clear-cut","clever","close","closed","cloudy","clueless","clumsy","cluttered","coarse","cold","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complex","complicated","composed","concerned","concrete","confused","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","coordinated","corny","corrupt","costly","courageous","courteous","crafty","crazy","creamy","creative","creepy","criminal","crisp","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cultured","cumbersome","curly","curvy","cute","cylindrical","damaged","damp","dangerous","dapper","daring","darling","dark","dazzling","dead","deadly","deafening","dear","dearest","decent","decimal","decisive","deep","defenseless","defensive","defiant","deficient","definite","definitive","delayed","delectable","delicious","delightful","delirious","demanding","dense","dental","dependable","dependent","descriptive","deserted","detailed","determined","devoted","different","difficult","digital","diligent","dim","dimpled","dimwitted","direct","disastrous","discrete","disfigured","disgusting","disloyal","dismal","distant","downright","dreary","dirty","disguised","dishonest","dismal","distant","distinct","distorted","dizzy","dopey","doting","double","downright","drab","drafty","dramatic","dreary","droopy","dry","dual","dull","dutiful","each","eager","earnest","early","easy","easy-going","ecstatic","edible","educated","elaborate","elastic","elated","elderly","electric","elegant","elementary","elliptical","embarrassed","embellished","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enormous","enraged","entire","envious","equal","equatorial","essential","esteemed","ethical","euphoric","even","evergreen","everlasting","every","evil","exalted","excellent","exemplary","exhausted","excitable","excited","exciting","exotic","expensive","experienced","expert","extraneous","extroverted","extra-large","extra-small","fabulous","failing","faint","fair","faithful","fake","false","familiar","famous","fancy","fantastic","far","faraway","far-flung","far-off","fast","fat","fatal","fatherly","favorable","favorite","fearful","fearless","feisty","feline","female","feminine","few","fickle","filthy","fine","finished","firm","first","firsthand","fitting","fixed","flaky","flamboyant","flashy","flat","flawed","flawless","flickering","flimsy","flippant","flowery","fluffy","fluid","flustered","focused","fond","foolhardy","foolish","forceful","forked","formal","forsaken","forthright","fortunate","fragrant","frail","frank","frayed","free","French","fresh","frequent","friendly","frightened","frightening","frigid","frilly","frizzy","frivolous","front","frosty","frozen","frugal","fruitful","full","fumbling","functional","funny","fussy","fuzzy","gargantuan","gaseous","general","generous","gentle","genuine","giant","giddy","gigantic","gifted","giving","glamorous","glaring","glass","gleaming","gleeful","glistening","glittering","gloomy","glorious","glossy","glum","golden","good","good-natured","gorgeous","graceful","gracious","grand","grandiose","granular","grateful","grave","gray","great","greedy","green","gregarious","grim","grimy","gripping","grizzled","gross","grotesque","grouchy","grounded","growing","growling","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","half","handmade","handsome","handy","happy","happy-go-lucky","hard","hard-to-find","harmful","harmless","harmonious","harsh","hasty","hateful","haunting","healthy","heartfelt","hearty","heavenly","heavy","hefty","helpful","helpless","hidden","hideous","high","high-level","hilarious","hoarse","hollow","homely","honest","honorable","honored","hopeful","horrible","hospitable","hot","huge","humble","humiliating","humming","humongous","hungry","hurtful","husky","icky","icy","ideal","idealistic","identical","idle","idiotic","idolized","ignorant","ill","illegal","ill-fated","ill-informed","illiterate","illustrious","imaginary","imaginative","immaculate","immaterial","immediate","immense","impassioned","impeccable","impartial","imperfect","imperturbable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incompatible","incomplete","inconsequential","incredible","indelible","inexperienced","indolent","infamous","infantile","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","insubstantial","intelligent","intent","intentional","interesting","internal","international","intrepid","ironclad","irresponsible","irritating","itchy","jaded","jagged","jam-packed","jaunty","jealous","jittery","joint","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","jumpy","juvenile","kaleidoscopic","keen","key","kind","kindhearted","kindly","klutzy","knobby","knotty","knowledgeable","knowing","known","kooky","kosher","lame","lanky","large","last","lasting","late","lavish","lawful","lazy","leading","lean","leafy","left","legal","legitimate","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","loathsome","lone","lonely","long","long-term","loose","lopsided","lost","loud","lovable","lovely","loving","low","loyal","lucky","lumbering","luminous","lumpy","lustrous","luxurious","mad","made-up","magnificent","majestic","major","male","mammoth","married","marvelous","masculine","massive","mature","meager","mealy","mean","measly","meaty","medical","mediocre","medium","meek","mellow","melodic","memorable","menacing","merry","messy","metallic","mild","milky","mindless","miniature","minor","minty","miserable","miserly","misguided","misty","mixed","modern","modest","moist","monstrous","monthly","monumental","moral","mortified","motherly","motionless","mountainous","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","naive","narrow","nasty","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","noisy","nonstop","normal","notable","noted","noteworthy","novel","noxious","numb","nutritious","nutty","obedient","obese","oblong","oily","oblong","obvious","occasional","odd","oddball","offbeat","offensive","official","old","old-fashioned","only","open","optimal","optimistic","opulent","orange","orderly","organic","ornate","ornery","ordinary","original","other","our","outlying","outgoing","outlandish","outrageous","outstanding","oval","overcooked","overdue","overjoyed","overlooked","palatable","pale","paltry","parallel","parched","partial","passionate","past","pastel","peaceful","peppery","perfect","perfumed","periodic","perky","personal","pertinent","pesky","pessimistic","petty","phony","physical","piercing","pink","pitiful","plain","plaintive","plastic","playful","pleasant","pleased","pleasing","plump","plush","polished","polite","political","pointed","pointless","poised","poor","popular","portly","posh","positive","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","precious","previous","pricey","prickly","primary","prime","pristine","private","prize","probable","productive","profitable","profuse","proper","proud","prudent","punctual","pungent","puny","pure","purple","pushy","putrid","puzzled","puzzling","quaint","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quick-witted","quiet","quintessential","quirky","quixotic","quizzical","radiant","ragged","rapid","rare","rash","raw","recent","reckless","rectangular","ready","real","realistic","reasonable","red","reflecting","regal","regular","reliable","relieved","remarkable","remorseful","remote","repentant","required","respectful","responsible","repulsive","revolving","rewarding","rich","rigid","right","ringed","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","rundown","ruddy","rude","runny","rural","rusty","sad","safe","salty","same","sandy","sane","sarcastic","sardonic","satisfied","scaly","scarce","scared","scary","scented","scholarly","scientific","scornful","scratchy","scrawny","second","secondary","second-hand","secret","self-assured","self-reliant","selfish","sentimental","separate","serene","serious","serpentine","several","severe","shabby","shadowy","shady","shallow","shameful","shameless","sharp","shimmering","shiny","shocked","shocking","shoddy","short","short-term","showy","shrill","shy","sick","silent","silky","silly","silver","similar","simple","simplistic","sinful","single","sizzling","skeletal","skinny","sleepy","slight","slim","slimy","slippery","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","solid","somber","some","spherical","sophisticated","sore","sorrowful","soulful","soupy","sour","Spanish","sparkling","sparse","specific","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spotted","spry","square","squeaky","squiggly","stable","staid","stained","stale","standard","starchy","stark","starry","steep","sticky","stiff","stimulating","stingy","stormy","straight","strange","steel","strict","strident","striking","striped","strong","studious","stunning","stupendous","stupid","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","sure-footed","surprised","suspicious","svelte","sweaty","sweet","sweltering","swift","sympathetic","tall","talkative","tame","tan","tangible","tart","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","terrific","testy","thankful","that","these","thick","thin","third","thirsty","this","thorough","thorny","those","thoughtful","threadbare","thrifty","thunderous","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","traumatic","treasured","tremendous","tragic","trained","tremendous","triangular","tricky","trifling","trim","trivial","troubled","true","trusting","trustworthy","trusty","truthful","tubby","turbulent","twin","ugly","ultimate","unacceptable","unaware","uncomfortable","uncommon","unconscious","understated","unequaled","uneven","unfinished","unfit","unfolded","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","united","unkempt","unknown","unlawful","unlined","unlucky","unnatural","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwitting","unwritten","upbeat","upright","upset","urban","usable","used","useful","useless","utilized","utter","vacant","vague","vain","valid","valuable","vapid","variable","vast","velvety","venerated","vengeful","verifiable","vibrant","vicious","victorious","vigilant","vigorous","villainous","violet","violent","virtual","virtuous","visible","vital","vivacious","vivid","voluminous","wan","warlike","warm","warmhearted","warped","wary","wasteful","watchful","waterlogged","watery","wavy","wealthy","weak","weary","webbed","wee","weekly","weepy","weighty","weird","welcome","well-documented","well-groomed","well-informed","well-lit","well-made","well-off","well-to-do","well-worn","wet","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wide-eyed","wiggly","wild","willing","wilted","winding","windy","winged","wiry","wise","witty","wobbly","woeful","wonderful","wooden","woozy","wordy","worldly","worn","worried","worrisome","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yawning","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty","zigzag","rocky"],t=["people","history","way","art","world","information","map","family","government","health","system","computer","meat","year","thanks","music","person","reading","method","data","food","understanding","theory","law","bird","literature","problem","software","control","knowledge","power","ability","economics","love","internet","television","science","library","nature","fact","product","idea","temperature","investment","area","society","activity","story","industry","media","thing","oven","community","definition","safety","quality","development","language","management","player","variety","video","week","security","country","exam","movie","organization","equipment","physics","analysis","policy","series","thought","basis","boyfriend","direction","strategy","technology","army","camera","freedom","paper","environment","child","instance","month","truth","marketing","university","writing","article","department","difference","goal","news","audience","fishing","growth","income","marriage","user","combination","failure","meaning","medicine","philosophy","teacher","communication","night","chemistry","disease","disk","energy","nation","road","role","soup","advertising","location","success","addition","apartment","education","math","moment","painting","politics","attention","decision","event","property","shopping","student","wood","competition","distribution","entertainment","office","population","president","unit","category","cigarette","context","introduction","opportunity","performance","driver","flight","length","magazine","newspaper","relationship","teaching","cell","dealer","debate","finding","lake","member","message","phone","scene","appearance","association","concept","customer","death","discussion","housing","inflation","insurance","mood","woman","advice","blood","effort","expression","importance","opinion","payment","reality","responsibility","situation","skill","statement","wealth","application","city","county","depth","estate","foundation","grandmother","heart","perspective","photo","recipe","studio","topic","collection","depression","imagination","passion","percentage","resource","setting","ad","agency","college","connection","criticism","debt","description","memory","patience","secretary","solution","administration","aspect","attitude","director","personality","psychology","recommendation","response","selection","storage","version","alcohol","argument","complaint","contract","emphasis","highway","loss","membership","possession","preparation","steak","union","agreement","cancer","currency","employment","engineering","entry","interaction","limit","mixture","preference","region","republic","seat","tradition","virus","actor","classroom","delivery","device","difficulty","drama","election","engine","football","guidance","hotel","match","owner","priority","protection","suggestion","tension","variation","anxiety","atmosphere","awareness","bread","climate","comparison","confusion","construction","elevator","emotion","employee","employer","guest","height","leadership","mall","manager","operation","recording","respect","sample","transportation","boring","charity","cousin","disaster","editor","efficiency","excitement","extent","feedback","guitar","homework","leader","mom","outcome","permission","presentation","promotion","reflection","refrigerator","resolution","revenue","session","singer","tennis","basket","bonus","cabinet","childhood","church","clothes","coffee","dinner","drawing","hair","hearing","initiative","judgment","lab","measurement","mode","mud","orange","poetry","police","possibility","procedure","queen","ratio","relation","restaurant","satisfaction","sector","signature","significance","song","tooth","town","vehicle","volume","wife","accident","airport","appointment","arrival","assumption","baseball","chapter","committee","conversation","database","enthusiasm","error","explanation","farmer","gate","girl","hall","historian","hospital","injury","instruction","maintenance","manufacturer","meal","perception","pie","poem","presence","proposal","reception","replacement","revolution","river","son","speech","tea","village","warning","winner","worker","writer","assistance","breath","buyer","chest","chocolate","conclusion","contribution","cookie","courage","desk","drawer","establishment","examination","garbage","grocery","honey","impression","improvement","independence","insect","inspection","inspector","king","ladder","menu","penalty","piano","potato","profession","professor","quantity","reaction","requirement","salad","sister","supermarket","tongue","weakness","wedding","affair","ambition","analyst","apple","assignment","assistant","bathroom","bedroom","beer","birthday","celebration","championship","cheek","client","consequence","departure","diamond","dirt","ear","fortune","friendship","funeral","gene","girlfriend","hat","indication","intention","lady","midnight","negotiation","obligation","passenger","pizza","platform","poet","pollution","recognition","reputation","shirt","speaker","stranger","surgery","sympathy","tale","throat","trainer","uncle","youth","time","work","film","water","money","example","while","business","study","game","life","form","air","day","place","number","part","field","fish","back","process","heat","hand","experience","job","book","end","point","type","home","economy","value","body","market","guide","interest","state","radio","course","company","price","size","card","list","mind","trade","line","care","group","risk","word","fat","force","key","light","training","name","school","top","amount","level","order","practice","research","sense","service","piece","web","boss","sport","fun","house","page","term","test","answer","sound","focus","matter","kind","soil","board","oil","picture","access","garden","range","rate","reason","future","site","demand","exercise","image","case","cause","coast","action","age","bad","boat","record","result","section","building","mouse","cash","class","period","plan","store","tax","side","subject","space","rule","stock","weather","chance","figure","man","model","source","beginning","earth","program","chicken","design","feature","head","material","purpose","question","rock","salt","act","birth","car","dog","object","scale","sun","note","profit","rent","speed","style","war","bank","craft","half","inside","outside","standard","bus","exchange","eye","fire","position","pressure","stress","advantage","benefit","box","frame","issue","step","cycle","face","item","metal","paint","review","room","screen","structure","view","account","ball","discipline","medium","share","balance","bit","black","bottom","choice","gift","impact","machine","shape","tool","wind","address","average","career","culture","morning","pot","sign","table","task","condition","contact","credit","egg","hope","ice","network","north","square","attempt","date","effect","link","post","star","voice","capital","challenge","friend","self","shot","brush","couple","exit","front","function","lack","living","plant","plastic","spot","summer","taste","theme","track","wing","brain","button","click","desire","foot","gas","influence","notice","rain","wall","base","damage","distance","feeling","pair","savings","staff","sugar","target","text","animal","author","budget","discount","file","ground","lesson","minute","officer","phase","reference","register","sky","stage","stick","title","trouble","bowl","bridge","campaign","character","club","edge","evidence","fan","letter","lock","maximum","novel","option","pack","park","quarter","skin","sort","weight","baby","background","carry","dish","factor","fruit","glass","joint","master","muscle","red","strength","traffic","trip","vegetable","appeal","chart","gear","ideal","kitchen","land","log","mother","net","party","principle","relative","sale","season","signal","spirit","street","tree","wave","belt","bench","commission","copy","drop","minimum","path","progress","project","sea","south","status","stuff","ticket","tour","angle","blue","breakfast","confidence","daughter","degree","doctor","dot","dream","duty","essay","father","fee","finance","hour","juice","luck","milk","mouth","peace","pipe","stable","storm","substance","team","trick","afternoon","bat","beach","blank","catch","chain","consideration","cream","crew","detail","gold","interview","kid","mark","mission","pain","pleasure","score","screw","sex","shop","shower","suit","tone","window","agent","band","bath","block","bone","calendar","candidate","cap","coat","contest","corner","court","cup","district","door","east","finger","garage","guarantee","hole","hook","implement","layer","lecture","lie","manner","meeting","nose","parking","partner","profile","rice","routine","schedule","swimming","telephone","tip","winter","airline","bag","battle","bed","bill","bother","cake","code","curve","designer","dimension","dress","ease","emergency","evening","extension","farm","fight","gap","grade","holiday","horror","horse","host","husband","loan","mistake","mountain","nail","noise","occasion","package","patient","pause","phrase","proof","race","relief","sand","sentence","shoulder","smoke","stomach","string","tourist","towel","vacation","west","wheel","wine","arm","aside","associate","bet","blow","border","branch","breast","brother","buddy","bunch","chip","coach","cross","document","draft","dust","expert","floor","god","golf","habit","iron","judge","knife","landscape","league","mail","mess","native","opening","parent","pattern","pin","pool","pound","request","salary","shame","shelter","shoe","silver","tackle","tank","trust","assist","bake","bar","bell","bike","blame","boy","brick","chair","closet","clue","collar","comment","conference","devil","diet","fear","fuel","glove","jacket","lunch","monitor","mortgage","nurse","pace","panic","peak","plane","reward","row","sandwich","shock","spite","spray","surprise","till","transition","weekend","welcome","yard","alarm","bend","bicycle","bite","blind","bottle","cable","candle","clerk","cloud","concert","counter","flower","grandfather","harm","knee","lawyer","leather","load","mirror","neck","pension","plate","purple","ruin","ship","skirt","slice","snow","specialist","stroke","switch","trash","tune","zone","anger","award","bid","bitter","boot","bug","camp","candy","carpet","cat","champion","channel","clock","comfort","cow","crack","engineer","entrance","fault","grass","guy","hell","highlight","incident","island","joke","jury","leg","lip","mate","motor","nerve","passage","pen","pride","priest","prize","promise","resident","resort","ring","roof","rope","sail","scheme","script","sock","station","toe","tower","truck","witness","can","will","other","use","make","good","look","help","go","great","being","still","public","read","keep","start","give","human","local","general","specific","long","play","feel","high","put","common","set","change","simple","past","big","possible","particular","major","personal","current","national","cut","natural","physical","show","try","check","second","call","move","pay","let","increase","single","individual","turn","ask","buy","guard","hold","main","offer","potential","professional","international","travel","cook","alternative","special","working","whole","dance","excuse","cold","commercial","low","purchase","deal","primary","worth","fall","necessary","positive","produce","search","present","spend","talk","creative","tell","cost","drive","green","support","glad","remove","return","run","complex","due","effective","middle","regular","reserve","independent","leave","original","reach","rest","serve","watch","beautiful","charge","active","break","negative","safe","stay","visit","visual","affect","cover","report","rise","walk","white","junior","pick","unique","classic","final","lift","mix","private","stop","teach","western","concern","familiar","fly","official","broad","comfortable","gain","rich","save","stand","young","heavy","lead","listen","valuable","worry","handle","leading","meet","release","sell","finish","normal","press","ride","secret","spread","spring","tough","wait","brown","deep","display","flow","hit","objective","shoot","touch","cancel","chemical","cry","dump","extreme","push","conflict","eat","fill","formal","jump","kick","opposite","pass","pitch","remote","total","treat","vast","abuse","beat","burn","deposit","print","raise","sleep","somewhere","advance","consist","dark","double","draw","equal","fix","hire","internal","join","kill","sensitive","tap","win","attack","claim","constant","drag","drink","guess","minor","pull","raw","soft","solid","wear","weird","wonder","annual","count","dead","doubt","feed","forever","impress","repeat","round","sing","slide","strip","wish","combine","command","dig","divide","equivalent","hang","hunt","initial","march","mention","spiritual","survey","tie","adult","brief","crazy","escape","gather","hate","prior","repair","rough","sad","scratch","sick","strike","employ","external","hurt","illegal","laugh","lay","mobile","nasty","ordinary","respond","royal","senior","split","strain","struggle","swim","train","upper","wash","yellow","convert","crash","dependent","fold","funny","grab","hide","miss","permit","quote","recover","resolve","roll","sink","slip","spare","suspect","sweet","swing","twist","upstairs","usual","abroad","brave","calm","concentrate","estimate","grand","male","mine","prompt","quiet","refuse","regret","reveal","rush","shake","shift","shine","steal","suck","surround","bear","brilliant","dare","dear","delay","drunk","female","hurry","inevitable","invite","kiss","neat","pop","punch","quit","reply","representative","resist","rip","rub","silly","smile","spell","stretch","stupid","tear","temporary","tomorrow","wake","wrap","yesterday","Thomas","Tom","Lieuwe"];return e[At(e.length-1,0)]+" "+t[At(t.length-1,0)]}(),this.state.playlist,!0,"Random"),this.setState({updated:!this.state.updated}),setTimeout((function(){return t.Updateplaylist(t.state.playlistName,t.state.playlistId,t.state.private)}),100),qt.a.notify(r.a.createElement("span",null,e.title," added to the playlist."),{duration:750})):(this.state.playlist.push(e),this.Updateplaylist(this.state.playlistName,this.state.playlistId,this.state.private),this.setState({updated:!this.state.updated}),qt.a.notify(r.a.createElement("span",null,e.title," added to the playlist."),{duration:750}))}},{key:"onDeleteFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.playlist[0]){for(var t=0;t<this.state.playlist.length;t++)if(this.state.playlist[t].uniqueId===e.uniqueId){this.state.playlist.splice(t,1);break}this.setState({updated:!this.state.updated})}}},{key:"handleSubmit",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]?r[1]:10,t){e.next=3;break}return e.abrupt("return");case 3:return this.setState({loading:!0,error:!1,items:[]}),e.next=6,B(t);case 6:if(n=e.sent,console.log(n.length),n){e.next=11;break}return this.setState({error:!0,loading:!1,items:[]}),e.abrupt("return");case 11:if(0!==n.length){e.next=17;break}if(!(a>0)){e.next=15;break}return this.handleSubmit(t,a-1),e.abrupt("return");case 15:return this.setState({error:!0,loading:!1,items:[]}),e.abrupt("return");case 17:this.setState({items:n,loading:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmitdb",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:10,this.setState({loading:!0,error:!1,items:[]}),e.next=4,z(t);case 4:if(a=e.sent,console.log("Hello123"),console.log(a.length),a){e.next=10;break}return this.setState({error:!0,loading:!1,items:[]}),e.abrupt("return");case 10:if(0!==a.length){e.next=13;break}return this.setState({error:!0,loading:!1,items:[]}),e.abrupt("return");case 13:this.setState({items:a,loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit2",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,B(t);case 3:if(a=e.sent,console.log(a),null!==a){e.next=8;break}return this.setState({error:!0}),e.abrupt("return");case 8:return n=[],a.map((function(e){return n.push(e.id.videoId)})),n=n.join(","),e.next=13,Q(n);case 13:r=e.sent,this.setState({items:a,contentDetails:r,loading:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingPlaylist:!0,playlist:[],playlistName:"Loading..."}),e.next=3,ee(t);case 3:return a=e.sent,this.setState({playlist:a.data.playlist,playlistName:a.data.name,playlistId:a.data._id,loading:!1,private:a.data.private,playlistOwner:a.data.owner,loadingPlaylist:!1}),e.abrupt("return","OK");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLoading",value:function(e){this.setState({loadingPlaylists:e})}},{key:"getPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUser();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r){var s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({playlist:a}),s=JSON.stringify({name:t,playlist:a,isPrivate:n,owner:this.state.userName,genre:r}),this.setLoading(!0),e.next=5,K(s);case 5:return i=e.sent,l=i.data,console.log(i),te(l._id,l.name,l.private,l.owner,l.createdAt,this.state.token),this.setState({playlistId:i.data._id,playlistName:i.data.name,private:n}),e.next=12,Gt(500);case 12:return e.next=14,this.getPlaylist();case 14:this.setLoading(!1);case 15:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"UpdateCurrentPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.Updateplaylist(this.state.playlistName,this.state.playlistId,this.state.private);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Updateplaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n){var r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.state.playlist,console.log(n),s=JSON.stringify({name:t,playlist:r,private:n}),e.next=5,X(s,a);case 5:return i=e.sent,ne(a,t,n,this.state.token),this.setState({playlistName:i.data.name,playlist:r}),e.next=10,Gt(500);case 10:return e.next=12,this.getPlaylist();case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.playlistId===t&&this.setState({playlistId:"",playlistName:"",playlist:[]}),a=0;case 2:if(!(a<this.state.playlists.length)){e.next=9;break}if(this.state.playlists[a]._id!==t){e.next=6;break}return this.state.playlists.splice(a,1),e.abrupt("break",9);case 6:a++,e.next=2;break;case 9:return this.setState({updated:!0}),this.setLoading(!0),e.next=13,ae(t,this.state.token);case 13:return this.setLoading(!1),e.next=16,Gt(3e4);case 16:this.getPlaylist();case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAdd",value:function(e){var t=Object.assign({},e);t.uniqueId=Math.random(),this.state.queue.push(t),this.setState({updated:!this.state.updated}),qt.a.notify(r.a.createElement("span",null,e.title," added to the queue."),{duration:800})}},{key:"onDelete",value:function(e){if(e&&"undefined"!==typeof this.state.queue[0]){for(var t=0;t<this.state.queue.length;t++)if(this.state.queue[t].uniqueId===e.uniqueId){this.state.queue.splice(t,1);break}this.setState({updated:!this.state.updated})}}},{key:"setUrl",value:function(e){this.setState({url:e,playing:!0})}},{key:"onPlay",value:function(e){if(e){console.log(e),this.state.queue.unshift(e);var t=e.videoId,a=e.title,n=e.duration,r=e.artists&&e.artists[0]&&e.artists[0].name,s="https://www.youtube.com/watch?v="+t;s===this.state.url&&this.player.seekTo0(),this.setState({url:s,duration:n,playing:!0,updated:!0,title:a,artist:r||null}),this.player.handleEnded()}}},{key:"setTitle",value:function(e){this.setState({title:e})}},{key:"render",value:function(){var e=this.state.queue,t=this.state.url,a=this.state.playlists,n=this.state.playlist;return console.log(this.state.error),r.a.createElement("div",{className:this.props.darkMode?"homepage-div":"homepage-div2"},r.a.createElement("div",{id:"spinnerDivHomePage"},this.state.loadingPlaylist?r.a.createElement(Jt,{size:50,color:"white"}):null,this.state.loadingPlaylists?r.a.createElement(Jt,{size:50,color:"white"}):null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{sm:"8",className:"homepage2"},r.a.createElement(he.a,null,r.a.createElement(ye.a,{sm:"2",className:"sidebar"},r.a.createElement(Tt,{loadPlaylist:this.loadPlaylist,playlists:a,getPlaylist:this.getPlaylist,deletePlaylist:this.deletePlaylist,makePlaylist:this.makePlaylist,playlistName:this.state.playlistName,setLoading:this.setLoading})),r.a.createElement(ye.a,{sm:"10",className:"playlist"},r.a.createElement("br",null),r.a.createElement(jt,{playNext:this.playNext,userName:this.state.userName,userRole:this.state.userRole,playlists:a,playlistOwner:this.state.playlistOwner,isPrivate:this.state.private,playlist:n,playlistName:this.state.playlistName,playlistId:this.state.playlistId,getPlayList:this.getPlaylist,loadPlaylist:this.loadPlaylist,onDeleteFromPlaylist:this.onDeleteFromPlaylist,onPlay:this.onPlay,addPlaylistToQueue:this.addPlaylistToQueue,onRemove:this.onDelete,playPlaylist:this.playPlaylist,makePlaylist:this.makePlaylist,Updateplaylist:this.Updateplaylist,deletePlaylist:this.deletePlaylist,onAdd:this.onAdd,UpdateCurrentPlaylist:this.UpdateCurrentPlaylist,setPlaylist:this.setPlaylist,setLoading:this.setLoading})))),r.a.createElement(ye.a,{sm:"4",className:"homepage3"},r.a.createElement("br",null),r.a.createElement(tt,{handleSubmit:this.handleSubmit,handleSubmitdb:this.handleSubmitdb,handleDB:this.handleDB,setTab:this.setTab,getArtists:this.getArtists}),r.a.createElement("hr",null),r.a.createElement(_e,{playNext:this.playNext,loading:this.state.loading,items:"1"===this.state.focusedTab?this.state.dbitems:this.state.items,onAdd:this.onAdd,onPlay:this.onPlay,AddToPlaylist:this.AddToPlaylist,error:this.state.error,errorText:"1"===this.state.focusedTab?"Please try searching for that on YouTube! Cannot find it from our DB yet :(.":"Please try again"}),r.a.createElement(dt,{queue:e,onRemove:this.onDelete,onPlay:this.onPlay,shuffleQueue:this.shuffleQueue,clearQueue:this.clearQueue,setQueue:this.setQueue,isShuffle:this.state.shuffle}))),r.a.createElement(he.a,null,r.a.createElement(ye.a,{sm:"12",className:"mediaplayer"},r.a.createElement(Ht,{setArtist:this.setArtist,ref:this.ref,array:e,onRemove:this.onDelete,url:t,playing:this.state.playing,title:this.state.title,onAdd:this.onAdd,AddToPlaylist:this.AddToPlaylist,onPlay:this.onPlay,setUrl:this.setUrl,setTitle:this.setTitle,setPlaying:this.setPlaying,duration:this.state.duration,playlistId:this.state.playlistId,setShuffle:this.setShuffle,isShuffle:this.state.shuffle,artist:this.state.artist})))))}}]),a}(n.Component),Xt=(a(508),a(255)),Zt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},$t=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(mt.a)({},e.target.name,e.target.value))},n.togglePanel=function(){n.setState({active:!n.state.active})},n.signUpSubmit=function(e){e.preventDefault();var t=n.state,a={signUpName:t.signUpName,signUpEmail:t.signUpEmail,signUpPassword:t.signUpPassword,role:"User"};n.signUp(a)},n.signInSubmit=function(e){e.preventDefault(),n.login(n.state.email,n.state.password)},n.state={active:!1,error:"",SignUpError:""},ce.currentUserValue&&Xt(ce.currentUserValue.token).exp>Date.now()/1e3&&n.props.history.push("/"),n.login=n.login.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"login",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Zt(1500);case 3:return e.next=5,ce.login(t,a);case 5:n=e.sent,this.setState({loading:!1}),n?this.setState({error:n}):this.props.history.push("/");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Zt(1500);case 3:return e.next=5,ce.signup(t);case 5:a=e.sent,this.setState({loading:!1}),a||this.props.history.push("/"),a&&a.data.error[0]&&(n=a.data.error[0],this.setState({SignUpError:n.name||n.email||n.password||a.data.error}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:this.state.active?"ss right-panel-active":"ss"},r.a.createElement("h1",{className:"position"},"WELCOME TO TUBEMUSIC"),r.a.createElement(at.a,{id:"login-container"},r.a.createElement(at.a,{className:"form-container sign-up-container"},r.a.createElement(qe.a,{onSubmit:this.signUpSubmit},r.a.createElement("h1",null,"Create an account"),r.a.createElement("br",null),this.state.SignUpError?r.a.createElement("div",{className:"error2"},this.state.SignUpError):r.a.createElement("span",{className:"span2"},"Please fill in the form to create a new account!"),r.a.createElement("br",null),r.a.createElement(We.a,null,r.a.createElement(Ve.a,{name:"signUpName",autoComplete:"username",type:"text",placeholder:"Name",onChange:this.onChange,required:!0})),r.a.createElement(We.a,null,r.a.createElement(Ve.a,{name:"signUpEmail",type:"email",autoComplete:"email",placeholder:"Email",onChange:this.onChange,required:!0})),r.a.createElement(We.a,null,r.a.createElement(Ve.a,{name:"signUpPassword",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.onChange,required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:this.state.loading?"loading":""},this.state.loading?"Loading...":"Sign up"),this.state.loading?r.a.createElement("div",{className:"spin"}):""))),r.a.createElement(at.a,{className:"form-container sign-in-container"},r.a.createElement(qe.a,{onSubmit:this.signInSubmit},r.a.createElement("h1",null,"Sign in"),r.a.createElement("br",null),this.state.error?r.a.createElement("div",{className:"error"},this.state.error):r.a.createElement("span",{className:"span2"},"Please login using your email and password!"),r.a.createElement("br",null),r.a.createElement(We.a,null,r.a.createElement(Ve.a,{name:"email",id:"email",type:"email",placeholder:"Email",autoComplete:"username",onChange:this.onChange,required:!0})),r.a.createElement(We.a,null,r.a.createElement(Ve.a,{name:"password",id:"password",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.onChange,required:!0})),r.a.createElement("a",{href:"# "},"Forgot your password?"),r.a.createElement("div",null,r.a.createElement("button",{className:this.state.loading?"loading":""},this.state.loading?"Signing in...":"Sign in"),this.state.loading?r.a.createElement("div",{className:"spin"}):""))),r.a.createElement("div",{className:"overlay-container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlay-panel overlay-left"},r.a.createElement("h1",null,"Already have an account?"),r.a.createElement("p",null,"To keep connected with us please login with your personal info"),r.a.createElement("button",{onClick:this.togglePanel,className:"ghost",id:"signIn"},"Sign In")),r.a.createElement("div",{className:"overlay-panel overlay-right"},r.a.createElement("h1",null,"Don't have an account yet?"),r.a.createElement("p",null,"No worries! Enter your personal details and start listening to music with us."),r.a.createElement("button",{onClick:this.togglePanel,className:"ghost",id:"signUp"},"Sign Up"))))))}}]),a}(n.Component),ea=a(56),ta=a(550),aa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={artistName:e.props.artistName,title:e.props.title,imported:e.props.imported},e}return Object(p.a)(a,[{key:"addToImport",value:function(e){this.props.addToImport(e)}},{key:"removeFromPlaylist",value:function(e){this.props.removeFromPlaylist(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(fe.a,{className:"card"},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"4",sm:"4"},r.a.createElement(be.a,null,this.state.title)),r.a.createElement(ye.a,{xs:"4",sm:"4"},r.a.createElement(be.a,{className:"float-left"},this.state.artistName)),r.a.createElement(ye.a,{xs:"2",sm:"2"},this.props.createdAt),r.a.createElement(ye.a,{xs:"2",sm:"2"},this.state.imported?r.a.createElement(ve.a,{onClick:this.removeFromPlaylist.bind(this,this.props),className:"btn btn-primary",color:"danger"},"x"):r.a.createElement(ve.a,{onClick:this.addToImport.bind(this,this.props),className:"btn btn-primary",color:"primary"},"+"))))))}}]),a}(n.Component),na=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderRow=function(t){var a=t.index,n=(t.key,t.isScrolling,t.isVisible,t.style),s=e.props.tracks[a],i=s.title,l=s.artistName,o=s.id,c=s.createdAt;return r.a.createElement("div",{key:Math.random(),style:n},r.a.createElement(aa,{id:Math.random(),key:o,artistName:l,addToImport:e.props.addToImport,imported:!1,title:i,createdAt:c}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(st.a,null,(function(t){var a=t.width;return r.a.createElement(st.c,{width:a,height:550,rowCount:e.props.tracks.length,rowHeight:80,rowRenderer:e.renderRow})})))}}]),a}(n.Component),ra=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=(e.key,e.isScrolling,e.isVisible,e.style),s=n.props.toBeImportedPlaylist[t],i=s.title,l=s.artistName,o=s.id;return r.a.createElement("div",{key:o,style:a},r.a.createElement(aa,{key:o,id:o,artistName:l,importPlaylistToApp:n.props.importPlaylistToApp,removeFromPlaylist:n.removeFromPlaylist,imported:!0,title:i}))},n.state={toBeImportedPlaylist:n.props.toBeImportedPlaylist,updated:""},n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({toBeImportedPlaylist:this.props.toBeImportedPlaylist})}},{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,this.props.toBeImportedPlaylist.length," songs in the list."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(st.a,null,(function(t){var a=t.width;return r.a.createElement(st.c,{width:a,height:550,rowCount:e.props.toBeImportedPlaylist.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),sa=(a(511),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),ia=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({filter:e.target.value})},n.state={modal:n.props,description:n.props.description,imageUrl:n.props.imageUrl,name:n.props.name,id:n.props.id,key:n.props.id,trackRef:n.props.trackRef,totalTracks:n.props.totalTracks,ownerName:n.props.ownerName,chosenListsTracks:n.props.chosenListsTracks,toBeImportedPlaylist:[],importCount:0,loading:!1,imported:!1,progressValue:0,notFoundArray:[],filter:""},n.importPlaylistToApp=n.importPlaylistToApp.bind(Object(d.a)(n)),n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(d.a)(n)),n.addToImport=n.addToImport.bind(Object(d.a)(n)),n.toggle=n.toggle.bind(Object(d.a)(n)),n.moveAllToImport=n.moveAllToImport.bind(Object(d.a)(n)),n.clearList=n.clearList.bind(Object(d.a)(n)),n.webScrape=n.webScrape.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=ce.currentUserValue;e&&this.setState({token:e.token,userName:e.user.name})}},{key:"webScrape",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,s,i,l,c,u,p,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.toBeImportedPlaylist.length<1)){e.next=2;break}return e.abrupt("return");case 2:this.setState({loading:!0,progressValue:0,importCount:0}),t=[],a=this.state.toBeImportedPlaylist,n=this.state.toBeImportedPlaylist.length,r=1/n*100,s=25,i=0;case 9:if(!(n>i)){e.next=27;break}return e.next=12,R(a.slice(i,i+s));case 12:if(l=e.sent){e.next=22;break}case 14:if(l){e.next=22;break}return e.next=17,sa(250);case 17:return e.next=19,R(a.slice(i,i+s));case 19:l=e.sent,e.next=14;break;case 22:l.forEach((function(e){t.push(e)})),this.setState({progressValue:r*t.length,importCount:t.filter((function(e){return null!==e})).length}),i+=s,e.next=9;break;case 27:return e.next=29,sa(6500);case 29:if(!(t.length>0)){e.next=43;break}if(c=this.state.name,u=t.filter((function(e){return null!==e})),p=JSON.stringify({name:c,playlist:u,isPrivate:!0,owner:this.state.userName}),!(u.length>0)){e.next=41;break}return e.next=36,K(p);case 36:d=e.sent,te(d.data._id,d.data.name,d.data.private,d.data.owner,d.data.createdAt,this.state.token),200===d.status?this.setState({imported:!0,loading:!1}):(this.setState({imported:!1}),alert("Error making creating the playlist.")),e.next=43;break;case 41:this.setState({imported:!1}),alert("No songs were found.");case 43:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearList",value:function(){this.setState({toBeImportedPlaylist:[]})}},{key:"moveAllToImport",value:function(e){var t=this;e.forEach((function(e){return t.addToImport(e)}))}},{key:"toggle",value:function(){this.setState({toBeImportedPlaylist:[]}),this.props.toggle()}},{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({modal:this.props,description:this.props.description,imageUrl:this.props.imageUrl,name:this.props.name,id:this.props.id,key:this.props.id,trackRef:this.props.trackRef,totalTracks:this.props.totalTracks,ownerName:this.props.ownerName,chosenListsTracks:this.props.chosenListsTracks,imported:!1,progressValue:0,importCount:0})}},{key:"makePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({name:t,playlist:a}),e.next=3,K(n);case 3:r=e.sent,this.setState({playlistId:r.data._id,playlistName:r.data.name,playlist:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"importPlaylistToApp",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,s,i,l,c,u,p,d,m,h,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,progressValue:0,importCount:0}),t=this.state.toBeImportedPlaylist.length,a=1/t*100,n=[],r=this.state.toBeImportedPlaylist,s=0;case 6:if(!(s<r.length)){e.next=32;break}return i=r[s].artistName,l=r[s].title,c=l+" "+i,e.next=12,_(c);case 12:if(null!==(u=e.sent)){e.next=16;break}return this.setState({loading:!1,error:!0}),e.abrupt("return");case 16:return(p={}).videoId=u[0].id.videoId,p.title=u[0].snippet.title,p.publishedAt=u[0].snippet.publishedAt,p.description=u[0].snippet.description,p.channelTitle=u[0].snippet.channelTitle,e.next=24,Q(u[0].id.videoId);case 24:d=e.sent,p.duration=d[0].contentDetails.duration,p.uniqueId=Math.random(),n.push(p),this.setState({progressValue:this.state.progressValue+a});case 29:s++,e.next=6;break;case 32:return m=this.state.name,h=JSON.stringify({name:m,playlist:n}),e.next=36,K(h);case 36:y=e.sent,this.setState({loading:!1,progressValue:0,importCount:0}),200===y.status?this.setState({imported:!0}):(this.setState({imported:!1}),alert("Error"));case 39:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"addToImport",value:function(e){var t={};t.artistName=e.artistName,t.title=e.title,t.id=Math.random(),this.state.toBeImportedPlaylist.push(t),this.setState({updated:!0})}},{key:"render",value:function(){var e=this.state.chosenListsTracks,t=this.state.filter,a=t.toLowerCase(),n=e.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(a)}))}));return r.a.createElement("div",null,r.a.createElement(Me.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,size:"lg",style:{maxWidth:"1600px",width:"100%",margin:"10px auto"}},r.a.createElement(Re.a,{className:"mb-4",toggle:this.props.toggle},r.a.createElement("span",null,"Songs in the playlist ",r.a.createElement("br",null),r.a.createElement("i",null,this.state.name)),r.a.createElement("span",{className:"inthemiddle"},"Playlist importer")),r.a.createElement(Be.a,null,r.a.createElement("span",null,"I recommend using webScraping for retrieving songs from YouTube."),this.state.notFoundArray.length>1?r.a.createElement("div",{id:"notFoundArray"},r.a.createElement("h3",null,"Following songs were not found:",r.a.createElement("br",null),r.a.createElement("br",null)),this.state.notFoundArray.map((function(e){var t=e.title,a=e.artistName;return r.a.createElement("span",{id:"notFoundItem",key:t},r.a.createElement("p",null,t)," by ",r.a.createElement("p",null,a," "),r.a.createElement("br",null))}))):"",this.state.error?r.a.createElement("div",null,r.a.createElement("span",{id:"errorImport"},"Daily limit exdeeded. Try again tomorrow.")):"",this.state.imported?r.a.createElement("span",{id:"successImport"},"Succesfully created the playlist!"):"",this.state.loading?r.a.createElement("div",{id:"LoadingSpot"},r.a.createElement("h2",{className:"loadingTitle"},"Importing songs"),r.a.createElement("div",{id:"spinner"},r.a.createElement(De,{size:35,color:"#17a2b8"})),r.a.createElement("span",{className:"importedNumbers",id:"creatingInfo"},this.state.progressValue<100?"Importing songs...":"Creating playlist..."),r.a.createElement("span",{className:"importedNumbers"},this.state.importCount," /"," ",this.state.toBeImportedPlaylist.length," songs imported."),r.a.createElement("span",{className:"importedNumbers",id:"creatingInfo2"},this.state.progressValue>99&this.state.toBeImportedPlaylist.length!==this.state.importCount?"Unfortunately we were unable to import all of the songs":""),r.a.createElement("div",{id:"progressbar"},r.a.createElement(ta.a,{animated:!0,color:"info",value:this.state.progressValue})),r.a.createElement("span",{className:"loadingInfo"},"Fetching songs from YouTube and adding them to our database... This might take awhile.")):"",r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(ra,{importPlaylistToApp:this.importPlaylistToApp,removeFromPlaylist:this.removeFromPlaylist,toBeImportedPlaylist:this.state.toBeImportedPlaylist}))),r.a.createElement(ye.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement("p",null,n.length," songs"),r.a.createElement("span",{className:"float-right filterSpan"},"By ",this.props.ownerName),r.a.createElement("br",null),r.a.createElement(Ve.a,{value:t,onChange:this.handleChange,placeholder:"Filter songs based on artist, album or title..."}),r.a.createElement("br",null),r.a.createElement(na,{ownerName:this.state.ownerName,totalTracks:this.state.totalTracks,tracks:n,addToImport:this.addToImport})))),r.a.createElement(he.a,{id:"lowerRow"},r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{disabled:!0,onClick:this.importPlaylistToApp},"Import playlist"))),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{disabled:!(!this.state.loading&&this.state.toBeImportedPlaylist[0]),onClick:this.clearList},"Clear list"))),r.a.createElement(ye.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{disabled:this.state.loading,onClick:this.moveAllToImport.bind(this,n)},"Get all songs"))),r.a.createElement(ye.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{disabled:!(!this.state.loading&&this.state.toBeImportedPlaylist[0]),onClick:this.webScrape},"use webScraping"))))),r.a.createElement(ve.a,{onClick:this.toggle,className:"btn btn-primary"},"Cancel")))}}]),a}(n.Component),la=(r.a.Component,function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleList=function(){n.setState({modal:!n.state.modal})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.state={modal:!1,description:n.props.description,imageUrl:n.props.imageUrl,name:n.props.name,id:n.props.id,key:n.props.id,trackRef:n.props.trackRef,totalTracks:n.props.totalTracks,ownerName:n.props.ownerName,token:n.props.token,chosenListsTracks:[],loading:!1},n.toggle=n.toggle.bind(Object(d.a)(n)),n.clickOnPlayList=n.clickOnPlayList.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"clickOnPlayList",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,s,i,l,c,u,p,d,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.state.token,e.next=4,J(this.state.id,t);case 4:a=e.sent,n=[],r=null,n=a.items,console.log(n);case 9:if(null===a.next||"undefined"===typeof a.next){e.next=19;break}return e.next=12,Y(t,a.next);case 12:if(r=e.sent,n=n.concat(r.items),null!==r.next){e.next=16;break}return e.abrupt("break",19);case 16:a.next=r.next,e.next=9;break;case 19:for(s=[],i=[],l=[],c=[],u=[],p=[],(n=n.filter((function(e){return null!==e.track}))).forEach((function(e){return console.log(e.track.name)})),n.forEach((function(e){return s.push(e.track.name)})),n.forEach((function(e){return i.push(e.track.artists)})),n.forEach((function(e){return c.push(e.track.id)})),n.forEach((function(e){return u.push(e.track.album.name)})),n.forEach((function(e){return p.push(e.added_at)})),d=0;d<i.length;d++)(m={}).artistName=i[d][0].name,"undefined"!==typeof i[d][1]&&(m.artistName=m.artistName.concat(" & "+i[d][1].name)),m.title=s[d],m.id=c[d],m.album=u[d],m.createdAt=p[d],l.push(m);this.setState({loading:!1,chosenListsTracks:l}),this.toggleList(l);case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(fe.a,{className:"card",id:this.state.loading?"loadingCard":null},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"1",sm:"1"}),r.a.createElement(ye.a,{xs:"8",sm:"8"},r.a.createElement(be.a,null,this.props.name)),r.a.createElement(ye.a,{xs:"3",sm:"3"},r.a.createElement("small",null," ",this.state.loading?"Loading...":this.props.totalTracks+" songs"," "))),r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"6",sm:"6"},r.a.createElement("small",{className:"float-left"},"By ",this.props.ownerName)))))),r.a.createElement(ia,{isOpen:this.state.modal,toggle:this.toggle,description:this.state.description,imageUrl:this.state.imageUrl,name:this.state.name,id:this.state.id,key:this.state.id,trackRef:this.state.trackRef,totalTracks:this.state.totalTracks,ownerName:this.state.ownerName,chosenListsTracks:this.state.chosenListsTracks}))}}]),a}(n.Component)),oa=(a(512),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSortChange=function(e){var t,a=e.target.value,r=Object(ea.a)(n.state.userPlaylists);switch(console.log(r),a){case"Latest":t=r;break;case"Last":t=r.sort((function(e,t){return e<t?1:-1}));break;case"By name":t=r.sort((function(e,t){return e.name>t.name?1:-1}));break;case"By owner":t=r.sort((function(e,t){return e.ownerName>t.ownerName?1:-1}))}console.log("Yeps..."),n.setState({sortedPlaylists:t})},n.handleChange=function(e){var t=n.state.userPlaylists,a=e.target.value.toLowerCase(),r=t.filter((function(e){return null===e||"undefined"===typeof e?t:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"imageUrl"!==t&&"description"!==t&&"trackRef"!==t&&e[t].toLowerCase().includes(a)}))}));console.log(r),n.setState({filter:e.target.value,filteredData:r})},n.state={loading:n.props.loading,userPlaylists:[],sortedPlaylists:[],filteredData:[],filter:""},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({loading:this.props.loading,userPlaylists:this.props.Userplaylists,filteredData:this.props.Userplaylists,sortedPlaylists:this.props.Userplaylists})}},{key:"render",value:function(){var e=this,t=this.state,a=t.filteredData,n=t.filter,s=t.sortedPlaylists.filter((function(e){return-1!==a.indexOf(e)}));return r.a.createElement("div",null,r.a.createElement("p",null,"Click on a playlist to see what songs there are, and to choose which songs will be imported."),r.a.createElement("div",{className:"inputDiv"},r.a.createElement(Ve.a,{id:"filterId",value:n,onChange:this.handleChange,placeholder:"Filter playlists..."}),r.a.createElement(Ve.a,{onChange:this.onSortChange,type:"select",name:"select",id:"exampleSelect"},r.a.createElement("option",{key:"Latest",value:"Latest"},"Latest"),r.a.createElement("option",{key:"Last",value:"Last"},"Last"),r.a.createElement("option",{key:"By name",value:"By name"},"By name"),r.a.createElement("option",{key:"By owner",value:"By owner"},"By owner"))),r.a.createElement("div",{id:s.length>0?"spotifyPlaylist":"template"},this.state.loading?r.a.createElement("div",{className:"loadingPlace2"},r.a.createElement(De,{color:"#545454"})):r.a.createElement("div",null,s.map((function(t){var a=t.id,n=t.name,s=t.description,i=t.imageUrl,l=t.trackRef,o=t.totalTracks,c=t.ownerName;return r.a.createElement(la,{description:s,imageUrl:i,name:n,id:a,key:a,trackRef:l,totalTracks:o,ownerName:c,token:e.props.token})})))))}}]),a}(n.Component)),ca=(a(513),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",token:e.props.token,search:"",playlists:[]},e.onChange=function(t){e.setState(Object(mt.a)({},t.target.name,t.target.value))},e.submit=function(){var t=Object(c.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,W(e.state.search,e.state.token);case 3:n=t.sent,console.log(n),e.setState({playlists:n.playlists.items});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeSearch=function(t){e.setState({search:t.target.value})},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({token:this.props.token})}},{key:"render",value:function(){var e=this;console.log(this.state);this.state.search;return r.a.createElement("div",null,r.a.createElement(Me.a,{id:"discovery",isOpen:this.props.isOpen,toggle:this.props.toggle,size:"lg",style:{maxWidth:"1600px",width:"100%",margin:"10px auto"}},r.a.createElement(Re.a,{className:"mb-4",toggle:this.props.toggle},r.a.createElement("span",{className:"inthemiddle"},"The discover")),r.a.createElement(he.a,null,r.a.createElement("div",{className:"inputDiv2"},r.a.createElement("form",{onSubmit:this.submit},r.a.createElement(Qe.a,null,r.a.createElement(He.a,{addonType:"prepend"}),r.a.createElement(Ve.a,{type:"text",placeholder:"Search for playlists...",required:!0,className:"form-control",value:this.state.search,onChange:this.onChangeSearch}),r.a.createElement(He.a,{addonType:"append"},r.a.createElement(ve.a,{color:"secondary"},"Search")))))),r.a.createElement(he.a,null,r.a.createElement("div",{id:this.state.playlists.length>0?"spotifyPlaylist2":"template"},this.state.loading?r.a.createElement("div",{className:"loadingPlace2"},r.a.createElement(De,{color:"#545454"})):r.a.createElement("div",null,this.state.playlists.map((function(t){var a=t.id,n=t.name,s=t.description,i=t.imageUrl,l=t.trackRef,o=t.totalTracks,c=t.ownerName;return r.a.createElement(la,{description:s,imageUrl:i,name:n,id:a,key:a,trackRef:l,totalTracks:o,ownerName:c,token:e.props.token})}))))),r.a.createElement(Be.a,null,r.a.createElement("div",null,"asdasd asdasdasd"))))}}]),a}(n.Component)),ua=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={auth:!1,token:null,userPlaylists:[],display_name:"",user_id:"",nextPlaylists:null,loading:!1,chosenPlaylist:[],isOpen:!1},n.getUserId=n.getUserId.bind(Object(d.a)(n)),n.getPlayListData=n.getPlayListData.bind(Object(d.a)(n)),n.toggle=n.toggle.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"getUserId",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,H(t);case 3:a=e.sent,setTimeout(function(){this.getPlayListData(t)}.bind(this),2e3),this.setState({display_name:a.data.display_name,user_id:a.data.id});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPlayListData",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r,s,i,l,c,u,p,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,V(t);case 3:a=e.sent,console.log(a),n=[],r=null,n=a.items;case 8:if("undefined"===typeof a.next||null===a.next){e.next=19;break}return console.log(t,a.next),e.next=12,Y(t,a.next);case 12:if(r=e.sent,n=n.concat(r.items),null!==r.next){e.next=16;break}return e.abrupt("break",19);case 16:a.next=r.next,e.next=8;break;case 19:for(s=[],i=[],l=[],c=[],u=[],n.forEach((function(e){return e.images[0]?s.push(e.images[0].url):s.push(null)})),n.forEach((function(e){return i.push(e.tracks.href)})),n.forEach((function(e){return c.push(e.tracks.total)})),n.forEach((function(e){return l.push(e.owner.display_name)})),p=0;p<n.length;p++)(d={}).id=n[p].id,d.name=n[p].name,d.description=n[p].description,d.imageUrl=s[p],d.trackRef=i[p],d.ownerName=l[p],d.totalTracks=c[p],u.push(d);this.setState({loading:!1,userPlaylists:u});case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"componentDidMount",value:function(){var e=window.location.href;"undefined"!==typeof(e=e.split("_token=")[1])?(e=e.split("&token")[0],this.setState({token:e,auth:!0}),this.getUserId(e)):this.setState({token:null,auth:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage-div"},r.a.createElement("br",null),r.a.createElement("h3",null,"Import your spotify playlists into the app!"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(he.a,null,r.a.createElement(ye.a,{sm:"4",className:"spotifypage1"},this.state.auth?r.a.createElement("span",null,"Hello, you are logged in as ",r.a.createElement("br",null),this.state.display_name," !+"):"Please login to use the playlist importer!"),r.a.createElement(ye.a,{sm:"4",className:"spotifypage2"},r.a.createElement(ve.a,{href:"https://accounts.spotify.com/fi/authorize?client_id=dc20085012814f3d8cab4b36a4144393&response_type=token&redirect_uri=https:%2F%2Ftubemusicapp.herokuapp.com%2Fspotify&show_dialog=true&scope=playlist-read-private%20playlist-read-collaborative%20user-follow-read"},this.state.auth?"Change account.":"Log in."),r.a.createElement("br",null),r.a.createElement("br",null),this.state.auth?r.a.createElement(ve.a,{className:"discover-button",onClick:this.toggle}," ","Discover"):null),r.a.createElement(ye.a,{sm:"4",className:"spotifypage3"},this.state.auth?r.a.createElement(oa,{Userplaylists:this.state.userPlaylists,loading:this.state.loading,token:this.state.token}):""),r.a.createElement(ca,{token:this.state.token,isOpen:this.state.isOpen,toggle:this.toggle}))))}}]),a}(n.Component),pa=a(269),da=a(255),ma=function(e){var t=e.component,a=e.roles,n=Object(pa.a)(e,["component","roles"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(e){var s=ce.currentUserValue;return console.log(s),s?da(s.token).exp<Date.now()/1e3?r.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}}):a&&-1===a.indexOf(s.user.role)?r.a.createElement(y.a,{to:{pathname:"/"}}):r.a.createElement(t,Object.assign({},e,{data:n.data,darkMode:n.darkMode,loadUser:n.loadUser})):r.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ha=a(84),ya=a.n(ha),fa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentUserInfo:n.props.currentUserInfo},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({currentUserInfo:this.props.currentUserInfo})}},{key:"clickOnPlayList",value:function(){this.props.getPlayListById(this.props.id)}},{key:"load",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ce.loadUser(t);case 3:null!==(n=e.sent)&&(n.playlists.forEach((function(e){a.push(e._id)})),this.setState({currentUserInfo:a}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),console.log(this.state),e.next=4,te(this.props.id,this.props.name,this.props.private,this.props.owner,this.props.createdAt,this.props.token);case 4:this.load(this.props.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(this.props.id);case 2:this.load(this.props.token);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.currentUserInfo||"",t=this.props.id;return r.a.createElement("div",null,r.a.createElement(fe.a,{className:"card2"},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"2",sm:"2"},e.includes(t)?r.a.createElement("div",null,r.a.createElement(ve.a,{disabled:this.props.private,href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.unsubscribe.bind(this,this.state)},r.a.createElement(be.a,null,"Unsubscribe")," ")):r.a.createElement("div",null,r.a.createElement(ve.a,{disabled:this.props.private,href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.subscribe.bind(this,this.state)},r.a.createElement(be.a,null,"Subscribe")," "))),r.a.createElement(ye.a,{xs:"4",sm:"4"},r.a.createElement(ve.a,{href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(be.a,null,this.props.name))),r.a.createElement(ye.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"text-muted"},"Created at:"," ",r.a.createElement(ya.a,{format:"DD-MM-YYYY HH:mm"},this.props.createdAt))),r.a.createElement(ye.a,{xs:"2",sm:"2"},"By ",this.props.owner)))))}}]),a}(n.Component),ga=(a(257),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Yt.a,{size:15,color:this.props.color||"#c45a8e",loading:this.state.loading,margin:2}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component)),ba=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,s=n.props.playlists,i=s[t],l=i.name,o=i._id,c=i.createdAt,u=i.owner,p=s[t].private;return r.a.createElement("div",{key:o,style:a},r.a.createElement(fa,{currentUserInfo:n.state.currentUserInfo,loadPlaylists:n.props.loadPlaylists,getPlayListById:n.props.getPlayListById,token:n.props.token,createdAt:c,id:o,name:l,owner:u,private:p}))},n.bindListRef=function(e){n.list=e},n.state={playlists:n.props.playlists,token:n.props.token,userData:n.props.userData,loading:n.props.loading||!0},n.load=n.load.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.load(this.state.token)}},{key:"componentDidUpdate",value:function(e){je()(this.props,e)||(console.log("Change?"),this.list&&this.list.forceUpdateGrid(),this.setState({playlists:this.props.playlists,token:this.props.token,Userplaylists:this.props.Userplaylists,userData:this.props.userData,loading:this.props.loading}))}},{key:"load",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ce.loadUser(t);case 3:null!==(n=e.sent)&&n.playlists.forEach((function(e){a.push(e._id)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state.playlists;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{id:"spinnerDiv2"},this.state.loading?r.a.createElement(ga,{size:50,color:"white"}):null),r.a.createElement(st.a,null,(function(a){var n=a.width;return r.a.createElement(st.c,{ref:e.bindListRef,width:n,height:700,rowCount:t.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),va=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={artistName:e.props.artistName,title:e.props.title,imported:e.props.imported,date:e.props.date,duration:e.props.duration},e}return Object(p.a)(a,[{key:"addToImport",value:function(e){this.props.addToImport(e)}},{key:"removeFromPlaylist",value:function(e){this.props.removeFromPlaylist(e)}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(fe.a,{className:"card"},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"2",sm:"2"},this.state.duration),r.a.createElement(ye.a,{xs:"8",sm:"8"},r.a.createElement(be.a,null,this.state.title)),r.a.createElement(ye.a,{xs:"2",sm:"2"},this.state.imported?r.a.createElement(ve.a,{onClick:this.removeFromPlaylist.bind(this,this.props),className:"btn btn-secondary",color:"secondary"},"x"):r.a.createElement(ve.a,{onClick:this.addToImport.bind(this,this.props),className:"btn btn-secondary",color:"secondary"},"+"))),r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"12",sm:"12"},r.a.createElement("span",{className:"float-right"},"Added at: \xa0",r.a.createElement(ya.a,{format:"DD-MM-YYYY HH:mm"},this.state.date)))))))}}]),a}(n.Component),ka=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderRow=function(t){var a=t.index,n=(t.key,t.isScrolling,t.isVisible,t.style),s=e.props.tracks[a],i=s.title,l=s.artistName,o=s.id,c=s.duration,u=s.date,p=s.videoId;return r.a.createElement("div",{key:Math.random(),style:n},r.a.createElement(va,{id:Math.random(),key:o,artistName:l,addToImport:e.props.addToImport,imported:!1,title:i,duration:c,date:u,videoId:p}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(st.a,null,(function(t){var a=t.width;return r.a.createElement(st.c,{width:a,height:550,rowCount:e.props.tracks.length,rowHeight:80,rowRenderer:e.renderRow})})))}}]),a}(n.Component),Ea=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=(e.key,e.isScrolling,e.isVisible,e.style),s=n.props.toBeImportedPlaylist[t],i=s.title,l=s.artistName,o=s.id,c=s.duration,u=s.date,p=s.videoId;return r.a.createElement("div",{key:o,style:a},r.a.createElement(va,{key:o,id:o,artistName:l,importPlaylistToApp:n.props.importPlaylistToApp,removeFromPlaylist:n.props.removeFromPlaylist,imported:!0,title:i,duration:c,date:u,videoId:p}))},n.state={toBeImportedPlaylist:n.props.toBeImportedPlaylist,updated:""},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({toBeImportedPlaylist:this.props.toBeImportedPlaylist})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(st.a,null,(function(t){var a=t.width;return r.a.createElement(st.c,{width:a,height:550,rowCount:e.props.toBeImportedPlaylist.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),wa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",checked:!1,select:"Random"},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(mt.a)({},t.target.name,t.target.value)),console.log(e.state.select)},e.onSubmit=function(t){t.preventDefault(),console.log(t),e.props.makePlaylist(e.state.name,e.state.checked,e.state.select,e.props.owner),e.toggle()},e.boxChange=function(t){e.setState({checked:t.target.checked})},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ve.a,{disabled:this.props.disabled,className:"float-left btn-margin btn-secondary btn button",onClick:this.toggle,href:"#",color:"secondary"},"Add playlist to your collections."),r.a.createElement(Me.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Re.a,{className:"mb-4",toggle:this.toggle},"Create a new playlist here :)",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(qe.a,{onSubmit:this.onSubmit},r.a.createElement(Be.a,null,r.a.createElement(We.a,null,r.a.createElement(Ge.a,{for:"name"},"Name for the playlist:"),r.a.createElement(Ve.a,{type:"name",name:"name",id:"name",placeholder:"epic-partylist",className:"mb-4",onChange:this.onChange,required:!0}),r.a.createElement(Ge.a,{className:""},"Genres"),bt(this.onChange),r.a.createElement("br",null),r.a.createElement("div",{className:"check"},r.a.createElement(Ge.a,{check:!0,className:"float-right "},r.a.createElement(Ve.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(ve.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component),xa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChangeImport=function(e){n.setState({importFilter:e.target.value})},n.handleChangeLoad=function(e){n.setState({loadFilter:e.target.value})},n.clearList=function(){n.setState({toBeImportedPlaylist:[]})},n.getAllSongs=function(e){e.forEach((function(e){return n.addToImport(e)}))},n.state={importFilter:"",loadFilter:"",tracks:n.props.tracks,toBeImportedPlaylist:[],modal:!0},n.addToImport=n.addToImport.bind(Object(d.a)(n)),n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(d.a)(n)),n.addPlayListToColl=n.addPlayListToColl.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"addToImport",value:function(e){var t=Object.assign({},e);t.id=Math.random(),this.state.toBeImportedPlaylist.push(t),this.setState({updated:!0})}},{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({tracks:this.props.tracks})}},{key:"addPlayListToColl",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,s){var i,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.state.toBeImportedPlaylist,l=JSON.stringify({name:t,playlist:i,isPrivate:a,owner:s,genre:n}),e.next=4,K(l);case 4:if(c=e.sent){e.next=8;break}return qt.a.notify(r.a.createElement("span",null,"An error making the playlist has occured. Please try again!"),{duration:2800}),e.abrupt("return");case 8:te(c.data._id,t,a,s,c.data.createdAt,this.props.token),qt.a.notify(r.a.createElement("span",null,"Playlist created!"),{duration:2800});case 10:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.importFilter,a=e.loadFilter,n=e.toBeImportedPlaylist,s=e.tracks;console.log(s);var i=t.toLowerCase(),l=n.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(i)}))})),o=a.toLowerCase(),c=s.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(o)}))}));return console.log(c),console.log(this.props),r.a.createElement("div",{className:"playlistEditor"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(Ve.a,{value:t,onChange:this.handleChangeImport,placeholder:"Filter songs based on title..."}),r.a.createElement("span",{className:"float-left"},"Songs: ",l.length),r.a.createElement("br",null),r.a.createElement(Ea,{removeFromPlaylist:this.removeFromPlaylist,toBeImportedPlaylist:l}))),r.a.createElement(ye.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(Ve.a,{value:a,onChange:this.handleChangeLoad,placeholder:"Filter songs based on title..."}),r.a.createElement("span",{className:"float-left"},"Songs: ",c.length),r.a.createElement("br",null),r.a.createElement(ka,{tracks:c,addToImport:this.addToImport})))),r.a.createElement(he.a,{id:"lowerRow"},r.a.createElement(ye.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(wa,{disabled:!this.state.toBeImportedPlaylist.length,owner:this.props.data.name,makePlaylist:this.addPlayListToColl}))),r.a.createElement(ye.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{onClick:this.clearList.bind(this)},"Clear list"))),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ve.a,{onClick:this.getAllSongs.bind(this,c)},"Get all songs")))))}}]),a}(n.Component),Pa=(n.Component,a(268)),Oa=a.n(Pa),ja=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Oa.a,{size:this.state.size,color:this.props.color||"#c45a8e",loading:this.state.loading}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component),Na=(a(516),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),Sa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSortChange=function(e){var t=e.target.value,a=n.state.playlists;switch(t){case"Latest":a.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));break;case"Last":a.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));break;case"By name":a.sort((function(e,t){return e.name>t.name?1:-1}));break;case"By owner":a.sort((function(e,t){return e.owner>t.owner?1:-1}))}console.log("Yeps..."),n.setState({sortedPlaylists:a})},n.onChange=function(e){var t=e.target.value;console.log(t),"All"===e.target.value&&(t=""),n.setState({genreFilter:t});var a=n.state.playlists,r=t.toLowerCase(),s=a.filter((function(e){return null===e||"undefined"===typeof e?a:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"_id"!==t&&e[t].toLowerCase().includes(r)}))}));n.setState({genreFilter:e.target.value,genreFilteredData:s})},n.handleChange=function(e){n.setState({filter:e.target.value})},n.state={playlists:[],token:"",filter:"",tracks:[],loading:!1,filteredData:[],genreFilteredData:[],sortedPlaylists:[],data:n.props.data},n.loadPlaylists=n.loadPlaylists.bind(Object(d.a)(n)),n.getPlayListById=n.getPlayListById.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"loadPlaylists",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingPlaylists:!0}),e.next=3,Na(300);case 3:return e.next=5,G();case 5:t=e.sent,this.setState({playlists:t.data.Playlist.reverse(),filteredData:t.data.Playlist,genreFilteredData:t.data.Playlist,sortedPlaylists:t.data.Playlist,loadingPlaylists:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPlayListById",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Na(2500);case 3:return e.next=5,ee(t);case 5:a=e.sent,this.setState({tracks:a.data.playlist,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){je()(this.props,e)||(this.setState({user:this.props.data}),this.props.data&&this.setState({Userplaylists:this.props.data.playlists,data:this.props.data}))}},{key:"componentDidMount",value:function(){var e=ce.currentUserValue;e&&e.token&&(this.setState({token:e.token,data:this.props.data}),this.loadPlaylists()),this.props.loadUser()}},{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.token,a=e.filter,n=this.state,s=(n.playlists,n.genreFilteredData),i=n.sortedPlaylists,l=a.toLowerCase();console.log(this.state.loadingPlaylists);var o=i.filter((function(e){return-1!==s.indexOf(e)}));console.log(i),console.log(s);var c=o.filter((function(e){return null===e||"undefined"===typeof e?o:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"_id"!==t&&"createdAt"!==t&&"updatedAt"!==t&&e[t].toLowerCase().includes(l)}))}));return console.log(c),r.a.createElement("div",{className:"container-fluid homepage-div"},r.a.createElement("div",{id:"spinnerDiv"},this.state.loading?r.a.createElement(ja,{color:"white"}):null),r.a.createElement("div",{id:"spinnerDiv2"},this.state.playlistsLoading?r.a.createElement(ja,{size:50,color:"white"}):null),r.a.createElement("br",null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"4",sm:"4",className:"spotifypage1"},"Playlists to choose from :)!",r.a.createElement("br",null),"You can subscribe to public playlists or just load a playlist by clicking on the name and editing on the playlist-editor on the right side.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"inputDiv"},r.a.createElement(Ve.a,{id:"filterId",value:a,onChange:this.handleChange,placeholder:"Filter playlists..."}),r.a.createElement(Ve.a,{onChange:this.onSortChange,type:"select",name:"select",id:"exampleSelect"},r.a.createElement("option",{key:"Latest",value:"Latest"},"Latest"),r.a.createElement("option",{key:"Last",value:"Last"},"Last"),r.a.createElement("option",{key:"By name",value:"By name"},"By name"),r.a.createElement("option",{key:"By owner",value:"By owner"},"By owner")),bt(this.onChange,!0)),r.a.createElement(ba,{userData:this.state.Userplaylists,loadPlaylists:this.loadPlaylists,token:t,playlists:c,getPlayListById:this.getPlayListById,loading:this.state.loadingPlaylists})),r.a.createElement(ye.a,{xs:"8",sm:"8",className:"spotifypage2"},'Chosen playlist. With options to A) Make a copy to your playlists B) If it\'s a yhteissoittolista: "subscribe"',r.a.createElement("div",{className:this.state.tracks.length?"playListEditorActive":"playListEditorNotActive"},this.state.tracks.length?r.a.createElement(xa,{data:this.props.data,loadPlaylists:this.loadPlaylists,token:t,playlists:c,getPlayListById:this.getPlayListById,tracks:this.state.tracks}):null)))))}}]),a}(n.Component),Ca=a(58),Ia=Object(Ca.a)(),Ta=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e._id)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(fe.a,{className:"card"},r.a.createElement(ge.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(ve.a,{className:"btn btn-primary float-right btn-remove",color:"danger",onClick:this.deletePlaylist.bind(this,this.props),disabled:!0},"Delete:TODO")),r.a.createElement(ht.a,{style:{textAlign:"center"}},this.props.name))))}}]),a}(n.Component),Aa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,s=n.props.playlists[t],i=s.title,l=s.artistName,o=s.uniqueId;return r.a.createElement("div",{key:o,style:a},r.a.createElement(Ta,{key:o,id:o,artistName:l,name:i}))},n.state={playlists:n.props.playlists},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({playlists:this.props.playlists})}},{key:"render",value:function(){var e=this.props.playlists;return console.log(e.length),r.a.createElement("div",null,r.a.createElement(st.c,{width:470,height:550,rowCount:e.length,rowHeight:82,rowRenderer:this.renderRow}))}}]),a}(n.Component),Ua=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(mt.a)({},t.target.name,t.target.value))},e.onSubmit=function(e){e.preventDefault()},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.playlists;return r.a.createElement("div",null,r.a.createElement(Me.a,{isOpen:this.props.isOpen,toggle:this.props.toggle},r.a.createElement(Re.a,{className:"mb-4",toggle:this.props.toggle},this.props.name),r.a.createElement(Be.a,null,r.a.createElement("p",{className:"formText text-center"},"Hello"),r.a.createElement(Aa,{playlists:e||[]}))))}}]),a}(n.Component),Da=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleList=function(){n.setState({modal:!n.state.modal})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.state={modal:!1,loading:!1},n.deletePlaylist=n.deletePlaylist.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"deletePlaylist",value:function(){console.log("Hey"),this.setState({loading:!0}),this.props.deletePlaylist(this.props.id)}},{key:"clickOnPlayList",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,ee(this.props.id);case 3:t=e.sent,this.setState({playlist:t.data.playlist,playlistName:t.data.name,playlistId:t.data._id,loading:!1,private:t.data.private}),this.toggleList();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(fe.a,{className:"card"},r.a.createElement(ge.a,null,r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"6",sm:"6"},r.a.createElement(ve.a,{href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(be.a,null,this.props.name))),r.a.createElement(ye.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"text-muted"},"Created at:"," ",r.a.createElement(ya.a,{format:"DD-MM-YYYY HH:mm"},this.props.createdAt))),r.a.createElement(ye.a,{xs:"2",sm:"2"},r.a.createElement(ve.a,{color:"secondary",onClick:this.deletePlaylist.bind(this),className:this.state.loading?"loading btn btn-primary float-left":"btn btn-primary float-left"},this.state.loading?"Deleting...":"Delete"))))),r.a.createElement(Ua,{isOpen:this.state.modal,toggle:this.toggle,name:this.state.playlistName,playlists:this.state.playlist}))}}]),a}(n.Component),La=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,s=n.props.playlists[t],i=s.name,l=s._id,o=s.createdAt;return r.a.createElement("div",{key:l,style:a},r.a.createElement(Da,{loadPlaylists:n.props.loadPlaylists,deletePlaylist:n.props.deletePlaylist,token:n.props.token,createdAt:o,id:l,name:i}))},n.state={playlists:n.props.playlists,token:n.props.token},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){je()(this.props,e)||this.setState({playlists:this.props.playlists,token:this.props.token})}},{key:"render",value:function(){var e=this,t=this.state.playlists;return r.a.createElement("div",null,"All playlists",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(st.a,null,(function(a){var n=a.width;return r.a.createElement(st.c,{width:n,height:700,rowCount:t.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),qa=(a(517),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={playlists:[],token:""},n.loadPlaylists=n.loadPlaylists.bind(Object(d.a)(n)),n.deletePlaylist=n.deletePlaylist.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"loadPlaylists",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("I shouldn't"),e.next=3,G();case 3:t=e.sent,this.setState({playlists:t.data.Playlist});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:this.loadPlaylists();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=ce.currentUserValue;e&&e.token&&(this.setState({token:e.token}),this.loadPlaylists())}},{key:"render",value:function(){var e=this.state,t=e.token,a=e.playlists;return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid homepage-div"},r.a.createElement(he.a,null,r.a.createElement(ye.a,{xs:"2",sm:"2",className:"adminpage1"},"ds"),r.a.createElement(ye.a,{xs:"6",sm:"6",className:"adminpage2"},r.a.createElement(La,{loadPlaylists:this.loadPlaylists,token:t,playlists:a,deletePlaylist:this.deletePlaylist})),r.a.createElement(ye.a,{xs:"4",sm:"4",className:"adminpage3"},"d"))))}}]),a}(n.Component)),Ma=function(){return r.a.createElement("h3",null,"404 - Not found")},Ra=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentUserInfo:null,isAuth:!1},n.loadUser=n.loadUser.bind(Object(d.a)(n)),n.logout=n.logout.bind(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"loadUser",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.loadUser(t);case 2:null!==(a=e.sent)?this.setState({currentUserInfo:a,isAuth:!0}):this.setState({currentUserInfo:null,isAuth:!1,token:null}),this.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;ce.currentUser.subscribe((function(t){t&&(e.setState({token:t.token}),e.loadUser())})),re(),this.interval=setInterval((function(){re()}),9e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"logout",value:function(){ce.logout(),Ia.push("/login"),this.setState({token:null})}},{key:"render",value:function(){var e=this.state,t=e.currentUserInfo,a=e.token;e.isAuth;return console.log(t),r.a.createElement("div",{className:"App wrapper"},r.a.createElement(y.c,{history:Ia},a&&r.a.createElement(de,{darkMode:!0,logout:this.logout}),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/login",component:$t}),r.a.createElement(ma,{path:"/",data:t,darkMode:!0,loadUser:this.loadUser,exact:!0,component:Kt}),r.a.createElement(ma,{path:"/spotify",data:t,component:ua}),r.a.createElement(ma,{path:"/playlists",data:t,component:Sa,loadUser:this.loadUser}),r.a.createElement(ma,{path:"/admin",data:t,roles:["Admin"],component:qa}),r.a.createElement(y.b,{component:Ma}))))}}]),a}(n.Component);a(518),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ra,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,a){}},[[271,1,2]]]);
//# sourceMappingURL=main.8cff257f.chunk.js.map