(this.webpackJsonptubemusic=this.webpackJsonptubemusic||[]).push([[0],{110:function(e,t,a){},143:function(e,t,a){},232:function(e,t,a){},252:function(e,t,a){},272:function(e,t,a){e.exports=a(523)},277:function(e,t,a){},279:function(e,t,a){},300:function(e,t){},302:function(e,t){},338:function(e,t){},339:function(e,t){},418:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},511:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},523:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),i=a.n(s),l=(a(277),a(3)),o=a.n(l),c=a(10),u=a(6),d=a(7),p=a(12),m=a(9),h=a(8),y=a(559),f=(a(279),a(526)),g=a(527),b=a(528),v=a(529),k=a(530),E=a(531),w=a(532),x=a(533),P=a(560),O=a(534),S=a(535),N=a(536),j=a(23),C=a.n(j),A=a(557);function I(e){return"undefined"===typeof e.response?"timeout":(402!==e.response.status&&401!==e.response.status||(me.logout(),window.location.reload(!0)),e.response)}function T(e){return e}var M=a(258),U=a.n(M),D=function(e){return new Promise((function(t){return setTimeout(t,e)}))},L="AIzaSyCc5tyizZ6BVh1XtAv_ItjIlS7QMKWhe0c",q="https://tubemusicbackend.herokuapp.com";C.a.defaults.timeout=25e3;var R=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,C.a.post(q+"/scrape/scrape",{items:t},se()).catch((function(e){I(e)}));case 3:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{item:t}},(n=me.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(q+"/scrape/search",a).then(T).catch((function(e){I(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{item:t}},(n=me.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(q+"/scrape/dbsearch",a).then(T).catch((function(e){I(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{item:t}},(n=me.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(q+"/scrape/autocomplete",a).then(T).catch((function(e){I(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.data);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",maxResults:1,key:L,q:t}}).catch((function(e){return console.log(e)}));case 2:if(!(a=e.sent)){e.next=7;break}return e.abrupt("return",a.data.items);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://www.googleapis.com/youtube/v3/videos",{params:{part:"contentDetails",id:t,key:L}});case 2:return a=e.sent,e.abrupt("return",a.data.items);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer "+t}},e.next=3,C.a.get("https://api.spotify.com/v1/me",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer "+t}},e.next=3,C.a.get("https://api.spotify.com/v1/me/playlists",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+t}},e.next=3,C.a.get(a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+a}},e.next=3,C.a.get("https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+a}},e.next=3,C.a.get("https://api.spotify.com/v1/search?q=".concat(t,"&type=playlist&limit=30"),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(q+"/playlists",se()).catch((function(e){I(e)}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post(q+"/playlists/create",t,se()).catch((function(e){I(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(100);case 2:return e.next=4,C.a.put(q+"/playlists/update/".concat(a),t,se());case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.put(q+"/playlists/additem/".concat(a),t,se());case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(100);case 2:return e.next=4,C.a.put(q+"/playlists/updatetime/".concat(a),t,se());case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.delete(q+"/playlists/delete/".concat(t),se()).catch((function(e){I(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(q+"/playlists/find/".concat(t),se()).catch((function(e){I(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r,s,i){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=JSON.stringify({playlistId:t,playlistName:a,private:n,owner:r,createdAt:s}),e.next=3,C.a.put(q+"/users/addPlaylist",l,se()).catch((function(e){I(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,i){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.delete(q+"/users/deletePlaylist".concat(t),se()).catch((function(e){I(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify({playlistId:t,playlistName:a,private:n}),e.next=3,C.a.put(q+"/users/editPlaylist".concat(t),s,se()).catch((function(e){I(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),se=function(){var e={headers:{"Content-Type":"application/json"}},t=me.currentUserValue;if(t){var a=U.a.decode(t.token);a||(me.logout(),window.location.reload(!0));var n=Math.floor((new Date).getTime()/1e3)-a.exp;e.headers["x-auth-token"]=t.token,n>-3870&n<-10&&C.a.get(q+"/auth/renew",e).then((function(e){me.newToken(e.data)}))}return e},ie=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{query:t}},(n=me.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(q+"/scrape/search_artists",a).then(T).catch((function(e){I(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"},params:{query:t}},(n=me.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=5,C.a.get(q+"/scrape/get_artist_data",a).then(T).catch((function(e){I(e)}));case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r.data.array);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a={headers:{"Content-Type":"application/json"},params:{query:t}},(n=me.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=6,C.a.get(q+"/scrape/get_playlist",a).then(T).catch((function(e){I(e)}));case 6:if(r=e.sent,console.log(r),!r){e.next=12;break}return e.abrupt("return",r.data.array);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a={headers:{"Content-Type":"application/json"},params:{query:t}},(n=me.currentUserValue).token&&(a.headers["x-auth-token"]=n.token),e.next=6,C.a.get(q+"/scrape/get_album",a).then(T).catch((function(e){I(e)}));case 6:if(r=e.sent,console.log(r),!r){e.next=12;break}return e.abrupt("return",r.data.array);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),n={headers:{"Content-Type":"application/json"},params:{browseId:t,params:a}},(r=me.currentUserValue).token&&(n.headers["x-auth-token"]=r.token),e.next=6,C.a.get(q+"/scrape/get_artist_albums",n).then(T).catch((function(e){I(e)}));case 6:if(s=e.sent,console.log(s),!s){e.next=12;break}return e.abrupt("return",s.data.array);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de="https://tubemusicbackend.herokuapp.com";try{JSON.parse(localStorage.getItem("token"))}catch(rn){localStorage.removeItem("token")}var pe=new A.a(JSON.parse(localStorage.getItem("token"))),me={login:function(e,t){return he.apply(this,arguments)},logout:function(){localStorage.removeItem("token"),pe.next(null)},signup:function(e){console.log(e);var t=JSON.stringify({name:e.signUpName,email:e.signUpEmail,role:"User",password:e.signUpPassword});return C.a.post(de+"/users/create",t,{headers:{"Content-Type":"application/json"}}).then((function(e){pe.next(e.data),localStorage.setItem("token",JSON.stringify(e.data))})).catch((function(e){return e.response}))},loadUser:function(){return ye.apply(this,arguments)},newToken:function(e){pe.next(e),localStorage.setItem("token",JSON.stringify(e))},currentUser:pe.asObservable(),get currentUserValue(){return pe.value}};function he(){return(he=Object(c.a)(o.a.mark((function e(t,a){var n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:t,password:a}),e.prev=2,e.next=5,C.a.post(de+"/auth",r,n);case 5:s=e.sent,pe.next(s.data),localStorage.setItem("token",JSON.stringify(s.data)),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function ye(){return(ye=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.get(de+"/auth/user",se()).then((function(e){return e.data})).catch((function(e){I(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).state={isOpen:!1};var r=window.pageYOffset;return window.onscroll=function(){var e=window.pageYOffset;document.getElementById("navbar").style.top=r>e?"0":"-50px",r=e},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=me.currentUserValue;return r.a.createElement("div",null,r.a.createElement(f.a,{className:this.props.darkMode?"navbar navbar-dark navbar-expand-lg":"navbar2 navbar-dark navbar-expand-lg",expand:"md",id:"navbar"},r.a.createElement(g.a,{href:"/"},"TubeMusic"),r.a.createElement(b.a,{onClick:function(){return e.setState({isOpen:!e.state.isOpen})}}),r.a.createElement(v.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(k.a,{className:"mr-auto",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/spotify",target:"_blank"},"Spotify")),r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/playlists",target:"_blank"},"Playlists")),t&&"Admin"===t.user.role?r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/admin",target:"_blank"},"Admin")):"",r.a.createElement(x.a,{nav:!0,inNavbar:!0},r.a.createElement(P.a,{nav:!0,caret:!0},"Options"),r.a.createElement(O.a,{right:!0},r.a.createElement(S.a,null,"Option 1"),r.a.createElement(S.a,null,"Option 2"),r.a.createElement(S.a,{divider:!0}),r.a.createElement(S.a,null,"Reset")))),r.a.createElement(N.a,null,"Hello, ",t&&t.user.name),r.a.createElement(k.a,{className:"navbar-nav",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"#",onClick:this.props.logout},"Sign out"))))))}}]),a}(n.Component),ge=(a(418),a(75)),be=a(540),ve=a(541),ke=a(538),Ee=a(539),we=a(542),xe=a(259),Pe=(a(232),a(71),a(100)),Oe=a(31),Se=a(30),Ne=a(537),je=function(e){return r.a.createElement("div",null,r.a.createElement(Ne.a,{style:{padding:"8px",borderRadius:"2rem",margin:"5px"},href:"#",color:"info"},e.title))},Ce=a(15),Ae=a.n(Ce),Ie=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onAddClick=function(e){n.props.addFunc({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,artists:e.artists,thumbnail:e.thumbnail,thumbnails:e.thumbnails,album:e.album})},n.onPlayClick=function(e){n.props.onPlay({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,artists:e.artists,album:e.album})},n.onAddToPlaylist=function(e){console.log(e),n.props.AddToPlaylist({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,thumbnail:e.thumbnail,artists:e.artists,date:Date.now(),album:e.album})},n.playNextClick=function(e){n.props.playNext(e)},n.state={albums:[],subscribers:"",views:"",description:"",songs:[],loading:!1},n}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!Ae()(this.props,e)||!Ae()(this.state,t)}},{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.browseId){e.next=14;break}return this.setState({loading:!0}),e.next=4,le(this.props.browseId);case 4:if(t=e.sent,a=[],!(t&&t.albums&&t.albums.browseId&&t.albums.params)){e.next=11;break}return e.next=9,ue(t.albums.browseId,t.albums.params).catch((function(e){return null}));case 9:null!==(n=e.sent)&&(a=n);case 11:this.setState({loading:!1}),t.albums||(a=[0,1]),this.setState({albums:a.length>0?a:t.albums.results,subscribers:t.subscribers,singles:t.singles,views:t.views,description:t.description,songs:t.songs,thumbnails:t.thumbnails});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.albums,n=t.subscribers,s=t.views,i=t.description,l=t.songs,o=t.thumbnails,c=t.singles;console.log(this.props);var u=function(t){switch(t.resultType){case"artist":return r.a.createElement(ke.a,{className:"card-2",id:"videoitem",onDoubleClick:function(){e.state.loading||e.props.toggleArtistModal({albums:a,subscribers:n,views:s,description:i,songs:l,thumbnails:o,singles:c,artist:e.props.artist})}},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbutton2",onClick:function(){e.state.loading||e.props.toggleArtistModalItem({name:e.props.artist,id:e.props.browseId})}},e.props.thumbnails&&r.a.createElement(Pe.LazyLoadImage,{height:100,src:e.props.thumbnails[1].url,width:100,style:{position:"absolute"},id:"thumbnail"}))),r.a.createElement(ve.a,{xs:"7",sm:"7"},r.a.createElement(we.a,{onClick:function(){e.state.loading||e.props.toggleArtistModalItem({name:e.props.artist,id:e.props.browseId})}},r.a.createElement("h5",null,r.a.createElement("div",{className:"hoverEffect"},e.props.artist,"\xa0\xa0"," "),e.state.loading?r.a.createElement(Se.a,{className:"fa-spin",icon:Oe.g}):null))),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},e.state.subscribers)),r.a.createElement(ve.a,{xs:"1",sm:"1"})),r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"12",sm:"12"},r.a.createElement("div",{className:"badgeWrapper"},r.a.createElement(Me,{toggleAlbumModal:e.props.toggleAlbumModal,albums:e.state.albums}))))));default:return r.a.createElement(ke.a,{className:"card-2",id:"videoitem",onDoubleClick:e.onPlayClick.bind(e,e.props)},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbutton",onClick:e.onPlayClick.bind(e,e.props)},e.props.thumbnail&&r.a.createElement(Pe.LazyLoadImage,{height:70,src:e.props.thumbnail,width:70,style:{position:"absolute"},id:"thumbnail"}),r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.d,id:"thumbnail2"}))),r.a.createElement(ve.a,{xs:"7",sm:"7"},r.a.createElement(we.a,null,r.a.createElement("div",{className:"hoverEffect"}," ",e.props.title),r.a.createElement("br",null),e.props.album&&r.a.createElement("div",{onClick:function(){e.props.toggleAlbumModal({artist:e.props.artists[0].name,browseId:e.props.album.id,type:"Album",thumbnails:[{height:60,url:e.props.thumbnail},{height:60,url:e.props.thumbnail}],title:e.props.album.name})},style:{cursor:"pointer"},className:"hoverEffect d-none d-xl-block"},e.props.album.name)),r.a.createElement(we.a,null,e.props.artists[0]&&r.a.createElement("div",{className:"artists123"},r.a.createElement(Te,{toggleArtistModal:e.props.toggleArtistModalItem,artists:e.props.artists})))),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{className:"btn btn-primary btn-item",color:"secondary",onClick:e.onAddToPlaylist.bind(e,e.props)},"+P"))),r.a.createElement(ve.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:e.playNextClick.bind(e,e.props)},"+N"),r.a.createElement(xe.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:e.onAddClick.bind(e,e.props)},"+Q")))),r.a.createElement(be.a,null,r.a.createElement(ve.a,null),r.a.createElement(ve.a,{xs:"6",sm:"6"},r.a.createElement("small",{className:"float"},e.props.duration)))))}};return r.a.createElement("div",null,r.a.createElement(u,{resultType:this.props.resultType}))}}]),a}(n.Component),Te=function(e){return e.artists.map((function(t){return r.a.createElement("div",{className:"videolistArtists artistStuff hoverEffect",onClick:function(){return e.toggleArtistModal({name:t.name,id:t.id})}},t.name," \xa0")}))},Me=function(e){return e.albums?e.albums.map((function(t){return r.a.createElement("div",{key:Math.random(),onClick:function(){return e.toggleAlbumModal(t)}},r.a.createElement(je,{key:Math.random(),title:t.title}))})):null},Ue=Ie,De=a(51),Le=a(262),qe=a.n(Le),Re=(a(110),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||35},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(qe.a,{size:this.state.size,color:this.props.color||"#c45a8e",loading:this.state.loading}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"italic"},"Loading..."))}}]),a}(r.a.Component)),Be=(a(422),a(41)),ze=a(561),Fe=a(543),Qe=a(544),_e=a(546),Ve=a(116),He=a.n(Ve),Ye=a(39),Je=(a(142),a(545)),We=a(117),Ge=a.n(We),Ke=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading2",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Ge.a,{size:15,color:this.props.color||"#c45a8e",loading:this.state.loading,margin:2}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component);a(424);function Xe(e){return("0"+e).slice(-2)}function Ze(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=Xe(t.getUTCSeconds());return a?"".concat(a,".").concat(Xe(n),".").concat(r):"".concat(n,".").concat(r)}var $e=function(e){return new Promise((function(t){return setTimeout(t,e)}))},et=function(e){return e.artists.map((function(e){return r.a.createElement(r.a.Fragment,null,e.name," \xa0")}))},tt=function(e){return console.log(e.artists),r.a.createElement(ke.a,{onDoubleClick:function(){e.videoId&&e.onPlay({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,artists:e.artists,thumbnail:e.thumbnail,thumbnails:e.thumbnails,album:e.album})}},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbuttonplaylist",onClick:function(){e.videoId&&e.onPlay({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,artists:e.artists,thumbnail:e.thumbnail,thumbnails:e.thumbnails,album:e.album})}},e.thumbnails&&r.a.createElement("img",{height:60,src:e.thumbnails[0].url,width:60,style:{position:"absolute"},id:"thumbnail",alt:"foo"}),e.videoId?r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.d,id:"thumbnail2"}):null)),r.a.createElement(ve.a,{xs:"3",sm:"3"},r.a.createElement(we.a,null,r.a.createElement("div",{className:"hoverEffect"},e.title)," ")),r.a.createElement(ve.a,{xs:"3",sm:"3"},r.a.createElement(at,{toggleModal:e.toggleModal,toggleArtistModal:e.toggleArtistModal,artists:e.artists})),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("small",{className:"float-left"},e.videoId?e.duration:"Deleted by artist")),r.a.createElement(ve.a,{xs:"1",sm:"1"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{className:"btn btn-primary btn-item",color:"secondary",onClick:function(){return e.AddToPlaylist(e)},disabled:!e.videoId},"+P"))),r.a.createElement(ve.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:function(){return e.playNext(e)},disabled:!e.videoId},"+N"),r.a.createElement(xe.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:function(){return e.addFunc(e)},disabled:!e.videoId},"+Q"))))))},at=function(e){return e.artists.map((function(t){return r.a.createElement("div",{onClick:function(){e.toggleModal(),e.toggleArtistModal(t)},className:"artistStuff hoverEffect"},t.name," \xa0")}))},nt=function(e){var t=Object(n.useState)(!1),a=Object(Be.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),u=Object(Be.a)(l,2),d=u[0],p=u[1],m=Object(n.useState)(!1),h=Object(Be.a)(m,2),y=h[0],f=h[1],g=(e.title,e.className),b=e.show,v=Object(n.useState)([]),k=Object(Be.a)(v,2),E=k[0],w=k[1],x=Object(n.useState)([]),N=Object(Be.a)(x,2),j=N[0],C=N[1],A=Object(n.useState)(""),I=Object(Be.a)(A,2),T=I[0],M=I[1],U=Object(n.useState)(""),D=Object(Be.a)(U,2),L=D[0],q=D[1],R=Object(n.useState)([]),B=Object(Be.a)(R,2),z=B[0],F=B[1],Q=Object(n.useState)([]),_=Object(Be.a)(Q,2),V=_[0],H=_[1];Object(n.useEffect)((function(){var t=function(){var t=Object(c.a)(o.a.mark((function t(){var a,n,r,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),t.next=3,$e(1e3);case 3:return t.next=5,ce(e.albumBrowseId);case 5:if(a=t.sent,p(!1),a){t.next=9;break}return t.abrupt("return");case 9:w(a.tracks),C(a.artist),M(a.description),q(a.title),H(a.thumbnails),n=[],r=Object(ge.a)(a.tracks);try{for(r.s();!(s=r.n()).done;)(i=s.value).videoId&&n.push({uniqueId:i.videoId+Math.random(),title:i.title,videoId:i.videoId,artists:a.artist,artist:i.artists,thumbnails:i.thumbnails,duration:Ze(i.lengthMs/1e3),album:{id:e.albumBrowseId,name:a.title},thumbnail:i.thumbnails[0].url,addFunc:e.addFunc,onPlay:e.onPlay,playNext:e.playNext})}catch(l){r.e(l)}finally{r.f()}F(n);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.artist||t()}),[e.albumBrowseId]);var Y=function(){var t=Object(c.a)(o.a.mark((function t(a,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,Promise.all(z.map(function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({track:t}),e.next=3,Z(a,n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:f(!1),e.loadPlaylist(n),Ye.a.notify(r.a.createElement("span",{className:"styled-toast"},"Songs added to the playlist: ",a," !"),{duration:2e3});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),J=function(){var t=Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,$e(1e3);case 3:return t.next=5,e.makePlaylist(L+" "+j[0].name,z,!0,"Random");case 5:f(!1),Ye.a.notify(r.a.createElement("span",{className:"styled-toast"},"Playlist: ",L+" "+j[0].name," made!"),{duration:2e3});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=e.playlists.map((function(e){return r.a.createElement(S.a,{key:Math.random(),onClick:function(){return Y(e.name,e._id)}},e.name)}));return W.unshift(r.a.createElement(S.a,{key:Math.random(),onClick:function(){return J()}},"Create a new playlist")),r.a.createElement("div",null,y&&b?r.a.createElement("div",{className:"loadingplaceformodal"},r.a.createElement(Ke,{size:50,color:"white",style:{zIndex:999999}})):null,d&&b?r.a.createElement("div",{className:"loadingplaceformodal"},r.a.createElement(Ke,{size:50,color:"white",style:{zIndex:999999}})):r.a.createElement(ze.a,{isOpen:b,toggle:function(){return e.toggleModal()},className:g,backdrop:!0,keyboard:!0,size:"xl"},r.a.createElement(Fe.a,{style:{textAlign:"center"},toggle:function(){return e.toggleModal()},className:"text-center",cssModule:{"modal-title":"w-100 text-center"}},r.a.createElement(et,{artists:j}),"- \xa0",L),r.a.createElement(Qe.a,{id:"modalbody123123"},r.a.createElement("div",{className:"albumDescription"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"3"},V[1]&&r.a.createElement("img",{height:120,src:V[1].url,width:120,style:{position:"relative",display:"inline-block"},id:"thumbnail",alt:"foo"})),r.a.createElement(ve.a,{sm:"3"},r.a.createElement(xe.a,{style:{position:"relative",display:"inline-block",top:"50%"},onClick:function(){e.playPlaylist(z,L)}},"Play album")),r.a.createElement(ve.a,{sm:"3"},r.a.createElement(Je.a,{isOpen:s,toggle:function(){return i(!s)},style:{position:"relative",display:"inline-block",top:"50%"}},r.a.createElement(P.a,{caret:!0},"Add to playlist"),r.a.createElement(O.a,null,W))),r.a.createElement(ve.a,{sm:"3"},r.a.createElement(xe.a,{style:{position:"relative",display:"inline-block",top:"50%"},onClick:function(){return console.log(z),void e.addPlaylistToQueue(z,L)}},"Queue album")))),r.a.createElement("hr",null),r.a.createElement(He.a,{lines:3,more:"Show more",less:"Show less",anchorClass:"",expanded:!1},T),r.a.createElement("div",{className:"artistTracks"},E.map((function(t){var a=t.artists,n=t.thumbnails,s=t.videoId,i=t.title,l=t.lengthMs;return r.a.createElement(tt,{uniqueId:s+Math.random(),title:i,videoId:s,artists:j,artist:a,thumbnails:n,duration:Ze(l/1e3),album:{id:e.albumBrowseId,name:L},thumbnail:n[0].url,addFunc:e.addFunc,onPlay:e.onPlay,playNext:e.playNext,AddToPlaylist:e.AddToPlaylist,toggleModal:e.toggleModal,toggleArtistModal:e.toggleArtistModal})})))),r.a.createElement(_e.a,null,r.a.createElement(xe.a,{color:"secondary",onClick:function(){return e.toggleModal()}},"Go back"))))};a(425);var rt=function(e){return e.albums?e.albums.map((function(t){return r.a.createElement("div",{key:Math.random(),onClick:function(){return e.toggleAlbumModal(t)}},r.a.createElement(je,{key:Math.random(),title:t.title}))})):null},st=function(e){return console.log(e),r.a.createElement("div",null,e.loading&&e.show?r.a.createElement("div",{className:"loadingplaceformodal"},r.a.createElement(Ke,{size:50,color:"white",style:{zIndex:999999}})):null,r.a.createElement(ze.a,{isOpen:e.show,toggle:function(){return e.toggleModal()},className:e.className,backdrop:!0,keyboard:!0,size:"xl"},r.a.createElement(Fe.a,{style:{textAlign:"center"},toggle:function(){return e.toggleModal()},className:"text-center",cssModule:{"modal-title":"w-100 text-center"}},e.artistName),r.a.createElement(Qe.a,null,r.a.createElement("div",{className:"albumDescription"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"6"},e.artistThumbnails&&r.a.createElement("img",{src:e.artistThumbnails[1].url,width:480,style:{position:"relative",display:"inline-block"},id:"thumbnail",alt:"foo"})),r.a.createElement(ve.a,{sm:"6"},r.a.createElement("div",{style:{color:"white"}},r.a.createElement("p",null,"Subscribers: ",e.artistSubscribers," ",r.a.createElement(xe.a,{onClick:function(){e.toggleAllSongsModal(e.artistSongs.browseId)},className:"float-right"},"All songs")),r.a.createElement("p",null,"Total views: ",e.artistViews),r.a.createElement("p",null," Albums: "),r.a.createElement("div",{className:"badgeWrapper"},r.a.createElement(rt,{toggleAlbumModal:e.toggleAlbumModal,albums:e.artistAlbums})))," "))),r.a.createElement("hr",null),r.a.createElement(He.a,{lines:3,more:"Show more",less:"Show less",anchorClass:"",expanded:!1},e.artistDescription)),r.a.createElement(_e.a,null,r.a.createElement(xe.a,{color:"secondary",onClick:function(){return e.toggleModal()}},"Go back"))))},it=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleArtistModal=function(e){n.setState({showArtistModal:!n.state.showArtistModal,artistAlbums:e.albums,artistDescription:e.description,artistSongs:e.songs,artistSubscribers:e.subscribers,artistThumbnails:e.thumbnails,artistViews:e.views,artistSingles:e.singles,artistName:e.artist,artist:!0})},n.toggleAlbumModal=function(e){n.setState({showModal:!n.state.showModal,albumBrowseId:e.browseId,albumThumbnails:e.thumbnails,albumTitle:e.title,albumYear:e.year,artist:!1})},n.toggleModal=function(){n.setState({showModal:!n.state.showModal})},n.toggleArtistModal2=function(){n.setState({showArtistModal:!n.state.showArtistModal})},n.toggleArtistModalItem=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n.props.toggleArtistModal(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loading:n.props.loading,error:n.props.error,errorText:n.props.errorText,showModal:!1},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({loading:this.props.loading,error:this.props.error,errorText:this.props.errorText})}},{key:"render",value:function(){var e=this,t=this.props.items;return console.log(t),r.a.createElement("div",{id:"videolist33"},r.a.createElement(nt,{show:this.state.showModal,toggleModal:this.toggleModal,artist:this.state.artist,albumBrowseId:this.state.albumBrowseId,albumThumbnails:this.state.albumThumbnails,albumTitle:this.state.albumTitle,albumYear:this.state.albumYear,addFunc:this.props.onAdd,onPlay:this.props.onPlay,addPlaylistToQueue:this.props.addPlaylistToQueue,playPlaylist:this.props.playPlaylist,playNext:this.props.playNext,playlists:this.props.playlists,AddToPlaylist:this.props.AddToPlaylist,loadPlaylist:this.props.loadPlaylist,makePlaylist:this.props.makePlaylist,toggleArtistModal:this.props.toggleArtistModal}),r.a.createElement(st,{show:this.state.showArtistModal,toggleModal:this.toggleArtistModal2,artistAlbums:this.state.artistAlbums,artistSingles:this.state.artistSingles,artistName:this.state.artistName,artistDescription:this.state.artistDescription,artistSongs:this.state.artistSongs,artistSubscribers:this.state.artistSubscribers,artistThumbnails:this.state.artistThumbnails,artistViews:this.state.artistViews,artist:this.state.artist,addFunc:this.props.onAdd,onPlay:this.props.onPlay,addPlaylistToQueue:this.props.addPlaylistToQueue,playPlaylist:this.props.playPlaylist,playNext:this.props.playNext,playlists:this.props.playlists,AddToPlaylist:this.props.AddToPlaylist,loadPlaylist:this.props.loadPlaylist,toggleAlbumModal:this.toggleAlbumModal}),this.state.loading?r.a.createElement("div",{className:"loadingPlace"},r.a.createElement(Re,{color:"#545454"})):null,this.state.error?r.a.createElement("span",null,this.state.errorText):"",t.map((function(t){var a=t.title,n=t.publishedAt,s=t.channelTitle,i=t.videoId,l=t.thumbnail,o=t.uniqueId,c=t.duration,u=t.thumbnails,d=t.artists,p=t.resultType,m=t.artist,h=t.browseId,y=t.album;return r.a.createElement(De.CSSTransition,{key:o,timeout:500,classNames:"fade"},r.a.createElement(Ue,{playNext:e.props.playNext,uniqueId:o,title:a,thumbnail:l&&l,channelTitle:s,publishedAt:n,videoId:i,addFunc:e.props.onAdd,onPlay:e.props.onPlay,AddToPlaylist:e.props.AddToPlaylist,duration:c,artists:d,resultType:p,artist:m,browseId:h,thumbnails:u,toggleAlbumModal:e.toggleAlbumModal,toggleArtistModal:e.toggleArtistModal,toggleArtistModalItem:e.toggleArtistModalItem,album:y}))})))}}]),a}(n.Component),lt=a(549),ot=a(562),ct=a(552),ut=a(547),dt=a(548),pt=a(550),mt=a(551),ht=a(5),yt=a.n(ht),ft=(a(426),a(167)),gt=a.n(ft),bt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},vt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={text:"",dbtext:"",activeTab:"1",autoCompleteItems:[{title:"",_id:"s"}],checked:!1},e.onChangetext=function(){var t=Object(c.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target.value,e.setState({text:n,dbtext:n}),t.next=4,bt(150);case 4:if(n===e.state.text){t.next=6;break}return t.abrupt("return");case 6:if(""!==n){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,F(n);case 10:r=t.sent,console.log(r),e.setState({autoCompleteItems:r});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSelect=function(t){e.setState({dbtext:t,text:t})},e.submit=function(t){t.preventDefault(),e.state.checked?e.getArtists():e.props.handleSubmit(e.state.text)},e.submitDb=function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.props.handleDB(null,e.state.text);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggle=function(t){e.setState({activeTab:t}),e.props.setTab(t)},e.boxChange=function(t){e.setState({checked:t.target.checked})},e}return Object(d.a)(a,[{key:"getArtists",value:function(){this.props.getArtists(this.state.text)}},{key:"render",value:function(){var e=this,t=this.state.activeTab;return r.a.createElement("div",null,r.a.createElement(k.a,{tabs:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{className:yt()({active:"1"===t}),onClick:function(){e.toggle("1")}},"Database")),r.a.createElement(E.a,null,r.a.createElement(w.a,{className:yt()({active:"2"===t}),onClick:function(){e.toggle("2")}},"YouTube"))),r.a.createElement(ut.a,{activeTab:t},r.a.createElement(dt.a,{tabId:"1"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"12"},r.a.createElement("form",{onSubmit:this.submitDb},r.a.createElement(lt.a,null,r.a.createElement(gt.a,{renderInput:function(e){return r.a.createElement("input",Object.assign({id:"autocomplete",placeholder:"Search for songs on our database..."},e))},items:this.state.autoCompleteItems,wrapperStyle:{width:"calc(100% - 71px)"},getItemValue:function(e){return e.title},menuStyle:{zIndex:1e4,borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"#ffffff",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},renderItem:function(e,t){return r.a.createElement("div",{key:e._id,style:{color:"#000000",backgroundColor:t?"rgb(219, 219, 219)":"transparent"}},e.title)},value:this.state.text,onChange:function(t){return e.onChangetext(t)},onSelect:function(t){return e.onSelect(t)}}),r.a.createElement(ot.a,{addonType:"append"},r.a.createElement(xe.a,{color:"secondary"},"Search"))))))),r.a.createElement(dt.a,{tabId:"2"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"12"},r.a.createElement("form",{onSubmit:this.submit},r.a.createElement(lt.a,null,r.a.createElement(gt.a,{renderInput:function(e){return r.a.createElement("input",Object.assign({id:"autocomplete",placeholder:"Search for songs on YouTube..."},e))},items:this.state.autoCompleteItems,wrapperStyle:{width:"calc(100% - 71px)"},getItemValue:function(e){return e.title},menuStyle:{zIndex:1e4,borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"#ffffff",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},renderItem:function(e,t){return r.a.createElement("div",{key:e._id,style:{color:"#000000",backgroundColor:t?"rgb(219, 219, 219)":"transparent"}},e.title)},value:this.state.text,onChange:function(t){return e.onChangetext(t)},onSelect:function(t){return e.onSelect(t)}}),r.a.createElement(ot.a,{addonType:"append"},r.a.createElement(xe.a,{color:"secondary"},"Search")),r.a.createElement(pt.a,{check:!0},r.a.createElement(mt.a,{check:!0},r.a.createElement(ct.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"})," ","Search for artists")))))))))}}]),a}(n.Component),kt=a(553),Et=a(68),wt=(a(143),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editMode:e.props.editMode},e.onPlayClick=function(t){e.props.onPlay(t)},e}return Object(d.a)(a,[{key:"onRemoveClick",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.onRemove(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({editMode:this.props.editMode})}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(ke.a,{className:"card",onDoubleClick:this.onPlayClick.bind(this,this.props)},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbuttonplaylist d-none d-xl-block",onClick:this.onPlayClick.bind(this,this.props)},this.props.thumbnail&&r.a.createElement(Pe.LazyLoadImage,{height:60,src:this.props.thumbnail,width:60,style:{position:"absolute"},id:"thumbnail"}),r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.d,id:"thumbnail2"}))),r.a.createElement(ve.a,{xs:"7",sm:"7"},r.a.createElement(we.a,{className:"hoverEffect"},this.props.title," ")," ",this.props.artists&&r.a.createElement(xt,{toggleArtistModal:this.props.toggleArtistModalItem,artists:this.props.artists})),r.a.createElement(ve.a,{xs:"1",sm:"1"},r.a.createElement("small",{className:"float-left"},this.props.duration)),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},this.props.editMode?r.a.createElement(xe.a,{className:"btn btn-secondary button float-right",color:"secondary",onClick:this.onRemoveClick.bind(this,this.props)},"x"):null))))))}}]),a}(n.Component)),xt=function(e){var t=Object(n.useState)(!1),a=Object(Be.a)(t,2);a[0],a[1];return e.artists.map((function(t){return r.a.createElement("div",{className:"artistStuff2 hoverEffect",id:t.id,onClick:function(){return e.toggleArtistModal({name:t.name,id:t.id})}},t.name," \xa0")}))},Pt=wt,Ot=a(27),St=Object(Et.b)((function(e){var t=e.uniqueId,a=e.title,n=e.thumbnail,s=e.channelTitle,i=e.publishedAt,l=e.videoId,o=e.duration,c=e.onRemove,u=e.onPlay,d=e.editMode,p=e.artists,m=e.album,h=e.toggleArtistModalItem;return r.a.createElement(Pt,{key:t,uniqueId:t,title:a,thumbnail:n,channelTitle:s,publishedAt:i,videoId:l,onRemove:c,onPlay:u,duration:o,editMode:d,artists:p,album:m,toggleArtistModalItem:h})})),Nt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderRow=function(t){var a=t.index,n=t.style,s=e.props.queue;console.log(s);var i=s[a],l=i.title,o=i.publishedAt,c=i.channelTitle,u=i.videoId,d=i.thumbnail,p=i.uniqueId,m=i.duration,h=i.artists,y=i.album;return r.a.createElement("div",{key:p,style:n},r.a.createElement(St,{className:"QueueItem",key:p,uniqueId:p,index:a,title:l,videoId:u,publishedAt:o,channelTitle:c,thumbnail:d,onRemove:e.props.onRemove,onPlay:e.props.onPlay,duration:m,editMode:e.props.editMode,toggleArtistModalItem:e.props.toggleArtistModalItem,artists:h,album:y}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.getRef,t=this.props.queue;return r.a.createElement(Ot.b,{ref:e,rowHeight:82,rowRenderer:this.renderRow,rowCount:t.length,width:this.props.width,height:250})}}]),a}(n.Component),jt=a(121),Ct=a.n(jt),At=Object(Et.a)(Nt),It=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Tt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).registerListRef=function(e){n.List=e},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;if(t!==a){var r=n.state.queue;n.setState({queue:Ct()(r,t,a)}),n.props.setQueue(n.state.queue),n.List.recomputeRowHeights(),n.List.forceUpdate()}},n.toggle=function(){n.setState({editMode:!n.state.editMode}),n.List.recomputeRowHeights(),n.List.forceUpdate()},n.toggleArtistModalItem=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.toggleArtistModal(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={queue:n.props.queue,editMode:!1,animation:!1},n.shuffleQueue=n.shuffleQueue.bind(Object(p.a)(n)),n.clearQueue=n.clearQueue.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({queue:this.props.queue})}},{key:"shuffleQueue",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({animation:!0}),e.next=3,It(200);case 3:this.props.shuffleQueue(),this.List.recomputeRowHeights(),this.List.forceUpdate();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearQueue",value:function(){this.props.clearQueue()}},{key:"render",value:function(){var e=this,t=this.state.animation;return console.log(this.props),r.a.createElement("div",{className:"queueList"},this.props.isShuffle?r.a.createElement("p",null,"Shuffle is on! Playing random songs from the queue. There are"," ",this.props.queue.length," songs in the queue. To see and edit the queue please set shuffle off."):null,!this.props.isShuffle&&this.props.queue[0]?r.a.createElement(kt.a,null,r.a.createElement(xe.a,{disabled:!this.props.queue[0],className:"float-right btn-remove",onClick:this.clearQueue},"CLEAR"),r.a.createElement(xe.a,{disabled:!this.props.queue[0],className:"float-right",onClick:this.shuffleQueue},"SHUFFLE"),r.a.createElement(xe.a,{disabled:!this.props.queue[0],className:"float-left btn-edit",onClick:this.toggle},this.state.editMode?"Save":"Edit"),r.a.createElement("span",null," ",r.a.createElement("span",null,"Queue")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{onAnimationEnd:function(){return e.setState({animation:!1})},className:t?"animation":"queue"},r.a.createElement(Ot.a,{disableHeight:!0},(function(t){var a=t.width;return r.a.createElement(At,{getRef:e.registerListRef,queue:e.state.queue,onSortEnd:e.onSortEnd,onRemove:e.props.onRemove,onPlay:e.props.onPlay,editMode:e.state.editMode,toggleArtistModalItem:e.toggleArtistModalItem,width:a,distance:10})})))):"")}}]),a}(n.Component);var Mt=function(e){return console.log(e.artists),r.a.createElement(ke.a,{onDoubleClick:function(){e.videoId&&e.onPlay({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,artists:e.artists,thumbnail:e.thumbnail,thumbnails:e.thumbnails,album:e.album})}},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"thumbnailbuttonplaylist",onClick:function(){e.videoId&&e.onPlay({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,artists:e.artists,thumbnail:e.thumbnail,thumbnails:e.thumbnails,album:e.album})}},e.thumbnails&&r.a.createElement("img",{height:60,src:e.thumbnails[0].url,width:60,style:{position:"absolute"},id:"thumbnail",alt:"foo"}),e.videoId?r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.d,id:"thumbnail2"}):null)),r.a.createElement(ve.a,{xs:"3",sm:"3"},r.a.createElement(we.a,null,r.a.createElement("div",{className:"hoverEffect"},e.title)," ")),r.a.createElement(ve.a,{xs:"3",sm:"3"},r.a.createElement(Ut,{toggleModal:e.toggleModal,toggleArtistModal:e.toggleArtistModal,artists:e.artists})),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("small",{className:"float-left"},e.videoId?e.duration:"Deleted by artist")),r.a.createElement(ve.a,{xs:"1",sm:"1"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{className:"btn btn-primary btn-item",color:"secondary",onClick:function(){return e.AddToPlaylist(e)},disabled:!e.videoId},"+P"))),r.a.createElement(ve.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:function(){return e.playNext(e)},disabled:!e.videoId},"+N"),r.a.createElement(xe.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:function(){return e.addFunc(e)},disabled:!e.videoId},"+Q"))))))},Ut=function(e){return e.artists.map((function(t){return r.a.createElement("div",{onClick:function(){e.toggleModal(),e.toggleArtistModal(t)},className:"artistStuff hoverEffect"},t.name," \xa0")}))},Dt=function(e){e.title;var t=e.className,a=e.show;return console.log(e),r.a.createElement("div",null,r.a.createElement(ze.a,{isOpen:a,toggle:function(){return e.toggleModal()},className:t,backdrop:!0,keyboard:!0,size:"xl"},r.a.createElement(Fe.a,{style:{textAlign:"center"},toggle:function(){return e.toggleModal()},className:"text-center",cssModule:{"modal-title":"w-100 text-center"}},"All songs from ",e.artistName),r.a.createElement(Qe.a,{id:"modalbody123123"},r.a.createElement("div",{className:"artistTracks"},e.allSongs.map((function(t){var a=t.artists,n=t.thumbnails,s=t.videoId,i=t.title,l=t.duration;return r.a.createElement(Mt,{uniqueId:s+Math.random(),title:i,videoId:s,artists:a,thumbnails:n,duration:l,thumbnail:n[0].url,addFunc:e.addFunc,onPlay:e.onPlay,playNext:e.playNext,AddToPlaylist:e.AddToPlaylist,toggleModal:e.toggleModal,toggleArtistModal:e.toggleArtistModal})})))),r.a.createElement(_e.a,null,r.a.createElement(xe.a,{color:"secondary",onClick:function(){return e.toggleModal()}},"Go back"))))},Lt=a(29),qt=a(554),Rt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).boxChange=function(e){n.setState({checked:e.target.checked})},n.toggle=function(){n.setState({modal:!n.state.modal,playlistName:n.props.playlistName})},n.onChange=function(e){n.setState(Object(Lt.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault(),n.props.Updateplaylist(n.state.playlistName,n.props.playlistId,n.state.checked),n.toggle()},n.state={modal:!1,playlistName:n.props.playlistName,checked:n.props.isPrivate,playlistOwner:n.props.playlistOwner,userName:n.props.userName},n.toggle=n.toggle.bind(Object(p.a)(n)),n.onChange=n.onChange.bind(Object(p.a)(n)),n.onSubmit=n.onSubmit.bind(Object(p.a)(n)),n.boxChange=n.boxChange.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({playlistName:this.props.playlistName,checked:this.props.isPrivate,playlistOwner:this.props.playlistOwner,userName:this.props.userName})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xe.a,{className:"float-right btn-margin btn btn-secondary button",onClick:this.toggle,href:"#",color:"primary",disabled:!(this.props.playlistId&&this.state.playlistOwner===this.state.userName||"Admin"===this.props.userRole)},"Save playlist as"),r.a.createElement(ze.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Fe.a,{cssModule:{"modal-title":"w-100 text-center"},toggle:this.toggle},"Save playlist as",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(qt.a,{onSubmit:this.onSubmit},r.a.createElement(Qe.a,null,r.a.createElement(pt.a,null,r.a.createElement(mt.a,{className:"label",for:"name"},"Name:"),r.a.createElement(ct.a,{type:"name",name:"playlistName",id:"playlistName",placeholder:this.state.playlistName,value:this.state.playlistName||"",className:"mb-4",onChange:this.onChange}),r.a.createElement("div",{className:"check"},r.a.createElement(mt.a,{check:!0,className:"float-right"},r.a.createElement(ct.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(xe.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component);function Bt(e,t){var a=(t?["All","Random","Rock","EDM","Rap","Chill","parti"]:["Random","Rock","EDM","Rap","Chill","parti"]).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}));return r.a.createElement(ct.a,{onChange:e,type:"select",name:"select",id:"exampleSelect"},a)}var zt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",checked:!1,select:"Random"},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(Lt.a)({},t.target.name,t.target.value)),console.log(e.state.select)},e.onSubmit=function(t){t.preventDefault(),console.log(t),e.props.makePlaylist(e.state.name,[],e.state.checked,e.state.select),e.toggle()},e.boxChange=function(t){e.setState({checked:t.target.checked})},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xe.a,{className:" btn-margin btn-secondary btn button",onClick:this.toggle,href:"#",color:"secondary"},"Create Playlist"),r.a.createElement(ze.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Fe.a,{cssModule:{"modal-title":"w-100 text-center"},toggle:this.toggle},"Create a new playlist here :)",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(qt.a,{onSubmit:this.onSubmit},r.a.createElement(Qe.a,null,r.a.createElement(pt.a,null,r.a.createElement(mt.a,{for:"name"},"Name for the playlist:"),r.a.createElement(ct.a,{type:"name",name:"name",id:"name",placeholder:"epic-partylist",className:"mb-4",onChange:this.onChange}),r.a.createElement(mt.a,{className:""},"Genres"),Bt(this.onChange),r.a.createElement("br",null),r.a.createElement("div",{className:"check"},r.a.createElement(mt.a,{check:!0,className:"float-right "},r.a.createElement(ct.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(xe.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component),Ft=(a(252),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={playlist:e.props.playlist,editMode:e.props.editMode,fade:!1},e.onAddClick=function(t){e.setState({fade:!0}),e.props.addFunc(t)},e.onPlayClick=function(t){e.props.onPlay(t)},e.onDeleteClick=function(t){e.props.onDeleteFromPlaylist(t)},e.playNextClick=function(t){e.props.playNext(t)},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({playlist:this.props.playlist,editMode:this.props.editMode})}},{key:"render",value:function(){var e=this,t=this.state.fade;return r.a.createElement(ke.a,{onAnimationEnd:function(){return e.setState({fade:!1})},className:t?"card fade2":"card",onDoubleClick:this.onPlayClick.bind(this,this.props)},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2",lg:"1"},r.a.createElement("div",{className:"thumbnailbuttonplaylist",onClick:this.onPlayClick.bind(this,this.props)},this.props.thumbnail&&r.a.createElement("img",{height:60,src:this.props.thumbnail,width:60,style:{position:"absolute"},id:"thumbnail",alt:"foo"}),r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.d,id:"thumbnail2"}))),r.a.createElement(ve.a,{xs:"3",sm:"3"},r.a.createElement(we.a,null,r.a.createElement("div",{className:"hoverEffect"},this.props.title," "))),r.a.createElement(ve.a,{xs:"4",sm:"4",lg:"3"},this.props.artists&&r.a.createElement(Qt,{toggleArtistModal:this.props.toggleArtistModal,artists:this.props.artists})),r.a.createElement(ve.a,{lg:"2",className:"d-none d-lg-block"},this.props.album&&r.a.createElement(we.a,null,r.a.createElement("div",{onClick:function(){e.props.toggleAlbumModal({artist:e.props.artists[0].name,browseId:e.props.album.id,type:"Album",thumbnails:[{height:60,url:e.props.thumbnail},{height:60,url:e.props.thumbnail}],title:e.props.album.name})},style:{cursor:"pointer"},className:"hoverEffect"},this.props.album.name))),r.a.createElement(ve.a,{xs:"1",sm:"1"},r.a.createElement("small",{className:"float-left"},this.props.duration)),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},this.props.editMode?r.a.createElement(xe.a,{className:"btn btn-secondary btn-remove float-right btn-item",color:"danger",onClick:this.onDeleteClick.bind(this,this.props)},"x"):r.a.createElement("div",{className:"flex-container"},r.a.createElement(xe.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:this.playNextClick.bind(this,this.props)},"+N"),r.a.createElement(xe.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:this.onAddClick.bind(this,this.props)},"+Q")))))))}}]),a}(n.Component)),Qt=function(e){return e.artists.map((function(t){return r.a.createElement("div",{className:"artistStuff hoverEffect",onClick:function(){return e.toggleArtistModal({name:t.name,id:t.id})}},t.name," \xa0")}))},_t=Ft,Vt=Object(Et.b)((function(e){var t=e.uniqueId,a=e.title,n=e.publishedAt,s=e.videoId,i=e.onAdd,l=e.onPlay,o=e.onDeleteFromPlaylist,c=e.duration,u=e.onRemove,d=e.editMode,p=e.playNext,m=e.thumbnail,h=e.artists,y=e.toggleArtistModal,f=e.album,g=e.toggleAlbumModal;return r.a.createElement(_t,{key:t,uniqueId:t,title:a,videoId:s,addFunc:i,onPlay:l,onDeleteFromPlaylist:o,onRemove:u,duration:c,publishedAt:n,editMode:d,playNext:p,thumbnail:m&&m,artists:h,toggleArtistModal:y,album:f,toggleAlbumModal:g})})),Ht=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderRow=function(t){var a=t.index,n=t.style,s=e.props.playlist[a],i=s.title,l=s.publishedAt,o=s.videoId,c=s.uniqueId,u=s.duration,d=s.thumbnail,p=s.artists,m=s.album;return r.a.createElement("div",{key:c,style:n},r.a.createElement(Vt,{index:a,key:c,uniqueId:c,title:i,videoId:o,onAdd:e.props.onAdd,onPlay:e.props.onPlay,onDeleteFromPlaylist:e.props.onDeleteFromPlaylist,onRemove:e.props.onRemove,duration:u,publishedAt:l,editMode:e.props.editMode,playNext:e.props.playNext,thumbnail:d&&d,artists:p,toggleArtistModal:e.props.toggleArtistModal,toggleAlbumModal:e.props.toggleAlbumModal,album:m}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.getRef,t=this.props.playlist;return r.a.createElement(Ot.b,{ref:e,rowHeight:82,rowRenderer:this.renderRow,rowCount:t.length,width:this.props.width,height:500})}}]),a}(n.Component),Yt=Object(Et.a)(Ht),Jt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({filter:e.target.value})},n.toggle=function(){n.setState({editMode:!n.state.editMode}),setTimeout((function(){return n.props.loadPlaylist(n.state.playlistId)}),200),n.List.recomputeRowHeights(),n.List.forceUpdate()},n.registerListRef=function(e){n.List=e},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;if(t!==a){var r=n.props.playlist;n.setState({playlist:Ct()(r,t,a)}),n.props.setPlaylist(n.state.playlist),n.props.UpdateCurrentPlaylist(),n.List.recomputeRowHeights(),n.List.forceUpdate()}},n.toggleArtistModal=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.toggleArtistModal(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={playlists:n.props.playlists,playlist:n.props.playlist,playlistName:n.props.playlistName,playlistId:n.props.playlistId,editMode:!1,filter:"",playlistOwner:n.props.playlistOwner,userName:n.props.userName},n.UpdateCurrentPlaylist=n.UpdateCurrentPlaylist.bind(Object(p.a)(n)),n.toggle=n.toggle.bind(Object(p.a)(n)),n.onDeleteFromPlaylist=n.onDeleteFromPlaylist.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.addPlaylistToQueue=n.addPlaylistToQueue.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"addPlaylistToQueue",value:function(e){this.props.addPlaylistToQueue(e)}},{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({playlist:this.props.playlist,playlists:this.props.playlists.reverse,playlistName:this.props.playlistName,playlistId:this.props.playlistId,playlistOwner:this.props.playlistOwner,userName:this.props.userName})}},{key:"onDeleteFromPlaylist",value:function(e){console.log(e);for(var t=0;t<this.state.playlist.length;t++)if(this.state.playlist[t].uniqueId===e.uniqueId){this.state.playlist.splice(t,1);break}this.props.onDeleteFromPlaylist(e)}},{key:"playPlaylist",value:function(e){console.log(e),console.log("playPlaylist"),this.props.playPlaylist(e)}},{key:"UpdateCurrentPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.setPlaylist(this.state.playlist),e.next=3,this.props.UpdateCurrentPlaylist();case 3:this.toggle();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.filter,a=this.props.playlist,n=t.toLowerCase(),s=a.filter((function(e){return null===e||"undefined"===typeof e?a:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"title"===t&&e[t].toLowerCase().includes(n)}))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"btn-group "},r.a.createElement(xe.a,{className:"float-left btn-margin btn-secondary",color:"info",onClick:this.playPlaylist.bind(this,s),disabled:!this.props.playlist[0]},"Play playlist"),r.a.createElement(zt,{makePlaylist:this.props.makePlaylist,playlistName:this.state.playlistName,setLoading:this.setLoading}),r.a.createElement(Rt,{userRole:this.props.userRole,userName:this.state.userName,playlistId:this.props.playlistId,isPrivate:this.props.isPrivate,Updateplaylist:this.props.Updateplaylist,playlistName:this.state.playlistName,playlistOwner:this.state.playlistOwner,setLoading:this.setLoading}),r.a.createElement(xe.a,{className:"float-right btn-margin btn btn-secondary button",color:"info",onClick:this.addPlaylistToQueue.bind(this,s),disabled:!this.props.playlist[0]},"+ Q")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"float-left"},"Current playlist: ",this.state.playlistName),r.a.createElement("br",null),r.a.createElement(ct.a,{value:t,onChange:this.handleChange,placeholder:"Filter songs..."}),r.a.createElement("hr",null),r.a.createElement(xe.a,{color:(this.state.editMode,"secondary"),className:"float-right btn-remove",onClick:this.toggle,disabled:!this.state.playlistName},this.state.editMode?"Revert changes":"Edit"),this.state.editMode?r.a.createElement(xe.a,{onClick:this.UpdateCurrentPlaylist,className:"float-right btn-remove"},"Save"):null,r.a.createElement("p",{className:"float-left"},"Total songs: ",s.length),r.a.createElement(Ot.a,{disableHeight:!0},(function(t){var a=t.width;return r.a.createElement(Yt,{playNext:e.props.playNext,editMode:e.state.editMode,getRef:e.registerListRef,playlist:s,onSortEnd:e.onSortEnd,onAdd:e.props.onAdd,onPlay:e.props.onPlay,onDeleteFromPlaylist:e.onDeleteFromPlaylist,toggleArtistModal:e.toggleArtistModal,toggleAlbumModal:e.props.toggleAlbumModal,width:a,distance:10})})))}}]),a}(n.Component),Wt=a(558),Gt=a(102),Kt=(a(488),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={name:n.props.name.substring(0,400)},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({name:this.props.name})}},{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e)}},{key:"deletePlayList",value:function(e){this.props.deletePlaylist(e)}},{key:"render",value:function(){return r.a.createElement(Gt.b,{id:this.props._id},r.a.createElement(Gt.a,{id:this.props._id},r.a.createElement(Gt.c,{data:{foo:"bar"},onClick:this.loadPlaylist.bind(this,this.props._id)},"Load playlist"),r.a.createElement(Gt.c,{data:{foo:"bar"},onClick:this.deletePlayList.bind(this,this.props._id)},"Delete playlist")),r.a.createElement("div",{onClick:this.loadPlaylist.bind(this,this.props._id),className:"sidebar-playlist"},this.state.name))}}]),a}(r.a.Component)),Xt=(a(489),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),Zt=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getPlaylists=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt(2e3);case 2:n.props.getPlaylist();case 3:case"end":return e.stop()}}),e)}))),n.toggletip=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.state={playlists:n.props.playlists,loading:!1},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({playlists:this.props.playlists})}},{key:"componentDidMount",value:function(){this.getPlaylists()}},{key:"getPlaylists2",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.setLoading(!0),e.next=3,this.props.getPlaylist();case 3:this.props.setLoading(!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("div",{className:"sidebardiv"},r.a.createElement("h3",null,"Playlists"),r.a.createElement(Wt.a,{placement:"top",isOpen:this.state.tooltipOpen,target:"TooltipExample2",toggle:this.toggletip},"Refresh playlists"),r.a.createElement("div",{id:"TooltipExample2",className:"refreshbuttonarea",onClick:this.getPlaylists2.bind(this,this.props)},r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.f})),r.a.createElement(zt,{makePlaylist:this.props.makePlaylist,playlistName:this.state.playlistName}),r.a.createElement("br",null),r.a.createElement("div",{className:"playlists-sidebar"},this.state.playlists.map((function(t,a){return r.a.createElement("div",{key:t._id},r.a.createElement(Kt,{loadPlaylist:e.props.loadPlaylist,name:t.name,_id:t._id,deletePlaylist:e.props.deletePlaylist}))}))))}}]),a}(n.Component);function $t(e,t){return Math.floor(Math.random()*(e-t)+t)}var ea=function e(t,a,n,r,s,i,l,o,c){Object(u.a)(this,e),this.title=void 0,this.channelTitle=void 0,this.videoId=void 0,this.uniqueId=void 0,this.duration=void 0,this.artists=void 0,this.album=void 0,this.thumbnail=void 0,this.thumbnails=void 0,this.title=t,this.channelTitle=a,this.videoId=n,this.uniqueId=r,this.duration=s,this.artists=i,this.album=l,this.thumbnail=o,this.thumbnails=c},ta=a(267),aa=a.n(ta),na=a(563),ra=a(555),sa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onAddClick=function(e){n.props.addFunc(e)},n.onPlayClick=function(e){n.props.onPlay(e)},n.onAddToPlaylist=function(e){n.props.AddToPlaylist(e)},n.state={uniqueId:Math.random(),title:n.props.name,videoId:n.props.url.split("https://www.youtube.com/watch?v=")[1]},n.loadPlaylist=n.loadPlaylist.bind(Object(p.a)(n)),n.deletePlaylist=n.deletePlaylist.bind(Object(p.a)(n)),n.onAddClick=n.onAddClick.bind(Object(p.a)(n)),n.onPlayClick=n.onPlayClick.bind(Object(p.a)(n)),n.onAddToPlaylist=n.onAddToPlaylist.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ke.a,{className:"card"},r.a.createElement(Ee.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(xe.a,{className:"btn btn-primary float-right btn-remove",color:"secondary",onClick:this.onAddToPlaylist.bind(this,this.state)},"+ P"),r.a.createElement(xe.a,{className:"btn btn-primary float-left btn-remove",onClick:this.onPlayClick.bind(this,this.state),color:"primary"},"Play"),r.a.createElement(xe.a,{className:"btn btn-primary float-right btn-remove",color:"info",onClick:this.onAddClick.bind(this,this.state)},"+ Q")),r.a.createElement(ra.a,{style:{textAlign:"center"}},this.state.title))))}}]),a}(n.Component),ia=(a(507),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",history:e.props.history},e.onChange=function(t){e.setState(Object(Lt.a)({},t.target.name,t.target.value))},e.onSubmit=function(e){e.preventDefault()},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({history:this.props.history})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ze.a,{isOpen:this.props.isOpen,toggle:this.props.toggle},r.a.createElement(Fe.a,{className:"mb-4",toggle:this.props.toggle},"Recently played songs:"),r.a.createElement(be.a,null,r.a.createElement("div",{className:"clearButton"},r.a.createElement(xe.a,{className:"float-right",onClick:this.props.clearList},"Clear All"))),r.a.createElement(Qe.a,null,r.a.createElement("div",{id:"videolist"},this.state.history.map((function(t){var a=t.title,n=t.videoId,s=t.url;return r.a.createElement(De.CSSTransition,{key:Math.random(),timeout:500,classNames:"fade"},r.a.createElement(sa,{url:s,name:a,videoId:n,addFunc:e.props.addFunc,onPlay:e.props.onPlay,AddToPlaylist:e.props.AddToPlaylist}))}))))))}}]),a}(n.Component));function la(e){var t=e.className,a=e.seconds;return r.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=oa(t.getUTCSeconds());if(a)return"".concat(a,":").concat(oa(n),":").concat(r);return"".concat(n,":").concat(r)}(a))}function oa(e){return("0"+e).slice(-2)}a(508);function ca(e){return("0"+e).slice(-2)}function ua(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=ca(t.getUTCSeconds());return a?"".concat(a,".").concat(ca(n),".").concat(r):"".concat(n,".").concat(r)}var da=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleShuffle=function(){n.props.setShuffle()},n.load=function(e){n.setState({url:e,played:0,loaded:0,pip:!1})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.setMute=function(){console.log("I was clicked"),n.setState({muted:!n.state.muted})},n.clearHistory=function(){n.setState({history:[]})},n.handlePlayPause=function(){var e=n.state.playing;n.setState({playing:!n.state.playing}),n.props.setPlaying(!e),null!==n.state.url||n.state.playing||n.handlePlayNext()},n.handlePlay=function(){console.log("onPlay"),n.setState({playing:!0}),null===n.state.url&&n.handlePlayNext(),setTimeout((function(){n.setState({muted:!0})}),50),setTimeout((function(){n.setState({muted:!1})}),100)},n.addToHistory=function(e){0!==e.duration&&"error"!==e.title&&(n.state.history.unshift(e),n.state.historyToPlayFrom.unshift(e))},n.handlePlayPrevious=function(){if("undefined"!==typeof n.state.historyToPlayFrom[0]){var e=n.state.historyToPlayFrom.shift();console.log("ASDASDASD"),console.log(e),n.props.setTitle(e.title);var t=e.url,a=e.duration;t===n.state.url&&n.player.seekTo(0),n.setState({playing:!0,url:t,title:e.title,played:0,durationFromObject:a}),Ye.a.notify(r.a.createElement("span",null,"Now playing: ",e.title),{duration:1200}),n.props.setUrl(t),n.props.setCurrentSong(e)}},n.handlePlayNext=function(){var e;if(console.log("onPlay"),"undefined"!==typeof n.state.array[0]){e=n.state.shuffle?n.state.array[Math.floor(Math.random()*(n.state.array.length-1))]:n.state.array[0],n.props.setTitle(e.title),n.props.setArtist(e.artists);var t=e.videoId,a="https://www.youtube.com/watch?v="+t,s=e.duration,i=e.artists;console.log(e),n.setState({currentSong:e}),a===n.state.url&&n.player.seekTo(0),n.setState({playing:!0,url:a,title:e.title,played:0,durationFromObject:s,videoId:t,artists:i}),Ye.a.notify(r.a.createElement("span",null,"Now playing: ",e.title),{duration:1200}),n.props.onRemove(e),n.props.setUrl(a),n.props.setCurrentSong(e)}else n.setState({playing:!1,url:null})},n.handleVolumeChange=function(e){n.setState({volume:parseFloat(e.target.value)})},n.handlePause=function(){console.log("onPause"),n.setState({playing:!1})},n.handleEnded=function(){if(console.log("onEnded"),null!==n.state.url){var e=Object.assign({},n.state.currentSong);"undefined"===typeof e&&(e={}),e.title=n.state.title||"error",e.url=n.state.url,e.duration=n.state.durationFromObject,e.videoID=n.state.videoId,n.addToHistory(e)}n.handlePlayNext()},n.renderLoadButton=function(e,t){return r.a.createElement("button",{onClick:function(){return n.load(e)}},t)},n.ref=function(e){n.player=e},n.toggletip=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.shuffleRandomTip=function(){n.setState({shuffleRandomTip:!n.state.shuffleRandomTip})},n.handleStartOver=function(){n.seekTo0()},n.handleDuration=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.durationFromObject===ua(t)){e.next=5;break}if(a=JSON.stringify({duration:ua(t),videoId:n.state.videoId}),""===n.state.playlistId){e.next=5;break}return e.next=5,$(a,n.state.playlistId);case 5:n.setState({duration:t});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSeekMouseDown=function(e){n.setState({seeking:!0})},n.handleSeekChange=function(e){console.log(n.props),n.setState({played:parseFloat(e.target.value)})},n.handleSeekMouseUp=function(e){n.setState({seeking:!1}),n.player.seekTo(parseFloat(e.target.value))},n.handleProgress=function(e){n.state.seeking||n.setState(e)},n.state={url:n.props.url,title:"",pip:!1,playing:!1,controls:!0,light:!1,volume:.5,muted:!1,duration:0,played:0,loaded:0,playbackRate:1,loop:!1,array:n.props.array,modal:!1,history:[],tooltipOpen:!1,historyToPlayFrom:[],durationFromObject:n.props.duration,playlistId:n.props.playlistId,shuffle:n.props.isShuffle,currentSong:n.props.currentSong},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||(this.setState({url:this.props.url,array:this.props.array,title:this.props.title,playing:this.props.playing,playlistId:this.props.playlistId,shuffle:this.props.isShuffle,currentSong:this.props.currentSong}),function(e){if("string"!==typeof e)throw new Error("Title should be an string");document.title=e}(this.props.title))}},{key:"seekTo0",value:function(){this.player.seekTo(0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.playing,n=t.volume,s=t.duration,i=t.played;return console.log(this.state.currentSong),r.a.createElement("div",{className:"MediaPlayerdiv"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"3"},this.state.title&&this.state.title.length>26?r.a.createElement("span",{className:"marquee hoverEffect"},r.a.createElement("span",{className:"hoverEffect"},this.state.title),r.a.createElement("span",{className:"hoverEffect"}," ",this.state.title)):r.a.createElement("p",{className:"titleplaying"}," ",this.state.title),r.a.createElement(Wt.a,{placement:"top",isOpen:this.state.tooltipOpen,target:"TooltipExample",toggle:this.toggletip},this.state.title),this.state.currentSong&&r.a.createElement("div",{className:"artistPlaying hoverEffect d-none d-xl-block",style:{width:"400px",textAlign:"left"}},r.a.createElement(pa,{toggleArtistModal:this.props.toggleArtistModal,artists:this.state.currentSong.artists})),this.state.currentSong&&this.state.currentSong.album&&r.a.createElement("div",{className:"albumPlaying hoverEffect d-none d-xl-block",style:{width:"400px",textAlign:"left"}},r.a.createElement("p",{className:"artistStuff hoverEffect ",onClick:function(){e.props.toggleAlbumModal({artist:e.state.currentSong.artists[0].name,browseId:e.state.currentSong.album.id,type:"Album",thumbnails:[{height:60,url:e.props.thumbnail},{height:60,url:e.props.thumbnail}],title:e.state.currentSong.album.name})},style:{cursor:"pointer"}},this.state.currentSong.album.name)),r.a.createElement("div",{className:"testi123 ",id:"TooltipExample"},r.a.createElement(aa.a,{ref:this.ref,muted:this.state.muted,className:"react-player",width:"100%",height:"100%",url:this.state.url,playing:a,controls:!0,volume:n,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handlePlayNext,onDuration:this.handleDuration,onProgress:this.handleProgress}))),r.a.createElement(ve.a,{sm:"6"},r.a.createElement("div",{className:"playercontrols"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"2"}," ",r.a.createElement("div",{className:"elapsedTime float-right"},r.a.createElement(la,{seconds:s*i}))),r.a.createElement(ve.a,{sm:"8",className:"asd"},r.a.createElement(be.a,null,r.a.createElement("div",{className:"durationcontrol"},r.a.createElement(na.a,{id:"exampleCustomRange",name:"customRange",type:"range",min:0,max:.999999,step:"any",value:i,onMouseDown:this.handleSeekMouseDown,onChange:this.handleSeekChange,onMouseUp:this.handleSeekMouseUp}))),r.a.createElement(be.a,null,r.a.createElement("div",{className:"buttonit"},a?r.a.createElement("div",{className:"buttonArea",onClick:this.handlePlayPause},r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.c})):r.a.createElement("div",{className:"buttonArea",disabled:!this.props.array[0],onClick:this.handlePlayPause},r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.d})),r.a.createElement("div",{className:"buttonArea2",onClick:this.handleEnded},r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.b})),r.a.createElement("div",{className:"buttonArea3",onClick:this.handlePlayPrevious},r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.a})),r.a.createElement(Wt.a,{placement:"top",isOpen:this.state.shuffleRandomTip,target:"shuffleRandomTip",toggle:this.shuffleRandomTip},"Toggle Shuffle"),r.a.createElement("div",{id:"shuffleRandomTip",className:"buttonArea4",onClick:this.handleShuffle},r.a.createElement(Se.a,{className:this.state.shuffle?"Active":"null",size:"lg",icon:Oe.e})," ")))),r.a.createElement(ve.a,{sm:"2"}," ",r.a.createElement("div",{className:"durationOfSong float-left"},r.a.createElement(la,{seconds:s})))))),r.a.createElement(ve.a,{sm:"3"},r.a.createElement("div",{className:"historybutton"},r.a.createElement(xe.a,{disabled:!this.state.history[0],className:"btn-controls btn-secondary float-right",onClick:this.toggle},"History"),r.a.createElement(ia,{isOpen:this.state.modal,toggle:this.toggle,history:this.state.history,clearList:this.clearHistory,addFunc:this.props.onAdd,onPlay:this.props.onPlay,AddToPlaylist:this.props.AddToPlaylist})),r.a.createElement("div",{className:"volumeiconcontrols"},r.a.createElement("div",{className:"volumecontrol"},r.a.createElement("div",{className:"volumecontrolicon",onClick:this.setMute},this.state.muted?r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.h}):r.a.createElement(Se.a,{className:"Active",size:"lg",icon:Oe.i})),r.a.createElement(na.a,{type:"range",id:"exampleCustomRange",name:"customRange",min:0,max:1,step:"any",value:n,onChange:this.handleVolumeChange}))))),r.a.createElement("div",null))}}]),a}(n.Component),pa=function(e){return e.artists?e.artists.map((function(t){return r.a.createElement("div",{className:"artistStuff hoverEffect",onClick:function(){return e.toggleArtistModal({name:t.name,id:t.id})}},t.name," \xa0")})):null},ma=(a(509),a(510)),ha=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ya=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n,r,s;return Object(u.a)(this,a),(s=t.call(this,e)).player=void 0,s.toggleModal=function(){s.setState({showModal:!s.state.showModal})},s.toggleArtistModal2=function(){s.setState({showArtistModal:!s.state.showArtistModal})},s.toggleArtistModal=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=15;break}return s.setState({showArtistModal:!1}),s.setLoading(!0),e.next=5,le(t.id);case 5:if(a=e.sent,n=[],!(a&&a.albums&&a.albums.browseId)){e.next=12;break}return e.next=10,ue(a.albums.browseId,a.albums.params);case 10:r=e.sent,n=r;case 12:s.setLoading(!1),a.albums&&n||(n=[0,1]),s.setState({artistAlbums:n.length>0?n:a.albums.results,artistSubscribers:a.subscribers,artistSingles:a.singles,artistViews:a.views,artistDescription:a.description,artistSongs:a.songs,artistThumbnails:a.thumbnails,showArtistModal:!0,artistName:a.name});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.toggleAllSongsModal=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState({showAllSongsModal:!1,loadingAllSongs:!0}),e.next=3,ha(1e3);case 3:return e.next=5,oe(t);case 5:a=e.sent,s.setState({allSongs:a.tracks}),s.setState({showAllSongsModal:!0,loadingAllSongs:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.toggleAllSongsModal123=function(){s.setState({showAllSongsModal:!s.state.showAllSongsModal})},s.toggleAlbumModal=function(e){console.log(e),s.setState({showModal:!s.state.showModal,albumBrowseId:e.browseId,albumThumbnails:e.thumbnails,albumTitle:e.title,albumYear:e.year,isArtist:!1})},s.getArtists=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return s.setState({error:!1,loading:!0,items:[]}),e.next=5,ie(t);case 5:a=e.sent,s.setState({items:a,loading:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.setArtist=function(e){e&&e[0]?s.setState({artist:e[0].name}):s.setState({artist:""})},s.sortBySimilarity=function(e,t){var a,n=Object(ge.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.similarity=ma.compareTwoStrings(r.title,t)}}catch(s){n.e(s)}finally{n.f()}return e.sort((function(e,t){return t.similarity-e.similarity})),e},s.setTab=function(e){s.setState({focusedTab:e})},s.ref=function(e){s.player=e},s.setCurrentSong=function(e){s.setState({currentSong:e})},s.onAdd=s.onAdd.bind(Object(p.a)(s)),s.onDelete=s.onDelete.bind(Object(p.a)(s)),s.onPlay=s.onPlay.bind(Object(p.a)(s)),s.getPlaylist=s.getPlaylist.bind(Object(p.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(p.a)(s)),s.AddToPlaylist=s.AddToPlaylist.bind(Object(p.a)(s)),s.onDeleteFromPlaylist=s.onDeleteFromPlaylist.bind(Object(p.a)(s)),s.addPlaylistToQueue=s.addPlaylistToQueue.bind(Object(p.a)(s)),s.loadPlaylist=s.loadPlaylist.bind(Object(p.a)(s)),s.playPlaylist=s.playPlaylist.bind(Object(p.a)(s)),s.makePlaylist=s.makePlaylist.bind(Object(p.a)(s)),s.Updateplaylist=s.Updateplaylist.bind(Object(p.a)(s)),s.deletePlaylist=s.deletePlaylist.bind(Object(p.a)(s)),s.UpdateCurrentPlaylist=s.UpdateCurrentPlaylist.bind(Object(p.a)(s)),s.shuffleQueue=s.shuffleQueue.bind(Object(p.a)(s)),s.clearQueue=s.clearQueue.bind(Object(p.a)(s)),s.setQueue=s.setQueue.bind(Object(p.a)(s)),s.setUrl=s.setUrl.bind(Object(p.a)(s)),s.setPlaylist=s.setPlaylist.bind(Object(p.a)(s)),s.setTitle=s.setTitle.bind(Object(p.a)(s)),s.setPlaying=s.setPlaying.bind(Object(p.a)(s)),s.playNext=s.playNext.bind(Object(p.a)(s)),s.setLoading=s.setLoading.bind(Object(p.a)(s)),s.handleDB=s.handleDB.bind(Object(p.a)(s)),s.setTab=s.setTab.bind(Object(p.a)(s)),s.setShuffle=s.setShuffle.bind(Object(p.a)(s)),s.state={items:[],queue:[],playlist:[],contentDetails:[],Allplaylists:[],playlists:(null===(n=s.props)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.playlists)||[],loading:!1,updated:!1,url:"",playing:!0,playlistId:"",playlistName:"",error:!1,title:"",user:null,token:"",userName:"",userRole:"",loadingPlaylists:!1,loadingPlaylist:!1,duration:"",focusedTab:"1",dbitems:[],shuffle:!1,artist:"",allSongs:[]},s}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||(this.setState({user:this.props.data}),this.setState({playlists:this.props.data.playlists}))}},{key:"setShuffle",value:function(){this.setState({shuffle:!this.state.shuffle})}},{key:"playNext",value:function(e){console.log(e);var t=Object.assign({},e);t.uniqueId=Math.random(),this.state.queue.unshift(t),this.setState({updated:!0}),Ye.a.notify(r.a.createElement("span",null,e.title," added to in front of the queue."),{duration:800})}},{key:"setPlaying",value:function(e){this.setState({playing:e})}},{key:"setQueue",value:function(e){console.log(this.state.url),this.setState({queue:e}),console.log(this.state.url)}},{key:"isSame",value:function(e,t){for(var a=0;a<e.length;a++)if(e[a].title!==t[a].title)return!1;return!0}},{key:"handleDB",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return this.setState({error:!1,loading:!0}),e.next=5,z(a);case 5:n=e.sent,r=this.sortBySimilarity(n,a),this.setState({dbitems:r,loading:!1}),0===r.length&&this.setState({error:!0,loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"shuffleQueue",value:function(){for(var e=this.state.queue,t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}this.setState({queue:e})}},{key:"clearQueue",value:function(){"undefined"!==typeof this.state.queue[0]&&this.setState({queue:[]})}},{key:"setPlaylist",value:function(e){this.setState({playlist:e}),console.log(e)}},{key:"componentDidMount",value:function(){var e=me.currentUserValue;e&&e.token&&this.setState({token:e.token,userName:e.user.name,userRole:e.user.role})}},{key:"componentWillUnmount",value:function(){}},{key:"playPlaylist",value:function(e,t){console.log(e);for(var a=[],n=0;n<e.length;n++)if(0===n){var s=new ea(e[n].title,e[n].channelTitle,e[n].videoId,Math.random(),e[n].duration,e[n].artists,e[n].album,e[n].thumbnail,e[n].thumbnails);console.log(e[n].artists),console.log(s),this.onPlay(s)}else{var i=new ea(e[n].title,e[n].channelTitle,e[n].videoId,Math.random(),e[n].duration,e[n].artists,e[n].album,e[n].thumbnail,e[n].thumbnails);a.push(i)}this.setState({queue:a}),Ye.a.notify(r.a.createElement("span",{className:"styled-toast"},"Now playing: ",t||this.state.playlistName),{duration:1200})}},{key:"addPlaylistToQueue",value:function(e,t){for(var a=this.state.queue,n=0;n<e.length;n++){var s=new ea(e[n].title,e[n].channelTitle,e[n].videoId,Math.random(),e[n].duration,e[n].artists,e[n].album,e[n].thumbnail,e[n].thumbnails);a.push(s)}this.setState({queue:a}),Ye.a.notify(r.a.createElement("span",null,t||this.state.playlistName," added to the queue!"),{duration:1200})}},{key:"AddToPlaylist",value:function(e){var t=this;console.log(e),""===this.state.playlistId&&""===this.state.playlistName?(alert("No playlist selected. Creating a new playlist.\nGenerating name..."),this.state.playlist.push(e),this.makePlaylist(function(){var e=["abandoned","able","absolute","adorable","adventurous","academic","acceptable","acclaimed","accomplished","accurate","aching","acidic","acrobatic","active","actual","adept","admirable","admired","adolescent","adorable","adored","advanced","afraid","affectionate","aged","aggravating","aggressive","agile","agitated","agonizing","agreeable","ajar","alarmed","alarming","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","amusing","anchored","ancient","angelic","angry","anguished","animated","annual","another","antique","anxious","any","apprehensive","appropriate","apt","arctic","arid","aromatic","artistic","ashamed","assured","astonishing","athletic","attached","attentive","attractive","austere","authentic","authorized","automatic","avaricious","average","aware","awesome","awful","awkward","babyish","bad","back","baggy","bare","barren","basic","beautiful","belated","beloved","beneficial","better","best","bewitched","big","big-hearted","biodegradable","bite-sized","bitter","black","black-and-white","bland","blank","blaring","bleak","blind","blissful","blond","blue","blushing","bogus","boiling","bold","bony","boring","bossy","both","bouncy","bountiful","bowed","brave","breakable","brief","bright","brilliant","brisk","broken","bronze","brown","bruised","bubbly","bulky","bumpy","buoyant","burdensome","burly","bustling","busy","buttery","buzzing","calculating","calm","candid","canine","capital","carefree","careful","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","cheery","chief","chilly","chubby","circular","classic","clean","clear","clear-cut","clever","close","closed","cloudy","clueless","clumsy","cluttered","coarse","cold","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complex","complicated","composed","concerned","concrete","confused","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","coordinated","corny","corrupt","costly","courageous","courteous","crafty","crazy","creamy","creative","creepy","criminal","crisp","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cultured","cumbersome","curly","curvy","cute","cylindrical","damaged","damp","dangerous","dapper","daring","darling","dark","dazzling","dead","deadly","deafening","dear","dearest","decent","decimal","decisive","deep","defenseless","defensive","defiant","deficient","definite","definitive","delayed","delectable","delicious","delightful","delirious","demanding","dense","dental","dependable","dependent","descriptive","deserted","detailed","determined","devoted","different","difficult","digital","diligent","dim","dimpled","dimwitted","direct","disastrous","discrete","disfigured","disgusting","disloyal","dismal","distant","downright","dreary","dirty","disguised","dishonest","dismal","distant","distinct","distorted","dizzy","dopey","doting","double","downright","drab","drafty","dramatic","dreary","droopy","dry","dual","dull","dutiful","each","eager","earnest","early","easy","easy-going","ecstatic","edible","educated","elaborate","elastic","elated","elderly","electric","elegant","elementary","elliptical","embarrassed","embellished","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enormous","enraged","entire","envious","equal","equatorial","essential","esteemed","ethical","euphoric","even","evergreen","everlasting","every","evil","exalted","excellent","exemplary","exhausted","excitable","excited","exciting","exotic","expensive","experienced","expert","extraneous","extroverted","extra-large","extra-small","fabulous","failing","faint","fair","faithful","fake","false","familiar","famous","fancy","fantastic","far","faraway","far-flung","far-off","fast","fat","fatal","fatherly","favorable","favorite","fearful","fearless","feisty","feline","female","feminine","few","fickle","filthy","fine","finished","firm","first","firsthand","fitting","fixed","flaky","flamboyant","flashy","flat","flawed","flawless","flickering","flimsy","flippant","flowery","fluffy","fluid","flustered","focused","fond","foolhardy","foolish","forceful","forked","formal","forsaken","forthright","fortunate","fragrant","frail","frank","frayed","free","French","fresh","frequent","friendly","frightened","frightening","frigid","frilly","frizzy","frivolous","front","frosty","frozen","frugal","fruitful","full","fumbling","functional","funny","fussy","fuzzy","gargantuan","gaseous","general","generous","gentle","genuine","giant","giddy","gigantic","gifted","giving","glamorous","glaring","glass","gleaming","gleeful","glistening","glittering","gloomy","glorious","glossy","glum","golden","good","good-natured","gorgeous","graceful","gracious","grand","grandiose","granular","grateful","grave","gray","great","greedy","green","gregarious","grim","grimy","gripping","grizzled","gross","grotesque","grouchy","grounded","growing","growling","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","half","handmade","handsome","handy","happy","happy-go-lucky","hard","hard-to-find","harmful","harmless","harmonious","harsh","hasty","hateful","haunting","healthy","heartfelt","hearty","heavenly","heavy","hefty","helpful","helpless","hidden","hideous","high","high-level","hilarious","hoarse","hollow","homely","honest","honorable","honored","hopeful","horrible","hospitable","hot","huge","humble","humiliating","humming","humongous","hungry","hurtful","husky","icky","icy","ideal","idealistic","identical","idle","idiotic","idolized","ignorant","ill","illegal","ill-fated","ill-informed","illiterate","illustrious","imaginary","imaginative","immaculate","immaterial","immediate","immense","impassioned","impeccable","impartial","imperfect","imperturbable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incompatible","incomplete","inconsequential","incredible","indelible","inexperienced","indolent","infamous","infantile","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","insubstantial","intelligent","intent","intentional","interesting","internal","international","intrepid","ironclad","irresponsible","irritating","itchy","jaded","jagged","jam-packed","jaunty","jealous","jittery","joint","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","jumpy","juvenile","kaleidoscopic","keen","key","kind","kindhearted","kindly","klutzy","knobby","knotty","knowledgeable","knowing","known","kooky","kosher","lame","lanky","large","last","lasting","late","lavish","lawful","lazy","leading","lean","leafy","left","legal","legitimate","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","loathsome","lone","lonely","long","long-term","loose","lopsided","lost","loud","lovable","lovely","loving","low","loyal","lucky","lumbering","luminous","lumpy","lustrous","luxurious","mad","made-up","magnificent","majestic","major","male","mammoth","married","marvelous","masculine","massive","mature","meager","mealy","mean","measly","meaty","medical","mediocre","medium","meek","mellow","melodic","memorable","menacing","merry","messy","metallic","mild","milky","mindless","miniature","minor","minty","miserable","miserly","misguided","misty","mixed","modern","modest","moist","monstrous","monthly","monumental","moral","mortified","motherly","motionless","mountainous","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","naive","narrow","nasty","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","noisy","nonstop","normal","notable","noted","noteworthy","novel","noxious","numb","nutritious","nutty","obedient","obese","oblong","oily","oblong","obvious","occasional","odd","oddball","offbeat","offensive","official","old","old-fashioned","only","open","optimal","optimistic","opulent","orange","orderly","organic","ornate","ornery","ordinary","original","other","our","outlying","outgoing","outlandish","outrageous","outstanding","oval","overcooked","overdue","overjoyed","overlooked","palatable","pale","paltry","parallel","parched","partial","passionate","past","pastel","peaceful","peppery","perfect","perfumed","periodic","perky","personal","pertinent","pesky","pessimistic","petty","phony","physical","piercing","pink","pitiful","plain","plaintive","plastic","playful","pleasant","pleased","pleasing","plump","plush","polished","polite","political","pointed","pointless","poised","poor","popular","portly","posh","positive","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","precious","previous","pricey","prickly","primary","prime","pristine","private","prize","probable","productive","profitable","profuse","proper","proud","prudent","punctual","pungent","puny","pure","purple","pushy","putrid","puzzled","puzzling","quaint","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quick-witted","quiet","quintessential","quirky","quixotic","quizzical","radiant","ragged","rapid","rare","rash","raw","recent","reckless","rectangular","ready","real","realistic","reasonable","red","reflecting","regal","regular","reliable","relieved","remarkable","remorseful","remote","repentant","required","respectful","responsible","repulsive","revolving","rewarding","rich","rigid","right","ringed","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","rundown","ruddy","rude","runny","rural","rusty","sad","safe","salty","same","sandy","sane","sarcastic","sardonic","satisfied","scaly","scarce","scared","scary","scented","scholarly","scientific","scornful","scratchy","scrawny","second","secondary","second-hand","secret","self-assured","self-reliant","selfish","sentimental","separate","serene","serious","serpentine","several","severe","shabby","shadowy","shady","shallow","shameful","shameless","sharp","shimmering","shiny","shocked","shocking","shoddy","short","short-term","showy","shrill","shy","sick","silent","silky","silly","silver","similar","simple","simplistic","sinful","single","sizzling","skeletal","skinny","sleepy","slight","slim","slimy","slippery","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","solid","somber","some","spherical","sophisticated","sore","sorrowful","soulful","soupy","sour","Spanish","sparkling","sparse","specific","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spotted","spry","square","squeaky","squiggly","stable","staid","stained","stale","standard","starchy","stark","starry","steep","sticky","stiff","stimulating","stingy","stormy","straight","strange","steel","strict","strident","striking","striped","strong","studious","stunning","stupendous","stupid","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","sure-footed","surprised","suspicious","svelte","sweaty","sweet","sweltering","swift","sympathetic","tall","talkative","tame","tan","tangible","tart","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","terrific","testy","thankful","that","these","thick","thin","third","thirsty","this","thorough","thorny","those","thoughtful","threadbare","thrifty","thunderous","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","traumatic","treasured","tremendous","tragic","trained","tremendous","triangular","tricky","trifling","trim","trivial","troubled","true","trusting","trustworthy","trusty","truthful","tubby","turbulent","twin","ugly","ultimate","unacceptable","unaware","uncomfortable","uncommon","unconscious","understated","unequaled","uneven","unfinished","unfit","unfolded","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","united","unkempt","unknown","unlawful","unlined","unlucky","unnatural","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwitting","unwritten","upbeat","upright","upset","urban","usable","used","useful","useless","utilized","utter","vacant","vague","vain","valid","valuable","vapid","variable","vast","velvety","venerated","vengeful","verifiable","vibrant","vicious","victorious","vigilant","vigorous","villainous","violet","violent","virtual","virtuous","visible","vital","vivacious","vivid","voluminous","wan","warlike","warm","warmhearted","warped","wary","wasteful","watchful","waterlogged","watery","wavy","wealthy","weak","weary","webbed","wee","weekly","weepy","weighty","weird","welcome","well-documented","well-groomed","well-informed","well-lit","well-made","well-off","well-to-do","well-worn","wet","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wide-eyed","wiggly","wild","willing","wilted","winding","windy","winged","wiry","wise","witty","wobbly","woeful","wonderful","wooden","woozy","wordy","worldly","worn","worried","worrisome","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yawning","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty","zigzag","rocky"],t=["people","history","way","art","world","information","map","family","government","health","system","computer","meat","year","thanks","music","person","reading","method","data","food","understanding","theory","law","bird","literature","problem","software","control","knowledge","power","ability","economics","love","internet","television","science","library","nature","fact","product","idea","temperature","investment","area","society","activity","story","industry","media","thing","oven","community","definition","safety","quality","development","language","management","player","variety","video","week","security","country","exam","movie","organization","equipment","physics","analysis","policy","series","thought","basis","boyfriend","direction","strategy","technology","army","camera","freedom","paper","environment","child","instance","month","truth","marketing","university","writing","article","department","difference","goal","news","audience","fishing","growth","income","marriage","user","combination","failure","meaning","medicine","philosophy","teacher","communication","night","chemistry","disease","disk","energy","nation","road","role","soup","advertising","location","success","addition","apartment","education","math","moment","painting","politics","attention","decision","event","property","shopping","student","wood","competition","distribution","entertainment","office","population","president","unit","category","cigarette","context","introduction","opportunity","performance","driver","flight","length","magazine","newspaper","relationship","teaching","cell","dealer","debate","finding","lake","member","message","phone","scene","appearance","association","concept","customer","death","discussion","housing","inflation","insurance","mood","woman","advice","blood","effort","expression","importance","opinion","payment","reality","responsibility","situation","skill","statement","wealth","application","city","county","depth","estate","foundation","grandmother","heart","perspective","photo","recipe","studio","topic","collection","depression","imagination","passion","percentage","resource","setting","ad","agency","college","connection","criticism","debt","description","memory","patience","secretary","solution","administration","aspect","attitude","director","personality","psychology","recommendation","response","selection","storage","version","alcohol","argument","complaint","contract","emphasis","highway","loss","membership","possession","preparation","steak","union","agreement","cancer","currency","employment","engineering","entry","interaction","limit","mixture","preference","region","republic","seat","tradition","virus","actor","classroom","delivery","device","difficulty","drama","election","engine","football","guidance","hotel","match","owner","priority","protection","suggestion","tension","variation","anxiety","atmosphere","awareness","bread","climate","comparison","confusion","construction","elevator","emotion","employee","employer","guest","height","leadership","mall","manager","operation","recording","respect","sample","transportation","boring","charity","cousin","disaster","editor","efficiency","excitement","extent","feedback","guitar","homework","leader","mom","outcome","permission","presentation","promotion","reflection","refrigerator","resolution","revenue","session","singer","tennis","basket","bonus","cabinet","childhood","church","clothes","coffee","dinner","drawing","hair","hearing","initiative","judgment","lab","measurement","mode","mud","orange","poetry","police","possibility","procedure","queen","ratio","relation","restaurant","satisfaction","sector","signature","significance","song","tooth","town","vehicle","volume","wife","accident","airport","appointment","arrival","assumption","baseball","chapter","committee","conversation","database","enthusiasm","error","explanation","farmer","gate","girl","hall","historian","hospital","injury","instruction","maintenance","manufacturer","meal","perception","pie","poem","presence","proposal","reception","replacement","revolution","river","son","speech","tea","village","warning","winner","worker","writer","assistance","breath","buyer","chest","chocolate","conclusion","contribution","cookie","courage","desk","drawer","establishment","examination","garbage","grocery","honey","impression","improvement","independence","insect","inspection","inspector","king","ladder","menu","penalty","piano","potato","profession","professor","quantity","reaction","requirement","salad","sister","supermarket","tongue","weakness","wedding","affair","ambition","analyst","apple","assignment","assistant","bathroom","bedroom","beer","birthday","celebration","championship","cheek","client","consequence","departure","diamond","dirt","ear","fortune","friendship","funeral","gene","girlfriend","hat","indication","intention","lady","midnight","negotiation","obligation","passenger","pizza","platform","poet","pollution","recognition","reputation","shirt","speaker","stranger","surgery","sympathy","tale","throat","trainer","uncle","youth","time","work","film","water","money","example","while","business","study","game","life","form","air","day","place","number","part","field","fish","back","process","heat","hand","experience","job","book","end","point","type","home","economy","value","body","market","guide","interest","state","radio","course","company","price","size","card","list","mind","trade","line","care","group","risk","word","fat","force","key","light","training","name","school","top","amount","level","order","practice","research","sense","service","piece","web","boss","sport","fun","house","page","term","test","answer","sound","focus","matter","kind","soil","board","oil","picture","access","garden","range","rate","reason","future","site","demand","exercise","image","case","cause","coast","action","age","bad","boat","record","result","section","building","mouse","cash","class","period","plan","store","tax","side","subject","space","rule","stock","weather","chance","figure","man","model","source","beginning","earth","program","chicken","design","feature","head","material","purpose","question","rock","salt","act","birth","car","dog","object","scale","sun","note","profit","rent","speed","style","war","bank","craft","half","inside","outside","standard","bus","exchange","eye","fire","position","pressure","stress","advantage","benefit","box","frame","issue","step","cycle","face","item","metal","paint","review","room","screen","structure","view","account","ball","discipline","medium","share","balance","bit","black","bottom","choice","gift","impact","machine","shape","tool","wind","address","average","career","culture","morning","pot","sign","table","task","condition","contact","credit","egg","hope","ice","network","north","square","attempt","date","effect","link","post","star","voice","capital","challenge","friend","self","shot","brush","couple","exit","front","function","lack","living","plant","plastic","spot","summer","taste","theme","track","wing","brain","button","click","desire","foot","gas","influence","notice","rain","wall","base","damage","distance","feeling","pair","savings","staff","sugar","target","text","animal","author","budget","discount","file","ground","lesson","minute","officer","phase","reference","register","sky","stage","stick","title","trouble","bowl","bridge","campaign","character","club","edge","evidence","fan","letter","lock","maximum","novel","option","pack","park","quarter","skin","sort","weight","baby","background","carry","dish","factor","fruit","glass","joint","master","muscle","red","strength","traffic","trip","vegetable","appeal","chart","gear","ideal","kitchen","land","log","mother","net","party","principle","relative","sale","season","signal","spirit","street","tree","wave","belt","bench","commission","copy","drop","minimum","path","progress","project","sea","south","status","stuff","ticket","tour","angle","blue","breakfast","confidence","daughter","degree","doctor","dot","dream","duty","essay","father","fee","finance","hour","juice","luck","milk","mouth","peace","pipe","stable","storm","substance","team","trick","afternoon","bat","beach","blank","catch","chain","consideration","cream","crew","detail","gold","interview","kid","mark","mission","pain","pleasure","score","screw","sex","shop","shower","suit","tone","window","agent","band","bath","block","bone","calendar","candidate","cap","coat","contest","corner","court","cup","district","door","east","finger","garage","guarantee","hole","hook","implement","layer","lecture","lie","manner","meeting","nose","parking","partner","profile","rice","routine","schedule","swimming","telephone","tip","winter","airline","bag","battle","bed","bill","bother","cake","code","curve","designer","dimension","dress","ease","emergency","evening","extension","farm","fight","gap","grade","holiday","horror","horse","host","husband","loan","mistake","mountain","nail","noise","occasion","package","patient","pause","phrase","proof","race","relief","sand","sentence","shoulder","smoke","stomach","string","tourist","towel","vacation","west","wheel","wine","arm","aside","associate","bet","blow","border","branch","breast","brother","buddy","bunch","chip","coach","cross","document","draft","dust","expert","floor","god","golf","habit","iron","judge","knife","landscape","league","mail","mess","native","opening","parent","pattern","pin","pool","pound","request","salary","shame","shelter","shoe","silver","tackle","tank","trust","assist","bake","bar","bell","bike","blame","boy","brick","chair","closet","clue","collar","comment","conference","devil","diet","fear","fuel","glove","jacket","lunch","monitor","mortgage","nurse","pace","panic","peak","plane","reward","row","sandwich","shock","spite","spray","surprise","till","transition","weekend","welcome","yard","alarm","bend","bicycle","bite","blind","bottle","cable","candle","clerk","cloud","concert","counter","flower","grandfather","harm","knee","lawyer","leather","load","mirror","neck","pension","plate","purple","ruin","ship","skirt","slice","snow","specialist","stroke","switch","trash","tune","zone","anger","award","bid","bitter","boot","bug","camp","candy","carpet","cat","champion","channel","clock","comfort","cow","crack","engineer","entrance","fault","grass","guy","hell","highlight","incident","island","joke","jury","leg","lip","mate","motor","nerve","passage","pen","pride","priest","prize","promise","resident","resort","ring","roof","rope","sail","scheme","script","sock","station","toe","tower","truck","witness","can","will","other","use","make","good","look","help","go","great","being","still","public","read","keep","start","give","human","local","general","specific","long","play","feel","high","put","common","set","change","simple","past","big","possible","particular","major","personal","current","national","cut","natural","physical","show","try","check","second","call","move","pay","let","increase","single","individual","turn","ask","buy","guard","hold","main","offer","potential","professional","international","travel","cook","alternative","special","working","whole","dance","excuse","cold","commercial","low","purchase","deal","primary","worth","fall","necessary","positive","produce","search","present","spend","talk","creative","tell","cost","drive","green","support","glad","remove","return","run","complex","due","effective","middle","regular","reserve","independent","leave","original","reach","rest","serve","watch","beautiful","charge","active","break","negative","safe","stay","visit","visual","affect","cover","report","rise","walk","white","junior","pick","unique","classic","final","lift","mix","private","stop","teach","western","concern","familiar","fly","official","broad","comfortable","gain","rich","save","stand","young","heavy","lead","listen","valuable","worry","handle","leading","meet","release","sell","finish","normal","press","ride","secret","spread","spring","tough","wait","brown","deep","display","flow","hit","objective","shoot","touch","cancel","chemical","cry","dump","extreme","push","conflict","eat","fill","formal","jump","kick","opposite","pass","pitch","remote","total","treat","vast","abuse","beat","burn","deposit","print","raise","sleep","somewhere","advance","consist","dark","double","draw","equal","fix","hire","internal","join","kill","sensitive","tap","win","attack","claim","constant","drag","drink","guess","minor","pull","raw","soft","solid","wear","weird","wonder","annual","count","dead","doubt","feed","forever","impress","repeat","round","sing","slide","strip","wish","combine","command","dig","divide","equivalent","hang","hunt","initial","march","mention","spiritual","survey","tie","adult","brief","crazy","escape","gather","hate","prior","repair","rough","sad","scratch","sick","strike","employ","external","hurt","illegal","laugh","lay","mobile","nasty","ordinary","respond","royal","senior","split","strain","struggle","swim","train","upper","wash","yellow","convert","crash","dependent","fold","funny","grab","hide","miss","permit","quote","recover","resolve","roll","sink","slip","spare","suspect","sweet","swing","twist","upstairs","usual","abroad","brave","calm","concentrate","estimate","grand","male","mine","prompt","quiet","refuse","regret","reveal","rush","shake","shift","shine","steal","suck","surround","bear","brilliant","dare","dear","delay","drunk","female","hurry","inevitable","invite","kiss","neat","pop","punch","quit","reply","representative","resist","rip","rub","silly","smile","spell","stretch","stupid","tear","temporary","tomorrow","wake","wrap","yesterday","Thomas","Tom","Lieuwe"];return e[$t(e.length-1,0)]+" "+t[$t(t.length-1,0)]}(),this.state.playlist,!0,"Random"),this.setState({updated:!this.state.updated}),setTimeout((function(){return t.Updateplaylist(t.state.playlistName,t.state.playlistId,t.state.private)}),100),Ye.a.notify(r.a.createElement("span",null,e.title," added to the playlist."),{duration:750})):(this.state.playlist.push(e),this.Updateplaylist(this.state.playlistName,this.state.playlistId,this.state.private),this.setState({updated:!this.state.updated}),Ye.a.notify(r.a.createElement("span",null,e.title," added to the playlist."),{duration:750}))}},{key:"onDeleteFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.playlist[0]){for(var t=0;t<this.state.playlist.length;t++)if(this.state.playlist[t].uniqueId===e.uniqueId){this.state.playlist.splice(t,1);break}this.setState({updated:!this.state.updated})}}},{key:"handleSubmit",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]?r[1]:10,t){e.next=3;break}return e.abrupt("return");case 3:return this.setState({loading:!0,error:!1,items:[]}),e.next=6,B(t);case 6:if(n=e.sent,console.log(n.length),n){e.next=11;break}return this.setState({error:!0,loading:!1,items:[]}),e.abrupt("return");case 11:if(0!==n.length){e.next=17;break}if(!(a>0)){e.next=15;break}return this.handleSubmit(t,a-1),e.abrupt("return");case 15:return this.setState({error:!0,loading:!1,items:[]}),e.abrupt("return");case 17:this.setState({items:n,loading:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmitdb",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:10,this.setState({loading:!0,error:!1,items:[]}),e.next=4,z(t);case 4:if(a=e.sent,console.log("Hello123"),console.log(a.length),a){e.next=10;break}return this.setState({error:!0,loading:!1,items:[]}),e.abrupt("return");case 10:if(0!==a.length){e.next=13;break}return this.setState({error:!0,loading:!1,items:[]}),e.abrupt("return");case 13:this.setState({items:a,loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit2",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,B(t);case 3:if(a=e.sent,console.log(a),null!==a){e.next=8;break}return this.setState({error:!0}),e.abrupt("return");case 8:return n=[],a.map((function(e){return n.push(e.id.videoId)})),n=n.join(","),e.next=13,_(n);case 13:r=e.sent,this.setState({items:a,contentDetails:r,loading:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingPlaylist:!0,playlist:[],playlistName:"Loading..."}),e.next=3,te(t);case 3:return a=e.sent,this.setState({playlist:a.data.playlist,playlistName:a.data.name,playlistId:a.data._id,loading:!1,private:a.data.private,playlistOwner:a.data.owner,loadingPlaylist:!1}),e.abrupt("return","OK");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLoading",value:function(e){this.setState({loadingPlaylists:e})}},{key:"getPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUser();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,r){var s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({playlist:a}),s=JSON.stringify({name:t,playlist:a,isPrivate:n,owner:this.state.userName,genre:r}),this.setLoading(!0),e.next=5,K(s);case 5:return i=e.sent,l=i.data,console.log(i),ae(l._id,l.name,l.private,l.owner,l.createdAt,this.state.token),this.setState({playlistId:i.data._id,playlistName:i.data.name,private:n}),e.next=12,ha(500);case 12:return e.next=14,this.getPlaylist();case 14:this.setLoading(!1);case 15:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"UpdateCurrentPlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.Updateplaylist(this.state.playlistName,this.state.playlistId,this.state.private);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Updateplaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n){var r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.state.playlist,console.log(n),s=JSON.stringify({name:t,playlist:r,private:n}),e.next=5,X(s,a);case 5:return i=e.sent,re(a,t,n,this.state.token),this.setState({playlistName:i.data.name,playlist:r}),e.next=10,ha(500);case 10:return e.next=12,this.getPlaylist();case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.playlistId===t&&this.setState({playlistId:"",playlistName:"",playlist:[]}),a=0;case 2:if(!(a<this.state.playlists.length)){e.next=9;break}if(this.state.playlists[a]._id!==t){e.next=6;break}return this.state.playlists.splice(a,1),e.abrupt("break",9);case 6:a++,e.next=2;break;case 9:return this.setState({updated:!0}),this.setLoading(!0),e.next=13,ne(t,this.state.token);case 13:return this.setLoading(!1),e.next=16,ha(3e4);case 16:this.getPlaylist();case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAdd",value:function(e){var t=Object.assign({},e);t.uniqueId=Math.random(),this.state.queue.push(t),this.setState({updated:!this.state.updated}),Ye.a.notify(r.a.createElement("span",null,e.title," added to the queue."),{duration:800})}},{key:"onDelete",value:function(e){if(e&&"undefined"!==typeof this.state.queue[0]){for(var t=0;t<this.state.queue.length;t++)if(this.state.queue[t].uniqueId===e.uniqueId){this.state.queue.splice(t,1);break}this.setState({updated:!this.state.updated})}}},{key:"setUrl",value:function(e){this.setState({url:e,playing:!0})}},{key:"onPlay",value:function(e){if(e){console.log(e),this.state.queue.unshift(e);var t=e.videoId,a=e.title,n=e.duration,r=e.artists&&e.artists[0]&&e.artists[0].name,s="https://www.youtube.com/watch?v="+t;s===this.state.url&&this.player.seekTo0(),this.setState({url:s,duration:n,playing:!0,updated:!0,title:a,artist:r||null}),this.setCurrentSong(e),this.player.handleEnded()}}},{key:"setTitle",value:function(e){this.setState({title:e})}},{key:"render",value:function(){var e=this.state.queue,t=this.state.url,a=this.state.playlists,n=this.state.playlist;return console.log(this.state.error),r.a.createElement("div",{className:this.props.darkMode?"homepage-div":"homepage-div2"},r.a.createElement("div",{id:"spinnerDivHomePage"},this.state.loadingPlaylist?r.a.createElement(Ke,{size:50,color:"white"}):null,this.state.loadingPlaylists?r.a.createElement(Ke,{size:50,color:"white",style:{zIndex:999999}}):null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"8",className:"homepage2"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"2",className:"sidebar"},r.a.createElement(Zt,{loadPlaylist:this.loadPlaylist,playlists:a,getPlaylist:this.getPlaylist,deletePlaylist:this.deletePlaylist,makePlaylist:this.makePlaylist,playlistName:this.state.playlistName,setLoading:this.setLoading})),r.a.createElement(ve.a,{sm:"10",className:"playlist"},r.a.createElement("br",null),r.a.createElement(Jt,{playNext:this.playNext,userName:this.state.userName,userRole:this.state.userRole,playlists:a,playlistOwner:this.state.playlistOwner,isPrivate:this.state.private,playlist:n,playlistName:this.state.playlistName,playlistId:this.state.playlistId,getPlayList:this.getPlaylist,loadPlaylist:this.loadPlaylist,onDeleteFromPlaylist:this.onDeleteFromPlaylist,onPlay:this.onPlay,addPlaylistToQueue:this.addPlaylistToQueue,playPlaylist:this.playPlaylist,onRemove:this.onDelete,makePlaylist:this.makePlaylist,Updateplaylist:this.Updateplaylist,deletePlaylist:this.deletePlaylist,onAdd:this.onAdd,UpdateCurrentPlaylist:this.UpdateCurrentPlaylist,setPlaylist:this.setPlaylist,setLoading:this.setLoading,toggleModal:this.toggleModal,toggleArtistModal2:this.toggleArtistModal2,toggleArtistModal:this.toggleArtistModal,toggleAlbumModal:this.toggleAlbumModal})))),r.a.createElement(ve.a,{sm:"4",className:"homepage3"},r.a.createElement("br",null),r.a.createElement(vt,{handleSubmit:this.handleSubmit,handleSubmitdb:this.handleSubmitdb,handleDB:this.handleDB,setTab:this.setTab,getArtists:this.getArtists}),r.a.createElement("hr",null),r.a.createElement(it,{toggleArtistModal:this.toggleArtistModal,loadPlaylist:this.loadPlaylist,makePlaylist:this.makePlaylist,playNext:this.playNext,playlists:a,loading:this.state.loading,items:"1"===this.state.focusedTab?this.state.dbitems:this.state.items,onAdd:this.onAdd,onPlay:this.onPlay,addPlaylistToQueue:this.addPlaylistToQueue,playPlaylist:this.playPlaylist,AddToPlaylist:this.AddToPlaylist,error:this.state.error,errorText:"1"===this.state.focusedTab?"Please try searching for that on YouTube! Cannot find it from our DB yet :(.":"Please try again"}),r.a.createElement(Tt,{queue:e,onRemove:this.onDelete,onPlay:this.onPlay,shuffleQueue:this.shuffleQueue,clearQueue:this.clearQueue,setQueue:this.setQueue,isShuffle:this.state.shuffle,toggleArtistModal:this.toggleArtistModal}))),r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"12",className:"mediaplayer"},r.a.createElement(da,{setArtist:this.setArtist,ref:this.ref,array:e,onRemove:this.onDelete,url:t,playing:this.state.playing,title:this.state.title,onAdd:this.onAdd,AddToPlaylist:this.AddToPlaylist,onPlay:this.onPlay,setUrl:this.setUrl,setTitle:this.setTitle,setPlaying:this.setPlaying,duration:this.state.duration,playlistId:this.state.playlistId,setShuffle:this.setShuffle,isShuffle:this.state.shuffle,artist:this.state.artist,setCurrentSong:this.setCurrentSong,currentSong:this.state.currentSong,toggleArtistModal:this.toggleArtistModal,toggleAlbumModal:this.toggleAlbumModal})))),r.a.createElement(nt,{show:this.state.showModal,toggleModal:this.toggleModal,artist:this.state.isArtist,albumBrowseId:this.state.albumBrowseId,albumThumbnails:this.state.albumThumbnails,albumTitle:this.state.albumTitle,albumYear:this.state.albumYear,addFunc:this.onAdd,onPlay:this.onPlay,addPlaylistToQueue:this.addPlaylistToQueue,playPlaylist:this.playPlaylist,playNext:this.playNext,playlists:this.state.playlists,AddToPlaylist:this.AddToPlaylist,loadPlaylist:this.loadPlaylist,makePlaylist:this.makePlaylist,toggleArtistModal:this.toggleArtistModal}),r.a.createElement(st,{loading:this.state.loadingAllSongs,show:this.state.showArtistModal,toggleModal:this.toggleArtistModal2,artistAlbums:this.state.artistAlbums,artistSingles:this.state.artistSingles,artistName:this.state.artistName,artistDescription:this.state.artistDescription,artistSongs:this.state.artistSongs,artistSubscribers:this.state.artistSubscribers,artistThumbnails:this.state.artistThumbnails,artistViews:this.state.artistViews,artist:this.state.isArtist,addFunc:this.onAdd,onPlay:this.onPlay,addPlaylistToQueue:this.addPlaylistToQueue,playPlaylist:this.playPlaylist,playNext:this.playNext,playlists:this.state.playlists,AddToPlaylist:this.AddToPlaylist,loadPlaylist:this.loadPlaylist,toggleAlbumModal:this.toggleAlbumModal,toggleAllSongsModal:this.toggleAllSongsModal}),r.a.createElement(Dt,{show:this.state.showAllSongsModal,toggleModal:this.toggleAllSongsModal123,allSongs:this.state.allSongs,addFunc:this.onAdd,onPlay:this.onPlay,addPlaylistToQueue:this.addPlaylistToQueue,playPlaylist:this.playPlaylist,playNext:this.playNext,artistName:this.state.artistName}))}}]),a}(n.Component),fa=(a(511),a(256)),ga=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ba=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(Lt.a)({},e.target.name,e.target.value))},n.togglePanel=function(){n.setState({active:!n.state.active})},n.signUpSubmit=function(e){e.preventDefault();var t=n.state,a={signUpName:t.signUpName,signUpEmail:t.signUpEmail,signUpPassword:t.signUpPassword,role:"User"};n.signUp(a)},n.signInSubmit=function(e){e.preventDefault(),n.login(n.state.email,n.state.password)},n.state={active:!1,error:"",SignUpError:""},me.currentUserValue&&fa(me.currentUserValue.token).exp>Date.now()/1e3&&n.props.history.push("/"),n.login=n.login.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"login",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,ga(1500);case 3:return e.next=5,me.login(t,a);case 5:n=e.sent,this.setState({loading:!1}),n?this.setState({error:n}):this.props.history.push("/");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,ga(1500);case 3:return e.next=5,me.signup(t);case 5:a=e.sent,this.setState({loading:!1}),a||this.props.history.push("/"),a&&a.data.error[0]&&(n=a.data.error[0],this.setState({SignUpError:n.name||n.email||n.password||a.data.error}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:this.state.active?"ss right-panel-active":"ss"},r.a.createElement("h1",{className:"position"},"WELCOME TO TUBEMUSIC"),r.a.createElement(kt.a,{id:"login-container"},r.a.createElement(kt.a,{className:"form-container sign-up-container"},r.a.createElement(qt.a,{onSubmit:this.signUpSubmit},r.a.createElement("h1",null,"Create an account"),r.a.createElement("br",null),this.state.SignUpError?r.a.createElement("div",{className:"error2"},this.state.SignUpError):r.a.createElement("span",{className:"span2"},"Please fill in the form to create a new account!"),r.a.createElement("br",null),r.a.createElement(pt.a,null,r.a.createElement(ct.a,{name:"signUpName",autoComplete:"username",type:"text",placeholder:"Name",onChange:this.onChange,required:!0})),r.a.createElement(pt.a,null,r.a.createElement(ct.a,{name:"signUpEmail",type:"email",autoComplete:"email",placeholder:"Email",onChange:this.onChange,required:!0})),r.a.createElement(pt.a,null,r.a.createElement(ct.a,{name:"signUpPassword",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.onChange,required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:this.state.loading?"loading":""},this.state.loading?"Loading...":"Sign up"),this.state.loading?r.a.createElement("div",{className:"spin"}):""))),r.a.createElement(kt.a,{className:"form-container sign-in-container"},r.a.createElement(qt.a,{onSubmit:this.signInSubmit},r.a.createElement("h1",null,"Sign in"),r.a.createElement("br",null),this.state.error?r.a.createElement("div",{className:"error"},this.state.error):r.a.createElement("span",{className:"span2"},"Please login using your email and password!"),r.a.createElement("br",null),r.a.createElement(pt.a,null,r.a.createElement(ct.a,{name:"email",id:"email",type:"email",placeholder:"Email",autoComplete:"username",onChange:this.onChange,required:!0})),r.a.createElement(pt.a,null,r.a.createElement(ct.a,{name:"password",id:"password",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.onChange,required:!0})),r.a.createElement("a",{href:"# "},"Forgot your password?"),r.a.createElement("div",null,r.a.createElement("button",{className:this.state.loading?"loading":""},this.state.loading?"Signing in...":"Sign in"),this.state.loading?r.a.createElement("div",{className:"spin"}):""))),r.a.createElement("div",{className:"overlay-container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlay-panel overlay-left"},r.a.createElement("h1",null,"Already have an account?"),r.a.createElement("p",null,"To keep connected with us please login with your personal info"),r.a.createElement("button",{onClick:this.togglePanel,className:"ghost",id:"signIn"},"Sign In")),r.a.createElement("div",{className:"overlay-panel overlay-right"},r.a.createElement("h1",null,"Don't have an account yet?"),r.a.createElement("p",null,"No worries! Enter your personal details and start listening to music with us."),r.a.createElement("button",{onClick:this.togglePanel,className:"ghost",id:"signUp"},"Sign Up"))))))}}]),a}(n.Component),va=a(57),ka=a(556),Ea=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={artistName:e.props.artistName,title:e.props.title,imported:e.props.imported},e}return Object(d.a)(a,[{key:"addToImport",value:function(e){this.props.addToImport(e)}},{key:"removeFromPlaylist",value:function(e){this.props.removeFromPlaylist(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ke.a,{className:"card"},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"4",sm:"4"},r.a.createElement(we.a,null,this.state.title)),r.a.createElement(ve.a,{xs:"4",sm:"4"},r.a.createElement(we.a,{className:"float-left"},this.state.artistName)),r.a.createElement(ve.a,{xs:"2",sm:"2"},this.props.createdAt),r.a.createElement(ve.a,{xs:"2",sm:"2"},this.state.imported?r.a.createElement(xe.a,{onClick:this.removeFromPlaylist.bind(this,this.props),className:"btn btn-primary",color:"danger"},"x"):r.a.createElement(xe.a,{onClick:this.addToImport.bind(this,this.props),className:"btn btn-primary",color:"primary"},"+"))))))}}]),a}(n.Component),wa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderRow=function(t){var a=t.index,n=(t.key,t.isScrolling,t.isVisible,t.style),s=e.props.tracks[a],i=s.title,l=s.artistName,o=s.id,c=s.createdAt;return r.a.createElement("div",{key:Math.random(),style:n},r.a.createElement(Ea,{id:Math.random(),key:o,artistName:l,addToImport:e.props.addToImport,imported:!1,title:i,createdAt:c}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ot.a,null,(function(t){var a=t.width;return r.a.createElement(Ot.b,{width:a,height:550,rowCount:e.props.tracks.length,rowHeight:80,rowRenderer:e.renderRow})})))}}]),a}(n.Component),xa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=(e.key,e.isScrolling,e.isVisible,e.style),s=n.props.toBeImportedPlaylist[t],i=s.title,l=s.artistName,o=s.id;return r.a.createElement("div",{key:o,style:a},r.a.createElement(Ea,{key:o,id:o,artistName:l,importPlaylistToApp:n.props.importPlaylistToApp,removeFromPlaylist:n.removeFromPlaylist,imported:!0,title:i}))},n.state={toBeImportedPlaylist:n.props.toBeImportedPlaylist,updated:""},n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({toBeImportedPlaylist:this.props.toBeImportedPlaylist})}},{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,this.props.toBeImportedPlaylist.length," songs in the list."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ot.a,null,(function(t){var a=t.width;return r.a.createElement(Ot.b,{width:a,height:550,rowCount:e.props.toBeImportedPlaylist.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),Pa=(a(514),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),Oa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({filter:e.target.value})},n.state={modal:n.props,description:n.props.description,imageUrl:n.props.imageUrl,name:n.props.name,id:n.props.id,key:n.props.id,trackRef:n.props.trackRef,totalTracks:n.props.totalTracks,ownerName:n.props.ownerName,chosenListsTracks:n.props.chosenListsTracks,toBeImportedPlaylist:[],importCount:0,loading:!1,imported:!1,progressValue:0,notFoundArray:[],filter:""},n.importPlaylistToApp=n.importPlaylistToApp.bind(Object(p.a)(n)),n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(p.a)(n)),n.addToImport=n.addToImport.bind(Object(p.a)(n)),n.toggle=n.toggle.bind(Object(p.a)(n)),n.moveAllToImport=n.moveAllToImport.bind(Object(p.a)(n)),n.clearList=n.clearList.bind(Object(p.a)(n)),n.webScrape=n.webScrape.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=me.currentUserValue;e&&this.setState({token:e.token,userName:e.user.name})}},{key:"webScrape",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,s,i,l,c,u,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.toBeImportedPlaylist.length<1)){e.next=2;break}return e.abrupt("return");case 2:this.setState({loading:!0,progressValue:0,importCount:0}),t=[],a=this.state.toBeImportedPlaylist,n=this.state.toBeImportedPlaylist.length,r=1/n*100,s=25,i=0;case 9:if(!(n>i)){e.next=27;break}return e.next=12,R(a.slice(i,i+s));case 12:if(l=e.sent){e.next=22;break}case 14:if(l){e.next=22;break}return e.next=17,Pa(250);case 17:return e.next=19,R(a.slice(i,i+s));case 19:l=e.sent,e.next=14;break;case 22:l.forEach((function(e){t.push(e)})),this.setState({progressValue:r*t.length,importCount:t.filter((function(e){return null!==e})).length}),i+=s,e.next=9;break;case 27:return e.next=29,Pa(6500);case 29:if(!(t.length>0)){e.next=43;break}if(c=this.state.name,u=t.filter((function(e){return null!==e})),d=JSON.stringify({name:c,playlist:u,isPrivate:!0,owner:this.state.userName}),!(u.length>0)){e.next=41;break}return e.next=36,K(d);case 36:p=e.sent,ae(p.data._id,p.data.name,p.data.private,p.data.owner,p.data.createdAt,this.state.token),200===p.status?this.setState({imported:!0,loading:!1}):(this.setState({imported:!1}),alert("Error making creating the playlist.")),e.next=43;break;case 41:this.setState({imported:!1}),alert("No songs were found.");case 43:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearList",value:function(){this.setState({toBeImportedPlaylist:[]})}},{key:"moveAllToImport",value:function(e){var t=this;e.forEach((function(e){return t.addToImport(e)}))}},{key:"toggle",value:function(){this.setState({toBeImportedPlaylist:[]}),this.props.toggle()}},{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({modal:this.props,description:this.props.description,imageUrl:this.props.imageUrl,name:this.props.name,id:this.props.id,key:this.props.id,trackRef:this.props.trackRef,totalTracks:this.props.totalTracks,ownerName:this.props.ownerName,chosenListsTracks:this.props.chosenListsTracks,imported:!1,progressValue:0,importCount:0})}},{key:"makePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({name:t,playlist:a}),e.next=3,K(n);case 3:r=e.sent,this.setState({playlistId:r.data._id,playlistName:r.data.name,playlist:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"importPlaylistToApp",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,s,i,l,c,u,d,p,m,h,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,progressValue:0,importCount:0}),t=this.state.toBeImportedPlaylist.length,a=1/t*100,n=[],r=this.state.toBeImportedPlaylist,s=0;case 6:if(!(s<r.length)){e.next=32;break}return i=r[s].artistName,l=r[s].title,c=l+" "+i,e.next=12,Q(c);case 12:if(null!==(u=e.sent)){e.next=16;break}return this.setState({loading:!1,error:!0}),e.abrupt("return");case 16:return(d={}).videoId=u[0].id.videoId,d.title=u[0].snippet.title,d.publishedAt=u[0].snippet.publishedAt,d.description=u[0].snippet.description,d.channelTitle=u[0].snippet.channelTitle,e.next=24,_(u[0].id.videoId);case 24:p=e.sent,d.duration=p[0].contentDetails.duration,d.uniqueId=Math.random(),n.push(d),this.setState({progressValue:this.state.progressValue+a});case 29:s++,e.next=6;break;case 32:return m=this.state.name,h=JSON.stringify({name:m,playlist:n}),e.next=36,K(h);case 36:y=e.sent,this.setState({loading:!1,progressValue:0,importCount:0}),200===y.status?this.setState({imported:!0}):(this.setState({imported:!1}),alert("Error"));case 39:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"addToImport",value:function(e){var t={};t.artistName=e.artistName,t.title=e.title,t.id=Math.random(),this.state.toBeImportedPlaylist.push(t),this.setState({updated:!0})}},{key:"render",value:function(){var e=this.state.chosenListsTracks,t=this.state.filter,a=t.toLowerCase(),n=e.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(a)}))}));return r.a.createElement("div",null,r.a.createElement(ze.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,size:"lg",style:{maxWidth:"1600px",width:"100%",margin:"10px auto"}},r.a.createElement(Fe.a,{className:"mb-4",toggle:this.props.toggle},r.a.createElement("span",null,"Songs in the playlist ",r.a.createElement("br",null),r.a.createElement("i",null,this.state.name)),r.a.createElement("span",{className:"inthemiddle"},"Playlist importer")),r.a.createElement(Qe.a,null,r.a.createElement("span",null,"I recommend using webScraping for retrieving songs from YouTube."),this.state.notFoundArray.length>1?r.a.createElement("div",{id:"notFoundArray"},r.a.createElement("h3",null,"Following songs were not found:",r.a.createElement("br",null),r.a.createElement("br",null)),this.state.notFoundArray.map((function(e){var t=e.title,a=e.artistName;return r.a.createElement("span",{id:"notFoundItem",key:t},r.a.createElement("p",null,t)," by ",r.a.createElement("p",null,a," "),r.a.createElement("br",null))}))):"",this.state.error?r.a.createElement("div",null,r.a.createElement("span",{id:"errorImport"},"Daily limit exdeeded. Try again tomorrow.")):"",this.state.imported?r.a.createElement("span",{id:"successImport"},"Succesfully created the playlist!"):"",this.state.loading?r.a.createElement("div",{id:"LoadingSpot"},r.a.createElement("h2",{className:"loadingTitle"},"Importing songs"),r.a.createElement("div",{id:"spinner"},r.a.createElement(Re,{size:35,color:"#17a2b8"})),r.a.createElement("span",{className:"importedNumbers",id:"creatingInfo"},this.state.progressValue<100?"Importing songs...":"Creating playlist..."),r.a.createElement("span",{className:"importedNumbers"},this.state.importCount," /"," ",this.state.toBeImportedPlaylist.length," songs imported."),r.a.createElement("span",{className:"importedNumbers",id:"creatingInfo2"},this.state.progressValue>99&this.state.toBeImportedPlaylist.length!==this.state.importCount?"Unfortunately we were unable to import all of the songs":""),r.a.createElement("div",{id:"progressbar"},r.a.createElement(ka.a,{animated:!0,color:"info",value:this.state.progressValue})),r.a.createElement("span",{className:"loadingInfo"},"Fetching songs from YouTube and adding them to our database... This might take awhile.")):"",r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(xa,{importPlaylistToApp:this.importPlaylistToApp,removeFromPlaylist:this.removeFromPlaylist,toBeImportedPlaylist:this.state.toBeImportedPlaylist}))),r.a.createElement(ve.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement("p",null,n.length," songs"),r.a.createElement("span",{className:"float-right filterSpan"},"By ",this.props.ownerName),r.a.createElement("br",null),r.a.createElement(ct.a,{value:t,onChange:this.handleChange,placeholder:"Filter songs based on artist, album or title..."}),r.a.createElement("br",null),r.a.createElement(wa,{ownerName:this.state.ownerName,totalTracks:this.state.totalTracks,tracks:n,addToImport:this.addToImport})))),r.a.createElement(be.a,{id:"lowerRow"},r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{disabled:!0,onClick:this.importPlaylistToApp},"Import playlist"))),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{disabled:!(!this.state.loading&&this.state.toBeImportedPlaylist[0]),onClick:this.clearList},"Clear list"))),r.a.createElement(ve.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{disabled:this.state.loading,onClick:this.moveAllToImport.bind(this,n)},"Get all songs"))),r.a.createElement(ve.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{disabled:!(!this.state.loading&&this.state.toBeImportedPlaylist[0]),onClick:this.webScrape},"use webScraping"))))),r.a.createElement(xe.a,{onClick:this.toggle,className:"btn btn-primary"},"Cancel")))}}]),a}(n.Component),Sa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleList=function(){n.setState({modal:!n.state.modal})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.state={modal:!1,description:n.props.description,imageUrl:n.props.imageUrl,name:n.props.name,id:n.props.id,key:n.props.id,trackRef:n.props.trackRef,totalTracks:n.props.totalTracks,ownerName:n.props.ownerName,token:n.props.token,chosenListsTracks:[],loading:!1},n.toggle=n.toggle.bind(Object(p.a)(n)),n.clickOnPlayList=n.clickOnPlayList.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"clickOnPlayList",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,r,s,i,l,c,u,d,p,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.state.token,e.next=4,J(this.state.id,t);case 4:a=e.sent,n=[],r=null,n=a.items,console.log(n);case 9:if(null===a.next||"undefined"===typeof a.next){e.next=19;break}return e.next=12,Y(t,a.next);case 12:if(r=e.sent,n=n.concat(r.items),null!==r.next){e.next=16;break}return e.abrupt("break",19);case 16:a.next=r.next,e.next=9;break;case 19:for(s=[],i=[],l=[],c=[],u=[],d=[],(n=n.filter((function(e){return null!==e.track}))).forEach((function(e){return console.log(e.track.name)})),n.forEach((function(e){return s.push(e.track.name)})),n.forEach((function(e){return i.push(e.track.artists)})),n.forEach((function(e){return c.push(e.track.id)})),n.forEach((function(e){return u.push(e.track.album.name)})),n.forEach((function(e){return d.push(e.added_at)})),p=0;p<i.length;p++)(m={}).artistName=i[p][0].name,"undefined"!==typeof i[p][1]&&(m.artistName=m.artistName.concat(" & "+i[p][1].name)),m.title=s[p],m.id=c[p],m.album=u[p],m.createdAt=d[p],l.push(m);this.setState({loading:!1,chosenListsTracks:l}),this.toggleList(l);case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(ke.a,{className:"card",id:this.state.loading?"loadingCard":null},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"1",sm:"1"}),r.a.createElement(ve.a,{xs:"8",sm:"8"},r.a.createElement(we.a,null,this.props.name)),r.a.createElement(ve.a,{xs:"3",sm:"3"},r.a.createElement("small",null," ",this.state.loading?"Loading...":this.props.totalTracks+" songs"," "))),r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"6",sm:"6"},r.a.createElement("small",{className:"float-left"},"By ",this.props.ownerName)))))),r.a.createElement(Oa,{isOpen:this.state.modal,toggle:this.toggle,description:this.state.description,imageUrl:this.state.imageUrl,name:this.state.name,id:this.state.id,key:this.state.id,trackRef:this.state.trackRef,totalTracks:this.state.totalTracks,ownerName:this.state.ownerName,chosenListsTracks:this.state.chosenListsTracks}))}}]),a}(n.Component),Na=(a(515),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSortChange=function(e){var t,a=e.target.value,r=Object(va.a)(n.state.userPlaylists);switch(console.log(r),a){case"Latest":t=r;break;case"Last":t=r.sort((function(e,t){return e<t?1:-1}));break;case"By name":t=r.sort((function(e,t){return e.name>t.name?1:-1}));break;case"By owner":t=r.sort((function(e,t){return e.ownerName>t.ownerName?1:-1}))}console.log("Yeps..."),n.setState({sortedPlaylists:t})},n.handleChange=function(e){var t=n.state.userPlaylists,a=e.target.value.toLowerCase(),r=t.filter((function(e){return null===e||"undefined"===typeof e?t:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"imageUrl"!==t&&"description"!==t&&"trackRef"!==t&&e[t].toLowerCase().includes(a)}))}));console.log(r),n.setState({filter:e.target.value,filteredData:r})},n.state={loading:n.props.loading,userPlaylists:[],sortedPlaylists:[],filteredData:[],filter:""},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({loading:this.props.loading,userPlaylists:this.props.Userplaylists,filteredData:this.props.Userplaylists,sortedPlaylists:this.props.Userplaylists})}},{key:"render",value:function(){var e=this,t=this.state,a=t.filteredData,n=t.filter,s=t.sortedPlaylists.filter((function(e){return-1!==a.indexOf(e)}));return r.a.createElement("div",null,r.a.createElement("p",null,"Click on a playlist to see what songs there are, and to choose which songs will be imported."),r.a.createElement("div",{className:"inputDiv"},r.a.createElement(ct.a,{id:"filterId",value:n,onChange:this.handleChange,placeholder:"Filter playlists..."}),r.a.createElement(ct.a,{onChange:this.onSortChange,type:"select",name:"select",id:"exampleSelect"},r.a.createElement("option",{key:"Latest",value:"Latest"},"Latest"),r.a.createElement("option",{key:"Last",value:"Last"},"Last"),r.a.createElement("option",{key:"By name",value:"By name"},"By name"),r.a.createElement("option",{key:"By owner",value:"By owner"},"By owner"))),r.a.createElement("div",{id:s.length>0?"spotifyPlaylist":"template"},this.state.loading?r.a.createElement("div",{className:"loadingPlace2"},r.a.createElement(Re,{color:"#545454"})):r.a.createElement("div",null,s.map((function(t){var a=t.id,n=t.name,s=t.description,i=t.imageUrl,l=t.trackRef,o=t.totalTracks,c=t.ownerName;return r.a.createElement(Sa,{description:s,imageUrl:i,name:n,id:a,key:a,trackRef:l,totalTracks:o,ownerName:c,token:e.props.token})})))))}}]),a}(n.Component)),ja=(a(516),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",token:e.props.token,search:"",playlists:[]},e.onChange=function(t){e.setState(Object(Lt.a)({},t.target.name,t.target.value))},e.submit=function(){var t=Object(c.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,W(e.state.search,e.state.token);case 3:n=t.sent,console.log(n),e.setState({playlists:n.playlists.items});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeSearch=function(t){e.setState({search:t.target.value})},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({token:this.props.token})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ze.a,{id:"discovery",isOpen:this.props.isOpen,toggle:this.props.toggle,size:"lg",style:{maxWidth:"1600px",width:"100%",margin:"10px auto"}},r.a.createElement(Fe.a,{className:"mb-4",toggle:this.props.toggle},r.a.createElement("span",{className:"inthemiddle"},"The discover")),r.a.createElement(be.a,null,r.a.createElement("div",{className:"inputDiv2"},r.a.createElement("form",{onSubmit:this.submit},r.a.createElement(lt.a,null,r.a.createElement(ot.a,{addonType:"prepend"}),r.a.createElement(ct.a,{type:"text",placeholder:"Search for playlists...",required:!0,className:"form-control",value:this.state.search,onChange:this.onChangeSearch}),r.a.createElement(ot.a,{addonType:"append"},r.a.createElement(xe.a,{color:"secondary"},"Search")))))),r.a.createElement(be.a,null,r.a.createElement("div",{id:this.state.playlists.length>0?"spotifyPlaylist2":"template"},this.state.loading?r.a.createElement("div",{className:"loadingPlace2"},r.a.createElement(Re,{color:"#545454"})):r.a.createElement("div",null,this.state.playlists.map((function(t){var a=t.id,n=t.name,s=t.description,i=t.imageUrl,l=t.trackRef,o=t.totalTracks,c=t.ownerName;return r.a.createElement(Sa,{description:s,imageUrl:i,name:n,id:a,key:a,trackRef:l,totalTracks:o,ownerName:c,token:e.props.token})}))))),r.a.createElement(Qe.a,null,r.a.createElement("div",null,"asdasd asdasdasd"))))}}]),a}(n.Component)),Ca=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={auth:!1,token:null,userPlaylists:[],display_name:"",user_id:"",nextPlaylists:null,loading:!1,chosenPlaylist:[],isOpen:!1},n.getUserId=n.getUserId.bind(Object(p.a)(n)),n.getPlayListData=n.getPlayListData.bind(Object(p.a)(n)),n.toggle=n.toggle.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"getUserId",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,V(t);case 3:a=e.sent,setTimeout(function(){this.getPlayListData(t)}.bind(this),2e3),this.setState({display_name:a.data.display_name,user_id:a.data.id});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPlayListData",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n,r,s,i,l,c,u,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,H(t);case 3:a=e.sent,console.log(a),n=[],r=null,n=a.items;case 8:if("undefined"===typeof a.next||null===a.next){e.next=19;break}return console.log(t,a.next),e.next=12,Y(t,a.next);case 12:if(r=e.sent,n=n.concat(r.items),null!==r.next){e.next=16;break}return e.abrupt("break",19);case 16:a.next=r.next,e.next=8;break;case 19:for(s=[],i=[],l=[],c=[],u=[],n.forEach((function(e){return e.images[0]?s.push(e.images[0].url):s.push(null)})),n.forEach((function(e){return i.push(e.tracks.href)})),n.forEach((function(e){return c.push(e.tracks.total)})),n.forEach((function(e){return l.push(e.owner.display_name)})),d=0;d<n.length;d++)(p={}).id=n[d].id,p.name=n[d].name,p.description=n[d].description,p.imageUrl=s[d],p.trackRef=i[d],p.ownerName=l[d],p.totalTracks=c[d],u.push(p);this.setState({loading:!1,userPlaylists:u});case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"componentDidMount",value:function(){var e=window.location.href;"undefined"!==typeof(e=e.split("_token=")[1])?(e=e.split("&token")[0],this.setState({token:e,auth:!0}),this.getUserId(e)):this.setState({token:null,auth:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage-div"},r.a.createElement("br",null),r.a.createElement("h3",null,"Import your spotify playlists into the app!"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{sm:"4",className:"spotifypage1"},this.state.auth?r.a.createElement("span",null,"Hello, you are logged in as ",r.a.createElement("br",null),this.state.display_name," !+"):"Please login to use the playlist importer!"),r.a.createElement(ve.a,{sm:"4",className:"spotifypage2"},r.a.createElement(xe.a,{href:"https://accounts.spotify.com/fi/authorize?client_id=dc20085012814f3d8cab4b36a4144393&response_type=token&redirect_uri=https:%2F%2Ftubemusicapp.herokuapp.com%2Fspotify&show_dialog=true&scope=playlist-read-private%20playlist-read-collaborative%20user-follow-read"},this.state.auth?"Change account.":"Log in."),r.a.createElement("br",null),r.a.createElement("br",null),this.state.auth?r.a.createElement(xe.a,{className:"discover-button",onClick:this.toggle}," ","Discover"):null),r.a.createElement(ve.a,{sm:"4",className:"spotifypage3"},this.state.auth?r.a.createElement(Na,{Userplaylists:this.state.userPlaylists,loading:this.state.loading,token:this.state.token}):""),r.a.createElement(ja,{token:this.state.token,isOpen:this.state.isOpen,toggle:this.toggle}))))}}]),a}(n.Component),Aa=a(270),Ia=a(256),Ta=function(e){var t=e.component,a=e.roles,n=Object(Aa.a)(e,["component","roles"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(e){var s=me.currentUserValue;return console.log(s),s?Ia(s.token).exp<Date.now()/1e3?r.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}}):a&&-1===a.indexOf(s.user.role)?r.a.createElement(y.a,{to:{pathname:"/"}}):r.a.createElement(t,Object.assign({},e,{data:n.data,darkMode:n.darkMode,loadUser:n.loadUser})):r.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ma=a(85),Ua=a.n(Ma),Da=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentUserInfo:n.props.currentUserInfo},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({currentUserInfo:this.props.currentUserInfo})}},{key:"clickOnPlayList",value:function(){this.props.getPlayListById(this.props.id)}},{key:"load",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,me.loadUser(t);case 3:null!==(n=e.sent)&&(n.playlists.forEach((function(e){a.push(e._id)})),this.setState({currentUserInfo:a}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),console.log(this.state),e.next=4,ae(this.props.id,this.props.name,this.props.private,this.props.owner,this.props.createdAt,this.props.token);case 4:this.load(this.props.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(this.props.id);case 2:this.load(this.props.token);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.currentUserInfo||"",t=this.props.id;return r.a.createElement("div",null,r.a.createElement(ke.a,{className:"card2"},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2"},e.includes(t)?r.a.createElement("div",null,r.a.createElement(xe.a,{disabled:this.props.private,href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.unsubscribe.bind(this,this.state)},r.a.createElement(we.a,null,"Unsubscribe")," ")):r.a.createElement("div",null,r.a.createElement(xe.a,{disabled:this.props.private,href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.subscribe.bind(this,this.state)},r.a.createElement(we.a,null,"Subscribe")," "))),r.a.createElement(ve.a,{xs:"4",sm:"4"},r.a.createElement(xe.a,{href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(we.a,null,this.props.name))),r.a.createElement(ve.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"text-muted"},"Created at:"," ",r.a.createElement(Ua.a,{format:"DD-MM-YYYY HH:mm"},this.props.createdAt))),r.a.createElement(ve.a,{xs:"2",sm:"2"},"By ",this.props.owner)))))}}]),a}(n.Component),La=(a(519),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Ge.a,{size:15,color:this.props.color||"#c45a8e",loading:this.state.loading,margin:2}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component)),qa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,s=n.props.playlists,i=s[t],l=i.name,o=i._id,c=i.createdAt,u=i.owner,d=s[t].private;return r.a.createElement("div",{key:o,style:a},r.a.createElement(Da,{currentUserInfo:n.state.currentUserInfo,loadPlaylists:n.props.loadPlaylists,getPlayListById:n.props.getPlayListById,token:n.props.token,createdAt:c,id:o,name:l,owner:u,private:d}))},n.bindListRef=function(e){n.list=e},n.state={playlists:n.props.playlists,token:n.props.token,userData:n.props.userData,loading:n.props.loading||!0},n.load=n.load.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.load(this.state.token)}},{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||(console.log("Change?"),this.list&&this.list.forceUpdateGrid(),this.setState({playlists:this.props.playlists,token:this.props.token,Userplaylists:this.props.Userplaylists,userData:this.props.userData,loading:this.props.loading}))}},{key:"load",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,me.loadUser(t);case 3:null!==(n=e.sent)&&n.playlists.forEach((function(e){a.push(e._id)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state.playlists;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{id:"spinnerDiv2"},this.state.loading?r.a.createElement(La,{size:50,color:"white"}):null),r.a.createElement(Ot.a,null,(function(a){var n=a.width;return r.a.createElement(Ot.b,{ref:e.bindListRef,width:n,height:700,rowCount:t.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),Ra=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={artistName:e.props.artistName,title:e.props.title,imported:e.props.imported,date:e.props.date,duration:e.props.duration},e}return Object(d.a)(a,[{key:"addToImport",value:function(e){this.props.addToImport(e)}},{key:"removeFromPlaylist",value:function(e){this.props.removeFromPlaylist(e)}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(ke.a,{className:"card"},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2"},this.state.duration),r.a.createElement(ve.a,{xs:"8",sm:"8"},r.a.createElement(we.a,null,this.state.title)),r.a.createElement(ve.a,{xs:"2",sm:"2"},this.state.imported?r.a.createElement(xe.a,{onClick:this.removeFromPlaylist.bind(this,this.props),className:"btn btn-secondary",color:"secondary"},"x"):r.a.createElement(xe.a,{onClick:this.addToImport.bind(this,this.props),className:"btn btn-secondary",color:"secondary"},"+"))),r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"12",sm:"12"},r.a.createElement("span",{className:"float-right"},"Added at: \xa0",r.a.createElement(Ua.a,{format:"DD-MM-YYYY HH:mm"},this.state.date)))))))}}]),a}(n.Component),Ba=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderRow=function(t){var a=t.index,n=(t.key,t.isScrolling,t.isVisible,t.style),s=e.props.tracks[a],i=s.title,l=s.artistName,o=s.id,c=s.duration,u=s.date,d=s.videoId;return r.a.createElement("div",{key:Math.random(),style:n},r.a.createElement(Ra,{id:Math.random(),key:o,artistName:l,addToImport:e.props.addToImport,imported:!1,title:i,duration:c,date:u,videoId:d}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ot.a,null,(function(t){var a=t.width;return r.a.createElement(Ot.b,{width:a,height:550,rowCount:e.props.tracks.length,rowHeight:80,rowRenderer:e.renderRow})})))}}]),a}(n.Component),za=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=(e.key,e.isScrolling,e.isVisible,e.style),s=n.props.toBeImportedPlaylist[t],i=s.title,l=s.artistName,o=s.id,c=s.duration,u=s.date,d=s.videoId;return r.a.createElement("div",{key:o,style:a},r.a.createElement(Ra,{key:o,id:o,artistName:l,importPlaylistToApp:n.props.importPlaylistToApp,removeFromPlaylist:n.props.removeFromPlaylist,imported:!0,title:i,duration:c,date:u,videoId:d}))},n.state={toBeImportedPlaylist:n.props.toBeImportedPlaylist,updated:""},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({toBeImportedPlaylist:this.props.toBeImportedPlaylist})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ot.a,null,(function(t){var a=t.width;return r.a.createElement(Ot.b,{width:a,height:550,rowCount:e.props.toBeImportedPlaylist.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),Fa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,name:"",checked:!1,select:"Random"},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(Lt.a)({},t.target.name,t.target.value)),console.log(e.state.select)},e.onSubmit=function(t){t.preventDefault(),console.log(t),e.props.makePlaylist(e.state.name,e.state.checked,e.state.select,e.props.owner),e.toggle()},e.boxChange=function(t){e.setState({checked:t.target.checked})},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xe.a,{disabled:this.props.disabled,className:"float-left btn-margin btn-secondary btn button",onClick:this.toggle,href:"#",color:"secondary"},"Add playlist to your collections."),r.a.createElement(ze.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Fe.a,{className:"mb-4",toggle:this.toggle},"Create a new playlist here :)",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(qt.a,{onSubmit:this.onSubmit},r.a.createElement(Qe.a,null,r.a.createElement(pt.a,null,r.a.createElement(mt.a,{for:"name"},"Name for the playlist:"),r.a.createElement(ct.a,{type:"name",name:"name",id:"name",placeholder:"epic-partylist",className:"mb-4",onChange:this.onChange,required:!0}),r.a.createElement(mt.a,{className:""},"Genres"),Bt(this.onChange),r.a.createElement("br",null),r.a.createElement("div",{className:"check"},r.a.createElement(mt.a,{check:!0,className:"float-right "},r.a.createElement(ct.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(xe.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),a}(n.Component),Qa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChangeImport=function(e){n.setState({importFilter:e.target.value})},n.handleChangeLoad=function(e){n.setState({loadFilter:e.target.value})},n.clearList=function(){n.setState({toBeImportedPlaylist:[]})},n.getAllSongs=function(e){e.forEach((function(e){return n.addToImport(e)}))},n.state={importFilter:"",loadFilter:"",tracks:n.props.tracks,toBeImportedPlaylist:[],modal:!0},n.addToImport=n.addToImport.bind(Object(p.a)(n)),n.removeFromPlaylist=n.removeFromPlaylist.bind(Object(p.a)(n)),n.addPlayListToColl=n.addPlayListToColl.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"addToImport",value:function(e){var t=Object.assign({},e);t.id=Math.random(),this.state.toBeImportedPlaylist.push(t),this.setState({updated:!0})}},{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({tracks:this.props.tracks})}},{key:"addPlayListToColl",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,s){var i,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.state.toBeImportedPlaylist,l=JSON.stringify({name:t,playlist:i,isPrivate:a,owner:s,genre:n}),e.next=4,K(l);case 4:if(c=e.sent){e.next=8;break}return Ye.a.notify(r.a.createElement("span",null,"An error making the playlist has occured. Please try again!"),{duration:2800}),e.abrupt("return");case 8:ae(c.data._id,t,a,s,c.data.createdAt,this.props.token),Ye.a.notify(r.a.createElement("span",null,"Playlist created!"),{duration:2800});case 10:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.importFilter,a=e.loadFilter,n=e.toBeImportedPlaylist,s=e.tracks;console.log(s);var i=t.toLowerCase(),l=n.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(i)}))})),o=a.toLowerCase(),c=s.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(o)}))}));return console.log(c),console.log(this.props),r.a.createElement("div",{className:"playlistEditor"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(ct.a,{value:t,onChange:this.handleChangeImport,placeholder:"Filter songs based on title..."}),r.a.createElement("span",{className:"float-left"},"Songs: ",l.length),r.a.createElement("br",null),r.a.createElement(za,{removeFromPlaylist:this.removeFromPlaylist,toBeImportedPlaylist:l}))),r.a.createElement(ve.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(ct.a,{value:a,onChange:this.handleChangeLoad,placeholder:"Filter songs based on title..."}),r.a.createElement("span",{className:"float-left"},"Songs: ",c.length),r.a.createElement("br",null),r.a.createElement(Ba,{tracks:c,addToImport:this.addToImport})))),r.a.createElement(be.a,{id:"lowerRow"},r.a.createElement(ve.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(Fa,{disabled:!this.state.toBeImportedPlaylist.length,owner:this.props.data.name,makePlaylist:this.addPlayListToColl}))),r.a.createElement(ve.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{onClick:this.clearList.bind(this)},"Clear list"))),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(xe.a,{onClick:this.getAllSongs.bind(this,c)},"Get all songs")))))}}]),a}(n.Component),_a=a(269),Va=a.n(_a),Ha=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!0,size:n.props.size||150},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Va.a,{size:this.state.size,color:this.props.color||"#c45a8e",loading:this.state.loading}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),a}(r.a.Component),Ya=(a(520),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),Ja=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSortChange=function(e){var t=e.target.value,a=n.state.playlists;switch(t){case"Latest":a.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));break;case"Last":a.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));break;case"By name":a.sort((function(e,t){return e.name>t.name?1:-1}));break;case"By owner":a.sort((function(e,t){return e.owner>t.owner?1:-1}))}console.log("Yeps..."),n.setState({sortedPlaylists:a})},n.onChange=function(e){var t=e.target.value;console.log(t),"All"===e.target.value&&(t=""),n.setState({genreFilter:t});var a=n.state.playlists,r=t.toLowerCase(),s=a.filter((function(e){return null===e||"undefined"===typeof e?a:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"_id"!==t&&e[t].toLowerCase().includes(r)}))}));n.setState({genreFilter:e.target.value,genreFilteredData:s})},n.handleChange=function(e){n.setState({filter:e.target.value})},n.state={playlists:[],token:"",filter:"",tracks:[],loading:!1,filteredData:[],genreFilteredData:[],sortedPlaylists:[],data:n.props.data},n.loadPlaylists=n.loadPlaylists.bind(Object(p.a)(n)),n.getPlayListById=n.getPlayListById.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"loadPlaylists",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingPlaylists:!0}),e.next=3,Ya(300);case 3:return e.next=5,G();case 5:t=e.sent,this.setState({playlists:t.data.Playlist.reverse(),filteredData:t.data.Playlist,genreFilteredData:t.data.Playlist,sortedPlaylists:t.data.Playlist,loadingPlaylists:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPlayListById",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Ya(2500);case 3:return e.next=5,te(t);case 5:a=e.sent,this.setState({tracks:a.data.playlist,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||(this.setState({user:this.props.data}),this.props.data&&this.setState({Userplaylists:this.props.data.playlists,data:this.props.data}))}},{key:"componentDidMount",value:function(){var e=me.currentUserValue;e&&e.token&&(this.setState({token:e.token,data:this.props.data}),this.loadPlaylists()),this.props.loadUser()}},{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.token,a=e.filter,n=this.state,s=n.genreFilteredData,i=n.sortedPlaylists,l=a.toLowerCase(),o=i.filter((function(e){return-1!==s.indexOf(e)})),c=o.filter((function(e){return null===e||"undefined"===typeof e?o:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"_id"!==t&&"createdAt"!==t&&"updatedAt"!==t&&e[t].toLowerCase().includes(l)}))}));return console.log(c),r.a.createElement("div",{className:"container-fluid homepage-div"},r.a.createElement("div",{id:"spinnerDiv"},this.state.loading?r.a.createElement(Ha,{color:"white"}):null),r.a.createElement("div",{id:"spinnerDiv2"},this.state.playlistsLoading?r.a.createElement(Ha,{size:50,color:"white"}):null),r.a.createElement("br",null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"4",sm:"4",className:"spotifypage1"},"Playlists to choose from :)!",r.a.createElement("br",null),"You can subscribe to public playlists or just load a playlist by clicking on the name and editing on the playlist-editor on the right side.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"inputDiv"},r.a.createElement(ct.a,{id:"filterId",value:a,onChange:this.handleChange,placeholder:"Filter playlists..."}),r.a.createElement(ct.a,{onChange:this.onSortChange,type:"select",name:"select",id:"exampleSelect"},r.a.createElement("option",{key:"Latest",value:"Latest"},"Latest"),r.a.createElement("option",{key:"Last",value:"Last"},"Last"),r.a.createElement("option",{key:"By name",value:"By name"},"By name"),r.a.createElement("option",{key:"By owner",value:"By owner"},"By owner")),Bt(this.onChange,!0)),r.a.createElement(qa,{userData:this.state.Userplaylists,loadPlaylists:this.loadPlaylists,token:t,playlists:c,getPlayListById:this.getPlayListById,loading:this.state.loadingPlaylists})),r.a.createElement(ve.a,{xs:"8",sm:"8",className:"spotifypage2"},'Chosen playlist. With options to A) Make a copy to your playlists B) If it\'s a yhteissoittolista: "subscribe"',r.a.createElement("div",{className:this.state.tracks.length?"playListEditorActive":"playListEditorNotActive"},this.state.tracks.length?r.a.createElement(Qa,{data:this.props.data,loadPlaylists:this.loadPlaylists,token:t,playlists:c,getPlayListById:this.getPlayListById,tracks:this.state.tracks}):null)))))}}]),a}(n.Component),Wa=a(59),Ga=Object(Wa.a)(),Ka=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e._id)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ke.a,{className:"card"},r.a.createElement(Ee.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(xe.a,{className:"btn btn-primary float-right btn-remove",color:"danger",onClick:this.deletePlaylist.bind(this,this.props),disabled:!0},"Delete:TODO")),r.a.createElement(ra.a,{style:{textAlign:"center"}},this.props.name))))}}]),a}(n.Component),Xa=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,s=n.props.playlists[t],i=s.title,l=s.artistName,o=s.uniqueId;return r.a.createElement("div",{key:o,style:a},r.a.createElement(Ka,{key:o,id:o,artistName:l,name:i}))},n.state={playlists:n.props.playlists},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({playlists:this.props.playlists})}},{key:"render",value:function(){var e=this.props.playlists;return console.log(e.length),r.a.createElement("div",null,r.a.createElement(Ot.b,{width:470,height:550,rowCount:e.length,rowHeight:82,rowRenderer:this.renderRow}))}}]),a}(n.Component),Za=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1},e.toggle=function(){e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(Lt.a)({},t.target.name,t.target.value))},e.onSubmit=function(e){e.preventDefault()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.playlists;return r.a.createElement("div",null,r.a.createElement(ze.a,{isOpen:this.props.isOpen,toggle:this.props.toggle},r.a.createElement(Fe.a,{className:"mb-4",toggle:this.props.toggle},this.props.name),r.a.createElement(Qe.a,null,r.a.createElement("p",{className:"formText text-center"},"Hello"),r.a.createElement(Xa,{playlists:e||[]}))))}}]),a}(n.Component),$a=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleList=function(){n.setState({modal:!n.state.modal})},n.toggle=function(){n.setState({modal:!n.state.modal})},n.state={modal:!1,loading:!1},n.deletePlaylist=n.deletePlaylist.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"deletePlaylist",value:function(){console.log("Hey"),this.setState({loading:!0}),this.props.deletePlaylist(this.props.id)}},{key:"clickOnPlayList",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,te(this.props.id);case 3:t=e.sent,this.setState({playlist:t.data.playlist,playlistName:t.data.name,playlistId:t.data._id,loading:!1,private:t.data.private}),this.toggleList();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ke.a,{className:"card"},r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"6",sm:"6"},r.a.createElement(xe.a,{href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(we.a,null,this.props.name))),r.a.createElement(ve.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"text-muted"},"Created at:"," ",r.a.createElement(Ua.a,{format:"DD-MM-YYYY HH:mm"},this.props.createdAt))),r.a.createElement(ve.a,{xs:"2",sm:"2"},r.a.createElement(xe.a,{color:"secondary",onClick:this.deletePlaylist.bind(this),className:this.state.loading?"loading btn btn-primary float-left":"btn btn-primary float-left"},this.state.loading?"Deleting...":"Delete"))))),r.a.createElement(Za,{isOpen:this.state.modal,toggle:this.toggle,name:this.state.playlistName,playlists:this.state.playlist}))}}]),a}(n.Component),en=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).renderRow=function(e){var t=e.index,a=e.style,s=n.props.playlists[t],i=s.name,l=s._id,o=s.createdAt;return r.a.createElement("div",{key:l,style:a},r.a.createElement($a,{loadPlaylists:n.props.loadPlaylists,deletePlaylist:n.props.deletePlaylist,token:n.props.token,createdAt:o,id:l,name:i}))},n.state={playlists:n.props.playlists,token:n.props.token},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){Ae()(this.props,e)||this.setState({playlists:this.props.playlists,token:this.props.token})}},{key:"render",value:function(){var e=this,t=this.state.playlists;return r.a.createElement("div",null,"All playlists",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ot.a,null,(function(a){var n=a.width;return r.a.createElement(Ot.b,{width:n,height:700,rowCount:t.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),a}(n.Component),tn=(a(521),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={playlists:[],token:""},n.loadPlaylists=n.loadPlaylists.bind(Object(p.a)(n)),n.deletePlaylist=n.deletePlaylist.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"loadPlaylists",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("I shouldn't"),e.next=3,G();case 3:t=e.sent,this.setState({playlists:t.data.Playlist});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:this.loadPlaylists();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=me.currentUserValue;e&&e.token&&(this.setState({token:e.token}),this.loadPlaylists())}},{key:"render",value:function(){var e=this.state,t=e.token,a=e.playlists;return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid homepage-div"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{xs:"2",sm:"2",className:"adminpage1"},"ds"),r.a.createElement(ve.a,{xs:"6",sm:"6",className:"adminpage2"},r.a.createElement(en,{loadPlaylists:this.loadPlaylists,token:t,playlists:a,deletePlaylist:this.deletePlaylist})),r.a.createElement(ve.a,{xs:"4",sm:"4",className:"adminpage3"},"d"))))}}]),a}(n.Component)),an=function(){return r.a.createElement("h3",null,"404 - Not found")},nn=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={currentUserInfo:null,isAuth:!1},n.loadUser=n.loadUser.bind(Object(p.a)(n)),n.logout=n.logout.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"loadUser",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.loadUser(t);case 2:null!==(a=e.sent)?this.setState({currentUserInfo:a,isAuth:!0}):this.setState({currentUserInfo:null,isAuth:!1,token:null}),this.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;me.currentUser.subscribe((function(t){t&&(e.setState({token:t.token}),e.loadUser())})),se(),this.interval=setInterval((function(){se()}),9e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"logout",value:function(){me.logout(),Ga.push("/login"),this.setState({token:null})}},{key:"render",value:function(){var e=this.state,t=e.currentUserInfo,a=e.token;return r.a.createElement("div",{className:"App wrapper"},r.a.createElement(y.c,{history:Ga},a&&r.a.createElement(fe,{darkMode:!0,logout:this.logout}),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/login",component:ba}),r.a.createElement(Ta,{path:"/",data:t,darkMode:!0,loadUser:this.loadUser,exact:!0,component:ya}),r.a.createElement(Ta,{path:"/spotify",data:t,component:Ca}),r.a.createElement(Ta,{path:"/playlists",data:t,component:Ja,loadUser:this.loadUser}),r.a.createElement(Ta,{path:"/admin",data:t,roles:["Admin"],component:tn}),r.a.createElement(y.b,{component:an}))))}}]),a}(n.Component);a(522),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(nn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[272,1,2]]]);
//# sourceMappingURL=main.ef245d54.chunk.js.map