{"version":3,"sources":["components/functions/handleError.js","components/functions/handleResponse.js","components/functions/functions.js","components/functions/authenthication.js","components/navbar/navbar-component.jsx","components/badge/Badge.tsx","components/videolist/videoitem.jsx","components/spinner/spinner.jsx","components/spinner/spinner4.jsx","components/modal/Modal.jsx","components/modal/artistmodal/ArtistModal.jsx","components/videolist/videolist.jsx","components/search/search.jsx","components/queue/queueitem.jsx","components/queue/queueList.jsx","components/queue/queue.jsx","components/modal/allsongsmodal/Modal.jsx","components/playlist/save/saveModal.jsx","components/functions/genres.js","components/playlist/createNew/createNew.jsx","components/playlist/playlistitem.jsx","components/playlist/playlistItemsList.jsx","components/playlist/playlist.jsx","components/sidebar/Playlist.jsx","components/sidebar/sidebar.tsx","components/functions/nameGenerator.js","components/classes/SongClass.tsx","components/player/history/history-item.js","components/player/history/History-modal.js","components/mediaplayer/duration.js","components/mediaplayer/mediaplayer.jsx","components/homepage/homepage-component.tsx","components/login/login-component.jsx","components/spotify/spotifyplaylist/Playlistmodal/PlaylistModalItem.jsx","components/spotify/spotifyplaylist/Playlistmodal/loadedList.jsx","components/spotify/spotifyplaylist/Playlistmodal/importList.jsx","components/spotify/spotifyplaylist/Playlistmodal/PlaylistModal.jsx","components/spotify/spotifyplaylist/spotifPlaylistitem.jsx","components/spotify/spotifyplaylist/spotifyPlaylist.jsx","components/spotify/discover/spotifySearchModal.jsx","components/spotify/spotify-component.jsx","components/functions/PrivateRoute.js","components/playlistGrabber/playListItem.jsx","components/spinner/spinner3.jsx","components/playlistGrabber/playlistsList.jsx","components/playlistGrabber/playlistEditor/components/trackItem.jsx","components/playlistGrabber/playlistEditor/components/loadedList.jsx","components/playlistGrabber/playlistEditor/components/importList.jsx","components/playlistGrabber/playlistEditor/components/createPlayListModal.jsx","components/playlistGrabber/playlistEditor/playlistEditor.jsx","components/spinner/spinnerNo2.jsx","components/playlistGrabber/publicPlaylists.jsx","components/History.js","components/admin/PlayListItem.jsx","components/admin/ChosenPlaylist.jsx","components/admin/AdminPlaylistModal.jsx","components/admin/AdminPlaylistItem.jsx","components/admin/PlaylistsList.jsx","components/admin/Admin.jsx","App.jsx","serviceWorker.js","index.js"],"names":["handleError","err","response","status","authenticationService","logout","window","location","reload","handleResponse","res","key","API","axios","defaults","timeout","handleScrape","items","a","post","tokenConfig","catch","data","handleSubmit","termFromSearch","config","headers","params","item","currentUser","currentUserValue","token","get","then","array","handleSubmit_db","autocomplete","handleSpotifySearchFromYoutube","part","maxResults","q","console","log","getContentDetails","ListOfIds","id","getSpotifyUserId","Authorization","getSpotifyUsersPlaylists","getRequestWithToken","address","getPlaylistTracks","searchSpotifyPlaylists","term","getPlaylists","makePlaylist","body","updatePlaylist","put","addSongToPlaylist","updatePlaylistSongTime","deletePlaylist","delete","getPlayListById","addUserPlaylist","playlistid","name","priv","owner","createdAt","JSON","stringify","playlistId","playlistName","private","deleteUserPlaylist","updateUserPlaylist","decode","jwt","diff","Math","floor","Date","getTime","exp","newToken","searchArtists","query","getArtistData","getPlaylist","getAlbum","getArtistAlbumData","browseId","parse","localStorage","getItem","removeItem","currentUserSubject","BehaviorSubject","login","next","signup","newUser","signUpName","email","signUpEmail","role","password","signUpPassword","setItem","loadUser","asObservable","value","msg","NavbarComponent","props","state","isOpen","prevScrollpos","pageYOffset","onscroll","currentScrollPos","document","getElementById","style","top","Navbar","className","this","darkMode","expand","NavbarBrand","href","NavbarToggler","onClick","setState","Collapse","navbar","Nav","NavItem","NavLink","target","user","NavbarText","Component","CustomBadge","Badge","padding","borderRadius","margin","color","title","Videoitem","onAddClick","addFunc","uniqueId","random","videoId","duration","publishedAt","channelTitle","artists","thumbnail","thumbnails","album","onPlayClick","onPlay","onAddToPlaylist","AddToPlaylist","date","now","playNextClick","playNext","albums","subscribers","views","description","songs","loading","nextProps","nextState","isEqual","e","albumData","length","results","singles","RenderCard","resultType","Card","onDoubleClick","toggleArtistModal","artist","CardBody","Row","Col","xs","sm","toggleArtistModalItem","height","src","url","width","position","CardText","icon","faSpinner","toggleAlbumModal","bind","size","faPlay","type","cursor","Button","RenderArtists","map","index","RenderAlbums","LoadingSpinner","React","MyAwesomeMenu","hide","menu","current","createRef","ref","onAdd","label","disabled","toggleModal","playlists","playlist","_id","pad","string","slice","format","seconds","hh","getUTCHours","mm","getUTCMinutes","ss","getUTCSeconds","ms","Promise","resolve","setTimeout","Song","alt","RenderArtists2","filter","includes","ModalExample","useState","dropdownOpen","setOpen","setLoading","addingPlaylist","setAddingPlaylist","show","albumTracks","setalbumTracks","albumArtists","setArtists","albumDescription","setAlbumDescription","albumTitle","setAlbumTitle","playlistVersionOfTracks","setPlaylistVersionofTracks","setthumbnails","useEffect","getalbumTracks","albumBrowseId","tracks","track","push","lengthMs","addPlayList","all","loadPlaylist","toaster","notify","PlayLists","DropdownItem","unshift","zIndex","Modal","toggle","backdrop","keyboard","ModalHeader","textAlign","cssModule","ModalBody","display","playPlaylist","ButtonDropdown","DropdownToggle","caret","DropdownMenu","addPlaylistToQueue","lines","more","less","anchorClass","expanded","onContextMenu","event","preventDefault","contextMenu","handleContextMenu","onDeleteFromPlaylist","UpdateCurrentPlaylist2","ModalFooter","artistName","artistThumbnails","artistSubscribers","toggleAllSongsModal","artistSongs","artistViews","artistAlbums","artistDescription","Videolist","showArtistModal","artistSingles","showModal","albumThumbnails","albumYear","year","toggleArtistModal2","error","errorText","prevProps","ArtistModal","classNames","Search","text","dbtext","activeTab","autoCompleteItems","checked","onChangetext","onSelect","val","submit","getArtists","submitDb","handleDB","i","setTab","boxChange","evt","tabs","classnames","active","TabContent","TabPane","tabId","onSubmit","InputGroup","autoHighlight","renderInput","placeholder","wrapperStyle","getItemValue","menuStyle","boxShadow","background","fontSize","overflow","maxHeight","renderItem","highlighted","backgroundColor","onChange","InputGroupAddon","addonType","FormGroup","check","Label","Input","Queueitem","editMode","onRemove","onRemoveClick","SortableItem","sortableElement","QueueList","renderRow","queue","getRef","rowHeight","rowRenderer","rowCount","SortableVirtualList","SortableContainer","Queue","registerListRef","listInstance","List","onSortEnd","oldIndex","newIndex","arrayMove","setQueue","recomputeRowHeights","forceUpdate","animation","shuffleQueue","clearQueue","isShuffle","Container","onAnimationEnd","disableHeight","distance","allSongs","SaveModal","modal","Updateplaylist","saveName","isPrivate","playlistOwner","userName","userRole","Form","for","GenresOptions","usedOnFilter","genreItems","genre","CreateNew","select","Playlistitem","selected","onDeleteClick","onMouseOver","setSelected","onMouseDown","onMouseLeave","lg","PlaylistItemsList","Playlist","handleChange","setPlaylist","updateTimer2","clearTimeout","playlistname","playlist2","UpdatePlayListStatus","updateTimer","UpdateCurrentPlaylist","filteredData","reverse","splice","lowercasedFilter","toLowerCase","Object","keys","some","onKeyDown","substring","foo","deletePlayList","Sidebar","toggletip","tooltipOpen","Tooltip","placement","getPlaylists2","faRetweet","randomInt","max","min","generateName","name1","name2","HistoryItem","split","flexDirection","CardTitle","HistoryModal","history","clearList","Duration","dateTime","round","MediaPlayer","handleShuffle","setShuffle","load","played","loaded","pip","setMute","muted","clearHistory","handlePlayPause","playing","setPlaying","handlePlayNext","handlePlay","addToHistory","historyToPlayFrom","handlePlayPrevious","shift","setTitle","player","seekTo","durationFromObject","setUrl","setCurrentSong","song","shuffle","setArtist","currentSong","handleVolumeChange","volume","parseFloat","handlePause","handleEnded","itemObject","assign","renderLoadButton","shuffleRandomTip","handleStartOver","seekTo0","handleDuration","handleSeekMouseDown","seeking","handleSeekChange","handleSeekMouseUp","handleProgress","controls","light","playbackRate","loop","Error","onPause","onEnded","onError","onDuration","onProgress","CustomInput","step","onMouseUp","faPause","faForward","faBackward","faRandom","faVolumeMute","faVolumeUp","stringSimilarity","require","Homepage","browseid","showAllSongsModal","loadingAllSongs","toggleAllSongsModal123","isArtist","result","sortBySimilarity","similarity","compareTwoStrings","sort","b","itemCopy","prevState","focusedTab","onDelete","contentDetails","Allplaylists","updated","loadingPlaylists","loadingPlaylist","dbitems","playlistIndex","array1","array2","Array","j","playlistitems","itemArray","alert","nameGenerator","UpdatePlaylistInParameters","tries","listOfIds","join","getPlayList","handleSubmitdb","jwtDecode","togglePanel","signUpSubmit","signUp","signInSubmit","SignUpError","username","autoComplete","required","PlaylistModalItem","imported","addToImport","removeFromPlaylist","LoadedList","isScrolling","isVisible","ImportList","toBeImportedPlaylist","importPlaylistToApp","PlaylistModal","imageUrl","trackRef","totalTracks","ownerName","chosenListsTracks","importCount","progressValue","notFoundArray","moveAllToImport","webScrape","tracksFromYoutube","numberOfTracks","batchSize","left","forEach","respond","trackObject","snippet","maxWidth","Progress","animated","PlaylistItem","toggleList","clickOnPlayList","dataArray","nextData","concat","nameArray","tempArtistArray","idArray","albumArray","createdAtArray","added_at","SpotifyPlaylist","onSortChange","sorted","userPlaylists","sortedPlaylists","Userplaylists","finalSorted","indexOf","DiscoveryModal","search","onChangeSearch","Spotify","auth","display_name","user_id","nextPlaylists","chosenPlaylist","getUserId","getPlayListData","imageArray","trackRefArray","ownerArray","trackTotalArray","images","total","dataObject","PrivateRoute","component","roles","rest","render","to","pathname","from","PlayListItem","currentUserInfo","Array2","element","unsubscribe","subscribe","PlaylistsList","loadPlaylists","bindListRef","list","userData","forceUpdateGrid","TrackItem","handleChangeImport","importFilter","handleChangeLoad","loadFilter","getAllSongs","LoadfilteredData","addPlayListToColl","lowercasedFilterImport","importfilteredData","lowercasedFilterLoad","PublicPlaylists","genreFilter","genreFilteredData","playlistsLoading","createBrowserHistory","Link","ChosenPlaylist","AdminPlaylistModal","AdminPlaylistItem","AdminPage","NoMatchPage","App","isAuth","res2","x","interval","setInterval","clearInterval","path","Login","exact","HomePage","Admin","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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a,WAAW,aAAa,QAAQ,QAAQ,OAAO,cAAc,UAAU,OAAO,YAAY,SAAS,SAAS,UAAU,OAAO,WAAW,OAAO,SAAS,YAAY,OAAO,UAAU,SAAS,UAAU,WAAW,OAAO,cAAc,YAAY,UAAU,YAAY,WAAW,aAAa,UAAU,aAAa,YAAY,aAAa,YAAY,YAAY,QAAQ,SAAS,aAAa,YAAY,cAAc,WAAW,WAAW,aAAa,UAAU,YAAY,YAAY,UAAU,WAAW,MAAM,UAAU,YAAY,SAAS,aAAa,WAAW,aAAa,aAAa,WAAW,SAAS,UAAU,YAAY,SAAS,QAAQ,YAAY,YAAY,SAAS,UAAU,WAAW,YAAY,QAAQ,QAAQ,SAAS,SAAS,YAAY,OAAO,SAAS,WAAW,SAAS,SAAS,MAAM,OAAO,OAAO,UAAU,OAAO,QAAQ,UAAU,QAAQ,OAAO,aAAa,WAAW,SAAS,WAAW,YAAY,UAAU,SAAS,UAAU,WAAW,UAAU,aAAa,aAAa,cAAc,cAAc,UAAU,YAAY,QAAQ,YAAY,aAAa,YAAY,cAAc,WAAW,UAAU,SAAS,UAAU,QAAQ,aAAa,YAAY,WAAW,UAAU,WAAW,OAAO,YAAY,cAAc,QAAQ,OAAO,UAAU,YAAY,YAAY,YAAY,YAAY,UAAU,WAAW,SAAS,YAAY,cAAc,SAAS,aAAa,cAAc,cAAc,cAAc,WAAW,UAAU,QAAQ,OAAO,WAAW,OAAO,QAAQ,WAAW,SAAS,QAAQ,YAAY,MAAM,UAAU,YAAY,UAAU,OAAO,MAAM,QAAQ,WAAW,YAAY,WAAW,UAAU,WAAW,SAAS,SAAS,SAAS,WAAW,MAAM,SAAS,SAAS,OAAO,WAAW,OAAO,QAAQ,YAAY,UAAU,QAAQ,QAAQ,aAAa,SAAS,OAAO,SAAS,WAAW,aAAa,SAAS,WAAW,UAAU,SAAS,QAAQ,YAAY,UAAU,OAAO,YAAY,UAAU,WAAW,SAAS,SAAS,WAAW,aAAa,YAAY,WAAW,QAAQ,QAAQ,SAAS,OAAO,SAAS,QAAQ,WAAW,WAAW,aAAa,cAAc,SAAS,SAAS,SAAS,YAAY,QAAQ,SAAS,SAAS,SAAS,WAAW,OAAO,WAAW,aAAa,QAAQ,QAAQ,QAAQ,aAAa,UAAU,UAAU,WAAW,SAAS,UAAU,QAAQ,QAAQ,WAAW,SAAS,SAAS,YAAY,UAAU,QAAQ,WAAW,UAA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QAAQ,OAAO,OAAO,MAAM,QAAQ,MAAM,QAAQ,WAAW,OAAO,SAAS,MAAM,SAAS,QAAQ,QAAQ,WAAW,WAAW,QAAQ,UAAU,QAAQ,MAAM,OAAO,QAAQ,MAAM,QAAQ,OAAO,OAAO,OAAO,SAAS,QAAQ,QAAQ,SAAS,OAAO,OAAO,QAAQ,MAAM,UAAU,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,OAAO,SAAS,WAAW,QAAQ,OAAO,QAAQ,QAAQ,SAAS,MAAM,MAAM,OAAO,SAAS,SAAS,UAAU,WAAW,QAAQ,OAAO,QAAQ,SAAS,OAAO,QAAQ,MAAM,OAAO,UAAU,QAAQ,OAAO,QAAQ,UAAU,SAAS,SAAS,MAAM,QAAQ,SAAS,YAAY,QAAQ,UAAU,UAAU,SAAS,UAAU,OAAO,WAAW,UAAU,WAAW,OAAO,OAAO,MAAM,QAAQ,MAAM,MAAM,SAAS,QAAQ,MAAM,OAAO,SAAS,OAAO,QAAQ,QAAQ,MAAM,OAAO,QAAQ,OAAO,SAAS,UAAU,WAAW,MAAM,WAAW,MAAM,OAAO,WAAW,WAAW,SAAS,YAAY,UAAU,MAAM,QAAQ,QAAQ,OAAO,QAAQ,OAAO,OAAO,QAAQ,QAAQ,SAAS,OAAO,SAAS,YAAY,OAAO,UAAU,OAAO,aAAa,SAAS,QAAQ,UAAU,MAAM,QAAQ,SAAS,SAAS,OAAO,SAAS,UAAU,QAAQ,OAAO,OAAO,UAAU,UAAU,SAAS,UAAU,UAAU,MAAM,OAAO,QAAQ,OAAO,YAAY,UAAU,SAAS,MAAM,OAAO,MAAM,UAAU,QAAQ,SAAS,UAAU,OAAO,SAAS,OAAO,OAAO,OAAO,QAAQ,UAAU,YAAY,SAAS,OAAO,OAAO,QAAQ,SAAS,OAAO,QAAQ,WAAW,OAAO,SAAS,QAAQ,UAAU,OAAO,SAAS,QAAQ,QAAQ,QAAQ,OAAO,QAAQ,SAAS,QAAQ,SAAS,OAAO,MAAM,YAAY,SAAS,OAAO,OAAO,OAAO,SAAS,WAAW,UAAU,OAAO,UAAU,QAAQ,QAAQ,SAAS,OAAO,SAAS,SAAS,SAAS,WAAW,OAAO,SAAS,SAAS,SAAS,UAAU,QAAQ,YAAY,WAAW,MAAM,QAAQ,QAAQ,QAAQ,UAAU,OAAO,SAAS,WAAW,YAAY,OAAO,OAAO,WAAW,MAAM,SAAS,OAAO,UAAU,QAAQ,SAAS,OAAO,OAAO,UAAU,OAAO,OAAO,SAAS,OAAO,aAAa,QAAQ,OAAO,SAAS,QAAQ,QAAQ,QAAQ,SAAS,SAAS,MAAM,WAAW,UAAU,OAAO,YAAY,SAAS,QAAQ,OAAO,QAAQ,UAAU,OAAO,MAAM,SAAS,MAAM,QAAQ,YAAY,WAAW,OAAO,SAAS,SAAS,SAAS,SAAS,OAAO,OAAO,OAAO,QAAQ,aAAa,OAAO,OAAO,UAAU,OAAO,WAAW,UAAU,MAAM,QAAQ,SAAS,QAAQ,SAAS,OAAO,QAAQ,OAAO,YAAY,aAAa,WAAW,SAAS,SAAS,MAAM,QAAQ,OAAO,QAAQ,SAAS,MAAM,UAAU,OAAO,QAAQ,OAAO,OAAO,QAAQ,QAAQ,OAAO,SAAS,QAAQ,YAAY,OAAO,QAAQ,YAAY,MAAM,QAAQ,QAAQ,QAAQ,QAAQ,gBAAgB,QAAQ,OAAO,SAAS,OAAO,YAAY,MAAM,OAAO,UAAU,OAAO,WAAW,QAAQ,QAAQ,MAAM,OAAO,SAAS,OAAO,OAAO,SAAS,QAAQ,OAAO,OAAO,QAAQ,OAAO,WAAW,YAAY,MAAM,OAAO,UAAU,SAAS,QAAQ,MAAM,WAAW,OAAO,OAAO,SAAS,SAAS,YAAY,OAAO,OAAO,YAAY,QAAQ,UAAU,MAAM,SAAS,UAAU,OAAO,UAAU,UAAU,UAAU,OAAO,UAAU,WAAW,WAAW,YAAY,MAAM,SAAS,UAAU,MAAM,SAAS,MAAM,OAAO,SAAS,OAAO,OAAO,QAAQ,WAAW,YAAY,QAAQ,OAAO,YAAY,UAAU,YAAY,OAAO,QAAQ,MAAM,QAAQ,UAAU,SAAS,QAAQ,OAAO,UAAU,OAAO,UAAU,WAAW,OAAO,QAAQ,WAAW,UAAU,UAAU,QAAQ,SAAS,QAAQ,OAAO,SAAS,OAAO,WAAW,WAAW,QAAQ,UAAU,SAAS,UAAU,QAAQ,WAAW,OAAO,QAAQ,OAAO,MAAM,QAAQ,YAAY,MAAM,OAAO,SAAS,SAAS,SAAS,UAAU,QAAQ,QAAQ,OAAO,QAAQ,QAAQ,WAAW,QAAQ,OAAO,SAAS,QAAQ,MAAM,OAAO,QAAQ,OAAO,QAAQ,QAAQ,YAAY,SAAS,OAAO,OAAO,SAAS,UAAU,SAAS,UAAU,MAAM,OAAO,QAAQ,UAAU,SAAS,QAAQ,UAAU,OAAO,SAAS,SAAS,OAAO,QAAQ,SAA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","file":"static/js/main.ea24b9bc.chunk.js","sourcesContent":["import { authenticationService } from \"./authenthication\";\r\n\r\nexport function handleError(err) {\r\n  if (typeof err.response === \"undefined\") {\r\n    return \"timeout\";\r\n  }\r\n\r\n  if (err.response.status === 402 || err.response.status === 401) {\r\n    // alert(\r\n    //  \"You are unauthorized, please login again. If this issue persists, please be in contact with the administrators.\"\r\n    //);\r\n    authenticationService.logout();\r\n    window.location.reload(true);\r\n  }\r\n  return err.response;\r\n}\r\n","export function handleResponse(res) {\r\n  return res;\r\n}\r\n","import axios from \"axios\";\r\n\r\nimport { authenticationService } from \"./authenthication\";\r\nimport { handleError } from \"./handleError\";\r\nimport { handleResponse } from \"./handleResponse\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst key = \"AIzaSyCc5tyizZ6BVh1XtAv_ItjIlS7QMKWhe0c\"; //spotify\r\nconst API = \"https://tubemusicbackend.herokuapp.com\";\r\n//const API = \"http://localhost:8080\";\r\n//const clientId = \"dc20085012814f3d8cab4b36a4144393\"; youtube\r\naxios.defaults.timeout = 25000;\r\nexport const handleScrape = async (items) => {\r\n  let res = await axios\r\n    .post(\r\n      API + \"/scrape/scrape\",\r\n      {\r\n        items: items,\r\n      },\r\n      tokenConfig()\r\n    )\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n\r\n  if (res) {\r\n    return res.data;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n//////////////////////////////////////////////////////////\r\nexport const handleSubmit = async (termFromSearch) => {\r\n  //SETUPPING HEADERS ETC.\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    params: {\r\n      item: termFromSearch,\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser.token) {\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n  }\r\n  /////////\r\n  let res = await axios\r\n    .get(API + \"/scrape/search\", config)\r\n    //.get(\"http://localhost:8080/scrape/search\", config)\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n\r\n  if (res) {\r\n    return res.data.array;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const handleSubmit_db = async (termFromSearch) => {\r\n  //SETUPPING HEADERS ETC.\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    params: {\r\n      item: termFromSearch,\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser.token) {\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n  }\r\n  /////////\r\n  let res = await axios\r\n    .get(API + \"/scrape/dbsearch\", config)\r\n    //.get(\"http://localhost:8080/scrape/search\", config)\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n\r\n  if (res) {\r\n    return res.data.array;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const autocomplete = async (termFromSearch) => {\r\n  //SETUPPING HEADERS ETC.\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    params: {\r\n      item: termFromSearch,\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser.token) {\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n  }\r\n  /////////\r\n  let res = await axios\r\n    .get(API + \"/scrape/autocomplete\", config)\r\n    //.get(\"http://localhost:8080/scrape/search\", config)\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n\r\n  if (res) {\r\n    return res.data.data;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const handleSubmit2 = async (termFromSearch) => {\r\n  let res = await axios\r\n    .get(\"https://www.googleapis.com/youtube/v3/search\", {\r\n      params: {\r\n        part: \"snippet\",\r\n        maxResults: 30,\r\n        key: key,\r\n        q: termFromSearch,\r\n      },\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res) {\r\n    return res.data.items;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const handleSpotifySearchFromYoutube = async (termFromSearch) => {\r\n  //OLD\r\n  let res = await axios\r\n    .get(\"https://www.googleapis.com/youtube/v3/search\", {\r\n      params: {\r\n        part: \"snippet\",\r\n        maxResults: 1,\r\n        key: key,\r\n        q: termFromSearch,\r\n      },\r\n    })\r\n    .catch((err) => console.log(err));\r\n\r\n  if (res) {\r\n    return res.data.items;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const getContentDetails = async (ListOfIds) => {\r\n  let res = await axios.get(\"https://www.googleapis.com/youtube/v3/videos\", {\r\n    params: {\r\n      part: \"contentDetails\",\r\n      id: ListOfIds,\r\n      key: key,\r\n    },\r\n  });\r\n  return res.data.items;\r\n};\r\nexport const getSpotifyUserId = async (token) => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  };\r\n  let res = await axios.get(\"https://api.spotify.com/v1/me\", config);\r\n\r\n  return res;\r\n};\r\nexport const getSpotifyUsersPlaylists = async (token) => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  };\r\n  let res = await axios.get(\"https://api.spotify.com/v1/me/playlists\", config);\r\n  return res.data;\r\n};\r\nexport const getRequestWithToken = async (token, address) => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  };\r\n  let res = await axios.get(address, config);\r\n  return res.data;\r\n};\r\nexport const getPlaylistTracks = async (id, token) => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  };\r\n  let res = await axios.get(\r\n    `https://api.spotify.com/v1/playlists/${id}/tracks`,\r\n    config\r\n  );\r\n\r\n  return res.data;\r\n};\r\nexport const searchSpotifyPlaylists = async (term, token) => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  };\r\n  let res = await axios.get(\r\n    `https://api.spotify.com/v1/search?q=${term}&type=playlist&limit=30`,\r\n    config\r\n  );\r\n  return res.data;\r\n};\r\n\r\n/* -------------------------------------------------------------------------------*/\r\n/* -------------------------------------------------------------------------------*/\r\n//////////////          SPOTIFY & YOUTUBE API ABOVE ////////////////////////\r\n/* -------------------------------------------------------------------------------*/\r\n/* -------------------------------------------------------------------------------*/\r\nexport const getPlaylists = async () => {\r\n  let res = await axios.get(API + \"/playlists\", tokenConfig()).catch((err) => {\r\n    handleError(err);\r\n  });\r\n\r\n  return res;\r\n};\r\n/*export const getPlaylists = async () => {\r\n  let res = await axios.get(API+`/playlists\");\r\n  return res;\r\n};*/\r\nexport const setTitle = (title) => {\r\n  if (typeof title !== \"string\") {\r\n    throw new Error(\"Title should be an string\");\r\n  }\r\n  document.title = title;\r\n};\r\nexport const makePlaylist = async (body) => {\r\n  let res = await axios\r\n    .post(API + \"/playlists/create\", body, tokenConfig())\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n\r\n  return res;\r\n};\r\n\r\nexport const updatePlaylist = async (body, id) => {\r\n  let res = await axios.put(\r\n    API + `/playlists/update/${id}`,\r\n    body,\r\n    tokenConfig()\r\n  );\r\n  return res;\r\n};\r\nexport const addSongToPlaylist = async (body, id) => {\r\n  let res = await axios.put(\r\n    API + `/playlists/additem/${id}`,\r\n    body,\r\n    tokenConfig()\r\n  );\r\n  return res;\r\n};\r\nexport const updatePlaylistSongTime = async (body, id) => {\r\n  let res = await axios.put(\r\n    API + `/playlists/updatetime/${id}`,\r\n    body,\r\n    tokenConfig()\r\n  );\r\n  return res;\r\n};\r\nexport const deletePlaylist = async (id) => {\r\n  let res = await axios\r\n    .delete(API + `/playlists/delete/${id}`, tokenConfig())\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n  return res;\r\n};\r\nexport const getPlayListById = async (id) => {\r\n  let res = await axios\r\n    .get(API + `/playlists/find/${id}`, tokenConfig())\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n  return res;\r\n};\r\n\r\nexport const addUserPlaylist = async (\r\n  playlistid,\r\n  name,\r\n  priv,\r\n  owner,\r\n  createdAt,\r\n  token\r\n) => {\r\n  const body = JSON.stringify({\r\n    playlistId: playlistid,\r\n    playlistName: name,\r\n    private: priv,\r\n    owner: owner,\r\n    createdAt: createdAt,\r\n  });\r\n  await axios\r\n    .put(API + \"/users/addPlaylist\", body, tokenConfig())\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n};\r\nexport const deleteUserPlaylist = async (playlistid, token) => {\r\n  let res = await axios\r\n    .delete(API + `/users/deletePlaylist${playlistid}`, tokenConfig())\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n  return res;\r\n};\r\nexport const updateUserPlaylist = async (playlistid, name, priv, token) => {\r\n  const body = JSON.stringify({\r\n    playlistId: playlistid,\r\n    playlistName: name,\r\n    private: priv,\r\n  });\r\n  await axios\r\n    .put(API + `/users/editPlaylist${playlistid}`, body, tokenConfig())\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n};\r\nexport const tokenConfig = () => {\r\n  //gets called to each action needing auth\r\n  //retrieves token\r\n  //checks token if it's going to expire soon, if so, renew that token\r\n  //returns token as config header to the calls\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser) {\r\n    const decode = jwt.decode(currentUser.token);\r\n    if (!decode) {\r\n      authenticationService.logout();\r\n      window.location.reload(true);\r\n    }\r\n    const diff = Math.floor(new Date().getTime() / 1000) - decode.exp;\r\n\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n    if ((diff > -(60 * 65 * 1) + 30) & (diff < -10)) {\r\n      //if token will expire in 1 hr 5mins 30 seconds && will not expire in 10seconds\r\n      //issue new Token\r\n      axios.get(API + \"/auth/renew\", config).then((res) => {\r\n        authenticationService.newToken(res.data);\r\n      });\r\n    }\r\n  }\r\n  return config;\r\n};\r\n/** */\r\n\r\nexport const searchArtists = async (query) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    params: {\r\n      query: query,\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser.token) {\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n  }\r\n  let res = await axios\r\n    .get(API + \"/scrape/search_artists\", config)\r\n    //.get(\"http://localhost:8080/scrape/search\", config)\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n  if (res) {\r\n    return res.data.array;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const getArtistData = async (query) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    params: {\r\n      query: query,\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser.token) {\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n  }\r\n  let res = await axios\r\n    .get(API + \"/scrape/get_artist_data\", config)\r\n    //.get(\"http://localhost:8080/scrape/search\", config)\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n  if (res) {\r\n    return res.data.array;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const getPlaylist = async (query) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    params: {\r\n      query: query,\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser.token) {\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n  }\r\n  let res = await axios\r\n    .get(API + \"/scrape/get_playlist\", config)\r\n    //.get(\"http://localhost:8080/scrape/search\", config)\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n\r\n  if (res) {\r\n    return res.data.array;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const getAlbum = async (query) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    params: {\r\n      query: query,\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser.token) {\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n  }\r\n  let res = await axios\r\n    .get(API + \"/scrape/get_album\", config)\r\n    //.get(\"http://localhost:8080/scrape/search\", config)\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n\r\n  if (res) {\r\n    return res.data.array;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nexport const getArtistAlbumData = async (browseId, params) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    params: {\r\n      browseId: browseId,\r\n      params: params,\r\n    },\r\n  };\r\n  const currentUser = authenticationService.currentUserValue;\r\n  if (currentUser.token) {\r\n    config.headers[\"x-auth-token\"] = currentUser.token;\r\n  }\r\n  let res = await axios\r\n    .get(API + \"/scrape/get_artist_albums\", config)\r\n    //.get(\"http://localhost:8080/scrape/search\", config)\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n\r\n  if (res) {\r\n    return res.data.array;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { handleError } from \"./handleError\";\r\nimport { tokenConfig } from \"./functions\";\r\nconst API = \"https://tubemusicbackend.herokuapp.com\";\r\n//const API = \"http://localhost:8080\";\r\ntry {\r\n  //in case that the token item is invalid, we delete it\r\n  JSON.parse(localStorage.getItem(\"token\"));\r\n} catch {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n\r\nconst currentUserSubject = new BehaviorSubject(\r\n  JSON.parse(localStorage.getItem(\"token\"))\r\n);\r\n\r\nexport const authenticationService = {\r\n  login,\r\n  logout,\r\n  signup,\r\n  loadUser,\r\n  newToken,\r\n  currentUser: currentUserSubject.asObservable(),\r\n  get currentUserValue() {\r\n    return currentUserSubject.value;\r\n  },\r\n};\r\nfunction newToken(token) {\r\n  currentUserSubject.next(token);\r\n  localStorage.setItem(\"token\", JSON.stringify(token));\r\n}\r\nasync function login(email, password) {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  const body = JSON.stringify({ email, password });\r\n  try {\r\n    const res = await axios.post(API + \"/auth\", body, config);\r\n    currentUserSubject.next(res.data);\r\n    localStorage.setItem(\"token\", JSON.stringify(res.data));\r\n  } catch (e) {\r\n    return e.response.data.msg;\r\n  }\r\n  //error handling?\r\n}\r\nfunction logout() {\r\n  localStorage.removeItem(\"token\");\r\n  currentUserSubject.next(null);\r\n}\r\nfunction signup(newUser) {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  const body = JSON.stringify({\r\n    name: newUser.signUpName,\r\n    email: newUser.signUpEmail,\r\n    role: \"User\",\r\n    password: newUser.signUpPassword,\r\n  });\r\n  return axios\r\n    .post(API + \"/users/create\", body, config)\r\n    .then((res) => {\r\n      currentUserSubject.next(res.data);\r\n      localStorage.setItem(\"token\", JSON.stringify(res.data));\r\n    })\r\n    .catch((err) => {\r\n      return err.response;\r\n    });\r\n} //TODO ..duh\r\n\r\nasync function loadUser() {\r\n  return axios\r\n    .get(API + \"/auth/user\", tokenConfig())\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .catch((err) => {\r\n      handleError(err);\r\n    });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./navbar.css\";\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  NavbarText,\r\n} from \"reactstrap\";\r\nimport { authenticationService } from \"../functions/authenthication\";\r\n\r\nclass NavbarComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // https://www.w3schools.com/howto/howto_js_navbar_hide_scroll.asp\r\n    let prevScrollpos = window.pageYOffset;\r\n    window.onscroll = function () {\r\n      let currentScrollPos = window.pageYOffset;\r\n      if (prevScrollpos > currentScrollPos) {\r\n        document.getElementById(\"navbar\").style.top = \"0\";\r\n      } else {\r\n        document.getElementById(\"navbar\").style.top = \"-50px\";\r\n      }\r\n      prevScrollpos = currentScrollPos;\r\n    };\r\n  }\r\n\r\n  state = {\r\n    isOpen: false,\r\n  };\r\n\r\n  render() {\r\n    const currentUser = authenticationService.currentUserValue;\r\n\r\n    //console.log(currentUser.user.role);\r\n    const toggle = () =>\r\n      this.setState({\r\n        isOpen: !this.state.isOpen,\r\n      });\r\n\r\n    return (\r\n      <div>\r\n        <Navbar\r\n          className={\r\n            this.props.darkMode\r\n              ? \"navbar navbar-dark navbar-expand-lg\"\r\n              : \"navbar2 navbar-dark navbar-expand-lg\"\r\n          }\r\n          expand=\"md\"\r\n          id=\"navbar\"\r\n        >\r\n          <NavbarBrand href=\"/\">TubeMusic</NavbarBrand>\r\n          <NavbarToggler onClick={toggle} />\r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav className=\"mr-auto\" navbar>\r\n              <NavItem>\r\n                <NavLink href=\"/spotify\" target=\"_blank\">\r\n                  Spotify\r\n                </NavLink>\r\n              </NavItem>\r\n              <NavItem>\r\n                <NavLink href=\"/playlists\" target=\"_blank\">\r\n                  Playlists\r\n                </NavLink>\r\n              </NavItem>\r\n              {currentUser && currentUser.user.role === \"Admin\" ? (\r\n                <NavItem>\r\n                  <NavLink href=\"/admin\" target=\"_blank\">\r\n                    Admin\r\n                  </NavLink>\r\n                </NavItem>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {/*              <UncontrolledDropdown nav inNavbar>\r\n                <DropdownToggle nav caret>\r\n                  Options\r\n                </DropdownToggle>\r\n                <DropdownMenu right>\r\n                  <DropdownItem>Option 1</DropdownItem>\r\n                  <DropdownItem>Option 2</DropdownItem>\r\n                  <DropdownItem divider />\r\n                  <DropdownItem>Reset</DropdownItem>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown> */}\r\n            </Nav>\r\n            <NavbarText>\r\n              Hello, {currentUser && currentUser.user.name}\r\n            </NavbarText>\r\n            <Nav className=\"navbar-nav\" navbar>\r\n              <NavItem>\r\n                <NavLink href=\"#\" onClick={this.props.logout}>\r\n                  Sign out\r\n                </NavLink>\r\n              </NavItem>\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavbarComponent;\r\n","import React from \"react\";\r\nimport { Badge } from \"reactstrap\";\r\n/* const getRandomString = () => {\r\n  const randomNumber = Math.random() * 100;\r\n  if (randomNumber > 90) {\r\n    return \"dark\";\r\n  } else if (randomNumber > 80) {\r\n    return \"danger\";\r\n  } else if (randomNumber > 70) {\r\n    return \"success\";\r\n  } else if (randomNumber > 60) {\r\n    return \"danger\";\r\n  } else if (randomNumber > 50) {\r\n    return \"warning\";\r\n  } else if (randomNumber > 40) {\r\n    return \"info\";\r\n  } else if (randomNumber > 30) {\r\n    return \"light\";\r\n  } else if (randomNumber > 20) {\r\n    return \"primary\";\r\n  } else {\r\n    return \"success\";\r\n  }\r\n}; */\r\nconst CustomBadge = (props: any) => {\r\n  return (\r\n    <div>\r\n      <Badge\r\n        style={{\r\n          padding: \"8px\",\r\n          borderRadius: \"2rem\",\r\n          margin: \"5px\",\r\n        }}\r\n        href=\"#\"\r\n        color={\"info\"}\r\n      >\r\n        {props.title}\r\n      </Badge>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomBadge;\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardText, Button, Row, Col } from \"reactstrap\";\r\nimport \"./videolist.css\";\r\nimport \"moment-duration-format\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport { faPlay, faSpinner } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { getArtistData, getArtistAlbumData } from \"../functions/functions\";\r\nimport CustomBadge from \"../badge/Badge\";\r\nimport isEqual from \"react-fast-compare\";\r\n\r\nclass Videoitem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      albums: [],\r\n      subscribers: \"\",\r\n      views: \"\",\r\n      description: \"\",\r\n      songs: [],\r\n      loading: false,\r\n    };\r\n  }\r\n  onAddClick = (id) => {\r\n    this.props.addFunc({\r\n      uniqueId: Math.random(),\r\n      title: id.title,\r\n      videoId: id.videoId,\r\n      duration: id.duration,\r\n      publishedAt: id.publishedAt,\r\n      channelTitle: id.channelTitle,\r\n      artists: id.artists,\r\n      thumbnail: id.thumbnail,\r\n      thumbnails: id.thumbnails,\r\n      album: id.album,\r\n    });\r\n  };\r\n  onPlayClick = (id) => {\r\n    this.props.onPlay({\r\n      uniqueId: Math.random(),\r\n      title: id.title,\r\n      videoId: id.videoId,\r\n      duration: id.duration,\r\n      publishedAt: id.publishedAt,\r\n      channelTitle: id.channelTitle,\r\n      artists: id.artists,\r\n      album: id.album,\r\n    });\r\n  };\r\n  onAddToPlaylist = (id) => {\r\n    this.props.AddToPlaylist({\r\n      uniqueId: Math.random(),\r\n      title: id.title,\r\n      videoId: id.videoId,\r\n      duration: id.duration,\r\n      publishedAt: id.publishedAt,\r\n      channelTitle: id.channelTitle,\r\n      thumbnail: id.thumbnail,\r\n      artists: id.artists,\r\n      date: Date.now(),\r\n      album: id.album,\r\n    });\r\n  };\r\n  playNextClick = (item) => {\r\n    this.props.playNext(item);\r\n  };\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (!isEqual(this.props, nextProps)) {\r\n      return true;\r\n    }\r\n    if (!isEqual(this.state, nextState)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (this.props.browseId) {\r\n      this.setState({\r\n        loading: true,\r\n      });\r\n      const res = await getArtistData(this.props.browseId);\r\n\r\n      let albums = [];\r\n\r\n      if (res && res.albums && res.albums.browseId && res.albums.params) {\r\n        const albumData = await getArtistAlbumData(\r\n          res.albums.browseId,\r\n          res.albums.params\r\n        ).catch((e) => null);\r\n\r\n        if (albumData !== null) {\r\n          albums = albumData;\r\n        }\r\n      }\r\n      this.setState({\r\n        loading: false,\r\n      });\r\n\r\n      if (!res.albums) {\r\n        albums = [0, 1];\r\n      }\r\n      /*   console.log(res); */\r\n      this.setState({\r\n        albums: albums.length > 0 ? albums : res.albums.results,\r\n        subscribers: res.subscribers,\r\n        singles: res.singles,\r\n        views: res.views,\r\n        description: res.description,\r\n        songs: res.songs,\r\n        thumbnails: res.thumbnails,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      albums,\r\n      subscribers,\r\n      views,\r\n      description,\r\n      songs,\r\n      thumbnails,\r\n      singles,\r\n    } = this.state;\r\n\r\n    const RenderCard = (props) => {\r\n      switch (props.resultType) {\r\n        case \"artist\":\r\n          return (\r\n            <Card\r\n              className=\"card-2\"\r\n              id=\"videoitem\"\r\n              onDoubleClick={() => {\r\n                if (!this.state.loading) {\r\n                  this.props.toggleArtistModal({\r\n                    albums,\r\n                    subscribers,\r\n                    views,\r\n                    description,\r\n                    songs,\r\n                    thumbnails,\r\n                    singles,\r\n                    artist: this.props.artist,\r\n                  });\r\n                }\r\n              }}\r\n            >\r\n              <CardBody>\r\n                <Row>\r\n                  <Col xs=\"2\" sm=\"2\">\r\n                    <div\r\n                      className=\"thumbnailbutton2\"\r\n                      onClick={() => {\r\n                        if (!this.state.loading) {\r\n                          this.props.toggleArtistModalItem({\r\n                            name: this.props.artist,\r\n                            id: this.props.browseId,\r\n                          });\r\n                        }\r\n                      }}\r\n                    >\r\n                      {this.props.thumbnails && (\r\n                        <LazyLoadImage\r\n                          height={100}\r\n                          src={this.props.thumbnails[1].url} // use normal <img> attributes as props\r\n                          width={100}\r\n                          style={{ position: \"absolute\" }}\r\n                          id=\"thumbnail\"\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs=\"7\" sm=\"7\">\r\n                    <CardText\r\n                      onClick={() => {\r\n                        if (!this.state.loading) {\r\n                          this.props.toggleArtistModalItem({\r\n                            name: this.props.artist,\r\n                            id: this.props.browseId,\r\n                          });\r\n                        }\r\n                      }}\r\n                    >\r\n                      <h5>\r\n                        <div className=\"hoverEffect\">\r\n                          {this.props.artist}&nbsp;&nbsp;{\" \"}\r\n                        </div>\r\n                        {this.state.loading ? (\r\n                          <FontAwesomeIcon\r\n                            className=\"fa-spin\"\r\n                            icon={faSpinner}\r\n                          />\r\n                        ) : null}\r\n                      </h5>\r\n                    </CardText>\r\n                  </Col>\r\n                  <Col xs=\"2\" sm=\"2\">\r\n                    <br />\r\n                    <br />\r\n                    <div className=\"placeforbutton\">\r\n                      {this.state.subscribers}\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs=\"1\" sm=\"1\"></Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                  <Col xs=\"12\" sm=\"12\">\r\n                    <div className=\"badgeWrapper\">\r\n                      {\r\n                        <RenderAlbums\r\n                          toggleAlbumModal={this.props.toggleAlbumModal}\r\n                          albums={this.state.albums}\r\n                        />\r\n                        /*     Length&nbsp; */\r\n                      }\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </CardBody>\r\n            </Card>\r\n          );\r\n        default:\r\n          return (\r\n            <Card\r\n              className=\"card-2\"\r\n              id=\"videoitem\"\r\n              onDoubleClick={this.onPlayClick.bind(this, this.props)}\r\n            >\r\n              <CardBody>\r\n                <Row>\r\n                  <Col xs=\"2\" sm=\"2\">\r\n                    <div\r\n                      className=\"thumbnailbutton\"\r\n                      onClick={this.onPlayClick.bind(this, this.props)}\r\n                    >\r\n                      {this.props.thumbnail && (\r\n                        <LazyLoadImage\r\n                          height={70}\r\n                          src={this.props.thumbnail} // use normal <img> attributes as props\r\n                          width={70}\r\n                          style={{ position: \"absolute\" }}\r\n                          id=\"thumbnail\"\r\n                        />\r\n                      )}\r\n                      <FontAwesomeIcon\r\n                        className=\"Active\"\r\n                        size={\"lg\"}\r\n                        icon={faPlay}\r\n                        id=\"thumbnail2\"\r\n                      />\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs=\"7\" sm=\"7\">\r\n                    <CardText>\r\n                      <div className=\"hoverEffect\"> {this.props.title}</div>\r\n                      <br />\r\n                      {this.props.album && (\r\n                        <div\r\n                          onClick={() => {\r\n                            this.props.toggleAlbumModal({\r\n                              artist:\r\n                                (this.props.artists[0] &&\r\n                                  this.props.artists[0].name) ||\r\n                                \"Various Artists\",\r\n                              browseId: this.props.album.id,\r\n                              type: \"Album\",\r\n                              thumbnails: [\r\n                                { height: 60, url: this.props.thumbnail },\r\n                                { height: 60, url: this.props.thumbnail },\r\n                              ],\r\n                              title: this.props.album.name,\r\n                            });\r\n                          }}\r\n                          style={{ cursor: \"pointer\" }}\r\n                          className=\"hoverEffect d-none d-xl-block\"\r\n                        >\r\n                          {this.props.album.name}\r\n                        </div>\r\n                      )}\r\n                    </CardText>\r\n                    <CardText>\r\n                      {this.props.artists[0] && (\r\n                        <div className=\"artists123\">\r\n                          <RenderArtists\r\n                            toggleArtistModal={this.props.toggleArtistModalItem}\r\n                            artists={this.props.artists}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </CardText>\r\n                  </Col>\r\n                  <Col xs=\"2\" sm=\"2\">\r\n                    <br />\r\n                    <br />\r\n                    <div className=\"placeforbutton\">\r\n                      <Button\r\n                        className=\"btn btn-primary btn-item\"\r\n                        color=\"secondary\"\r\n                        onClick={this.onAddToPlaylist.bind(this, this.props)}\r\n                      >\r\n                        +P\r\n                      </Button>\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs=\"1\" sm=\"1\">\r\n                    <div className=\"placeforbutton\">\r\n                      <Button\r\n                        className=\"btn btn-secondary  float-right btn-item\"\r\n                        color=\"secondary\"\r\n                        onClick={this.playNextClick.bind(this, this.props)}\r\n                      >\r\n                        +N\r\n                      </Button>\r\n                      <Button\r\n                        className=\"btn btn-secondary  float-right btn-item\"\r\n                        color=\"secondary\"\r\n                        onClick={this.onAddClick.bind(this, this.props)}\r\n                      >\r\n                        +Q\r\n                      </Button>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                  <Col></Col>\r\n                  <Col xs=\"6\" sm=\"6\">\r\n                    <small className=\"float\">\r\n                      {/*     Length&nbsp; */}\r\n                      {this.props.duration}\r\n                    </small>\r\n                  </Col>\r\n                </Row>\r\n              </CardBody>\r\n            </Card>\r\n          );\r\n      }\r\n    };\r\n    //TODO: make it look much better\r\n    return (\r\n      <div>\r\n        <RenderCard resultType={this.props.resultType} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst RenderArtists = (props) => {\r\n  return props.artists.map((artist, index) => (\r\n    <div\r\n      key={index}\r\n      className=\"videolistArtists artistStuff hoverEffect\"\r\n      onClick={() =>\r\n        props.toggleArtistModal({ name: artist.name, id: artist.id })\r\n      }\r\n    >\r\n      {artist.name} &nbsp;\r\n    </div>\r\n  ));\r\n};\r\nconst RenderAlbums = (props) => {\r\n  if (!props.albums) return null;\r\n\r\n  return props.albums.map((album) => (\r\n    <div key={Math.random()} onClick={() => props.toggleAlbumModal(album)}>\r\n      <CustomBadge key={Math.random()} title={album.title} />\r\n    </div>\r\n  ));\r\n};\r\n//actions we want to use as second paranthesis\r\nexport default Videoitem;\r\n","import React from \"react\";\r\nimport PacmanLoader from \"react-spinners/PacmanLoader\";\r\nimport \"./spinner.css\";\r\n//https://www.davidhu.io/react-spinners/\r\nexport default class LoadingSpinner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true,\r\n      size: this.props.size || 35\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"sweet-loading\">\r\n        <PacmanLoader\r\n          size={this.state.size}\r\n          //size={\"150px\"} this also works\r\n          color={this.props.color || \"#c45a8e\"}\r\n          loading={this.state.loading}\r\n        />\r\n        <br />\r\n        <br />\r\n        <i className=\"italic\">Loading...</i>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport RotateLoader from \"react-spinners/RotateLoader\";\r\nimport \"./spinner.css\";\r\n//https://www.davidhu.io/react-spinners/\r\nexport default class LoadingSpinner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true,\r\n      size: this.props.size || 150,\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"sweet-loading2\" id=\"spinner2\">\r\n        <br />\r\n        <RotateLoader\r\n          size={20}\r\n          //size={\"150px\"} this also works\r\n          color={this.props.color || \"#c45a8e\"}\r\n          loading={this.state.loading}\r\n          margin={2}\r\n        />\r\n        <br />\r\n        <br />\r\n        <i className=\"loadingText\">Loading...</i>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n  CardText,\r\n} from \"reactstrap\";\r\nimport { getAlbum, addSongToPlaylist } from \"../functions/functions\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\r\nimport ShowMoreText from \"react-show-more-text\";\r\nimport toaster from \"toasted-notes\";\r\nimport \"toasted-notes/src/styles.css\"; // optional styles;\r\nimport {\r\n  ButtonDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from \"reactstrap\";\r\nimport { Menu, Item, Separator, Submenu, contextMenu } from \"react-contexify\";\r\n\r\nimport Spinner from \"../spinner/spinner4\";\r\nimport \"./Modal.css\";\r\n\r\nclass MyAwesomeMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.menu = React.createRef();\r\n  }\r\n  hide = () => {\r\n    this.menu.current.hide();\r\n  };\r\n  render() {\r\n    return (\r\n      <Menu id=\"menu_id4\" ref={this.menu}>\r\n        <Item\r\n          onClick={({ props }) => {\r\n            this.hide();\r\n            props.onPlay(props);\r\n          }}\r\n        >\r\n          Play song\r\n        </Item>\r\n        <Item\r\n          onClick={({ props }) => {\r\n            this.hide();\r\n            props.onAdd(props);\r\n          }}\r\n        >\r\n          Add to Queue\r\n        </Item>\r\n        <Item\r\n          onClick={({ props }) => {\r\n            this.hide();\r\n            props.playNext(props);\r\n          }}\r\n        >\r\n          Play next\r\n        </Item>\r\n        <Separator />\r\n        <Submenu label=\"Go to Artist\" disabled={!this.props.artists}>\r\n          {this.props.artists &&\r\n            this.props.artists.map((artist, index) => (\r\n              <Item\r\n                key={index}\r\n                onClick={({ props }) => {\r\n                  this.hide();\r\n                  props.toggleModal();\r\n                  props.toggleArtistModal(artist);\r\n                }}\r\n              >\r\n                {artist.name}\r\n              </Item>\r\n            ))}\r\n        </Submenu>\r\n        <Separator />\r\n        <Submenu label=\"Add to playlist\">\r\n          {this.props.playlists &&\r\n            this.props.playlists.map((playlist) => {\r\n              return (\r\n                <Item\r\n                  onClick={({ props }) => {\r\n                    this.hide();\r\n                    props.addSongToPlaylist(props, playlist._id);\r\n                  }}\r\n                >\r\n                  {playlist.name}\r\n                </Item>\r\n              );\r\n            })}\r\n        </Submenu>\r\n      </Menu>\r\n    );\r\n  }\r\n}\r\n\r\nfunction pad(string) {\r\n  return (\"0\" + string).slice(-2);\r\n}\r\nfunction format(seconds) {\r\n  const date = new Date(seconds * 1000);\r\n  const hh = date.getUTCHours();\r\n  const mm = date.getUTCMinutes();\r\n  const ss = pad(date.getUTCSeconds());\r\n  if (hh) {\r\n    return `${hh}.${pad(mm)}.${ss}`;\r\n  }\r\n  return `${mm}.${ss}`;\r\n}\r\nconst timeout = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\nconst ModalExample = (props) => {\r\n  /*   console.log(props); */\r\n  const [dropdownOpen, setOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [addingPlaylist, setAddingPlaylist] = useState(false);\r\n  const toggle = () => setOpen(!dropdownOpen);\r\n  const { className, show } = props;\r\n  const [albumTracks, setalbumTracks] = useState([]);\r\n  const [albumArtists, setArtists] = useState([]);\r\n  const [albumDescription, setAlbumDescription] = useState(\"\");\r\n  const [albumTitle, setAlbumTitle] = useState(\"\");\r\n  const [playlistVersionOfTracks, setPlaylistVersionofTracks] = useState([]);\r\n  const [thumbnails, setthumbnails] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getalbumTracks = async () => {\r\n      setLoading(true);\r\n\r\n      const res = await getAlbum(props.albumBrowseId);\r\n\r\n      setLoading(false);\r\n      if (!res) return;\r\n\r\n      setalbumTracks(res.tracks);\r\n      setArtists(res.artist);\r\n      setAlbumDescription(res.description);\r\n      setAlbumTitle(res.title);\r\n      setthumbnails(res.thumbnails);\r\n      const playlist = [];\r\n\r\n      for (const track of res.tracks) {\r\n        if (track.videoId) {\r\n          playlist.push({\r\n            uniqueId: track.videoId + Math.random(),\r\n            title: track.title,\r\n            videoId: track.videoId,\r\n            artists: res.artist.filter((artist) =>\r\n              track.artists.includes(artist.name)\r\n            ),\r\n            artist: track.artists,\r\n            thumbnails: track.thumbnails,\r\n            duration: format(track.lengthMs / 1000),\r\n            album: { id: props.albumBrowseId, name: res.title },\r\n            thumbnail: track.thumbnails[0].url,\r\n            addFunc: props.addFunc,\r\n            onPlay: props.onPlay,\r\n            playNext: props.playNext,\r\n          });\r\n        }\r\n      }\r\n      setPlaylistVersionofTracks(playlist);\r\n    };\r\n\r\n    if (!props.artist) {\r\n      getalbumTracks();\r\n    }\r\n  }, [props.albumBrowseId]);\r\n\r\n  const addPlaylistToQueue = () => {\r\n    props.addPlaylistToQueue(playlistVersionOfTracks, albumTitle);\r\n  };\r\n  const playPlaylist = () => {\r\n    props.playPlaylist(playlistVersionOfTracks, albumTitle);\r\n  };\r\n  const addPlayList = async (name, id) => {\r\n    /*     playlistVersionOfTracks.forEach((track) => {\r\n      const item = JSON.stringify({ track });\r\n      addSongToPlaylist(item, id);\r\n    }); */\r\n    setAddingPlaylist(true);\r\n    await Promise.all(\r\n      playlistVersionOfTracks.map(async (track) => {\r\n        const item = JSON.stringify({ track });\r\n        await addSongToPlaylist(item, id);\r\n      })\r\n    );\r\n    setAddingPlaylist(false);\r\n    props.loadPlaylist(id);\r\n    toaster.notify(\r\n      <span className=\"styled-toast\">\r\n        Songs added to the playlist: {name} !\r\n      </span>,\r\n      {\r\n        duration: 2000,\r\n      }\r\n    );\r\n  };\r\n\r\n  const makePlaylist = async () => {\r\n    setAddingPlaylist(true);\r\n\r\n    await timeout(1000);\r\n    await props.makePlaylist(\r\n      albumTitle + \" \" + albumArtists[0].name,\r\n      playlistVersionOfTracks,\r\n      true,\r\n      \"Random\"\r\n    );\r\n    setAddingPlaylist(false);\r\n    toaster.notify(\r\n      <span className=\"styled-toast\">\r\n        Playlist: {albumTitle + \" \" + albumArtists[0].name} made!\r\n      </span>,\r\n      {\r\n        duration: 2000,\r\n      }\r\n    );\r\n  };\r\n  const PlayLists = props.playlists.map((playlist) => (\r\n    <DropdownItem\r\n      key={Math.random()}\r\n      onClick={() => addPlayList(playlist.name, playlist._id)}\r\n    >\r\n      {playlist.name}\r\n    </DropdownItem>\r\n  ));\r\n  PlayLists.unshift(\r\n    <DropdownItem key={Math.random()} onClick={() => makePlaylist()}>\r\n      Create a new playlist\r\n    </DropdownItem>\r\n  );\r\n  const handleContextMenu = (e, props) => {\r\n    e.preventDefault();\r\n    contextMenu.show({\r\n      id: \"menu_id4\",\r\n      event: e,\r\n      props: props,\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      {addingPlaylist && show ? (\r\n        <div className=\"loadingplaceformodal\">\r\n          <Spinner size={50} color=\"#009688\" style={{ zIndex: 999999 }} />\r\n        </div>\r\n      ) : null}\r\n      {loading && show ? (\r\n        <div className=\"loadingplaceformodal\">\r\n          <Spinner size={50} color=\"#009688\" style={{ zIndex: 999999 }} />\r\n        </div>\r\n      ) : (\r\n        <Modal\r\n          isOpen={show}\r\n          toggle={() => props.toggleModal()}\r\n          className={className}\r\n          backdrop={true}\r\n          keyboard={true}\r\n          size={\"xl\"}\r\n        >\r\n          <MyAwesomeMenu artists={albumArtists} playlists={props.playlists} />\r\n          <ModalHeader\r\n            style={{ textAlign: \"center\" }}\r\n            toggle={() => props.toggleModal()}\r\n            className=\"text-center\"\r\n            cssModule={{ \"modal-title\": \"w-100 text-center\" }}\r\n          >\r\n            <RenderArtists artists={albumArtists} />- &nbsp;{albumTitle}{\" \"}\r\n          </ModalHeader>\r\n          <ModalBody id=\"modalbody123123\">\r\n            <div className=\"albumDescription\">\r\n              <Row>\r\n                <Col sm=\"3\">\r\n                  {thumbnails[1] && (\r\n                    <img\r\n                      height={120}\r\n                      src={thumbnails[1].url} // use normal <img> attributes as props\r\n                      width={120}\r\n                      style={{ position: \"relative\", display: \"inline-block\" }}\r\n                      id=\"thumbnail\"\r\n                      alt=\"foo\"\r\n                    />\r\n                  )}\r\n                </Col>\r\n\r\n                <Col sm=\"3\">\r\n                  <Button\r\n                    style={{\r\n                      position: \"relative\",\r\n                      display: \"inline-block\",\r\n                      top: \"50%\",\r\n                    }}\r\n                    onClick={() => playPlaylist()}\r\n                  >\r\n                    Play album\r\n                  </Button>\r\n                </Col>\r\n                <Col sm=\"3\">\r\n                  <ButtonDropdown\r\n                    isOpen={dropdownOpen}\r\n                    toggle={toggle}\r\n                    style={{\r\n                      position: \"relative\",\r\n                      display: \"inline-block\",\r\n                      top: \"50%\",\r\n                    }}\r\n                  >\r\n                    <DropdownToggle caret>Add to playlist</DropdownToggle>\r\n                    <DropdownMenu>{PlayLists}</DropdownMenu>\r\n                  </ButtonDropdown>\r\n                </Col>\r\n                <Col sm=\"3\">\r\n                  <Button\r\n                    style={{\r\n                      position: \"relative\",\r\n                      display: \"inline-block\",\r\n                      top: \"50%\",\r\n                    }}\r\n                    onClick={() => addPlaylistToQueue()}\r\n                  >\r\n                    Queue album\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n            <hr />\r\n            <ShowMoreText\r\n              /* Default options */\r\n              lines={3}\r\n              more=\"Show more\"\r\n              less=\"Show less\"\r\n              anchorClass=\"\"\r\n              expanded={false}\r\n            >\r\n              {albumDescription}\r\n            </ShowMoreText>\r\n            <div className=\"artistTracks\">\r\n              {albumTracks.map(\r\n                ({ artists, thumbnails, videoId, title, lengthMs }) => {\r\n                  return (\r\n                    <div\r\n                      onContextMenu={(event) =>\r\n                        handleContextMenu(event, {\r\n                          onDeleteFromPlaylist: props.onDeleteFromPlaylist,\r\n                          onAdd: props.addFunc,\r\n                          onPlay: props.onPlay,\r\n                          playNext: props.playNext,\r\n                          toggleModal: props.toggleModal,\r\n                          toggleArtistModal: props.toggleArtistModal,\r\n                          album: { id: props.albumBrowseId, name: albumTitle },\r\n                          toggleAlbumModal: props.toggleAlbumModal,\r\n                          UpdateCurrentPlaylist2: props.UpdateCurrentPlaylist2,\r\n                          addSongToPlaylist: props.addSongToPlaylist,\r\n                          videoId,\r\n                          title,\r\n                          uniqueId: videoId + Math.random(),\r\n                          duration: format(lengthMs / 1000),\r\n                          thumbnail: thumbnails[0].url,\r\n                          artists: albumArtists,\r\n                        })\r\n                      }\r\n                      key={videoId + Math.random()}\r\n                    >\r\n                      <Song\r\n                        uniqueId={videoId + Math.random()}\r\n                        title={title}\r\n                        videoId={videoId}\r\n                        artists={albumArtists.filter((artist) =>\r\n                          artists.includes(artist.name)\r\n                        )}\r\n                        artist={artists}\r\n                        thumbnails={thumbnails}\r\n                        duration={format(lengthMs / 1000)}\r\n                        album={{ id: props.albumBrowseId, name: albumTitle }}\r\n                        thumbnail={thumbnails[0].url}\r\n                        addFunc={props.addFunc}\r\n                        onPlay={props.onPlay}\r\n                        playNext={props.playNext}\r\n                        AddToPlaylist={props.AddToPlaylist}\r\n                        toggleModal={props.toggleModal}\r\n                        toggleArtistModal={props.toggleArtistModal}\r\n                      />\r\n                    </div>\r\n                  );\r\n                }\r\n              )}\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"secondary\" onClick={() => props.toggleModal()}>\r\n              Go back\r\n            </Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nconst RenderArtists = (props) => {\r\n  /*   console.log(props); */\r\n  return props.artists.map((artist) => <>{artist.name} &nbsp;</>);\r\n};\r\n\r\nconst Song = (props) => {\r\n  //console.log(props.artists);\r\n  /*   console.log(props); */\r\n  return (\r\n    <Card\r\n      onDoubleClick={() => {\r\n        if (props.videoId) {\r\n          props.onPlay({\r\n            uniqueId: Math.random(),\r\n            title: props.title,\r\n            videoId: props.videoId,\r\n            duration: props.duration,\r\n            publishedAt: props.publishedAt,\r\n            channelTitle: props.channelTitle,\r\n            artists: props.artists,\r\n            thumbnail: props.thumbnail,\r\n            thumbnails: props.thumbnails,\r\n            album: props.album,\r\n          });\r\n        }\r\n      }}\r\n    >\r\n      <CardBody>\r\n        <Row>\r\n          <Col xs=\"2\" sm=\"2\">\r\n            <div\r\n              className=\"thumbnailbuttonplaylist\"\r\n              onClick={() => {\r\n                if (props.videoId) {\r\n                  props.onPlay({\r\n                    uniqueId: Math.random(),\r\n                    title: props.title,\r\n                    videoId: props.videoId,\r\n                    duration: props.duration,\r\n                    publishedAt: props.publishedAt,\r\n                    channelTitle: props.channelTitle,\r\n                    artists: props.artists,\r\n                    thumbnail: props.thumbnail,\r\n                    thumbnails: props.thumbnails,\r\n                    album: props.album,\r\n                  });\r\n                }\r\n              }}\r\n            >\r\n              {props.thumbnails && (\r\n                <img\r\n                  height={60}\r\n                  src={props.thumbnails[0].url} // use normal <img> attributes as props\r\n                  width={60}\r\n                  style={{ position: \"absolute\" }}\r\n                  id=\"thumbnail\"\r\n                  alt=\"foo\"\r\n                />\r\n              )}\r\n              {props.videoId ? (\r\n                <FontAwesomeIcon\r\n                  className=\"Active\"\r\n                  size={\"lg\"}\r\n                  icon={faPlay}\r\n                  id=\"thumbnail2\"\r\n                />\r\n              ) : null}\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"3\" sm=\"3\">\r\n            <CardText>\r\n              <div className=\"hoverEffect\">{props.title}</div>{\" \"}\r\n            </CardText>\r\n          </Col>\r\n          <Col xs=\"3\" sm=\"3\">\r\n            <RenderArtists2\r\n              toggleModal={props.toggleModal}\r\n              toggleArtistModal={props.toggleArtistModal}\r\n              artists={props.artists}\r\n              artist={props.artist}\r\n            />\r\n          </Col>\r\n          <Col xs=\"2\" sm=\"2\">\r\n            <small className=\"float-left\">\r\n              {props.videoId ? props.duration : \"Deleted by artist\"}\r\n            </small>\r\n          </Col>\r\n          <Col xs=\"1\" sm=\"1\">\r\n            <br />\r\n            <br />\r\n            <div className=\"placeforbutton\">\r\n              <Button\r\n                className=\"btn btn-primary btn-item\"\r\n                color=\"secondary\"\r\n                onClick={() => props.AddToPlaylist(props)}\r\n                disabled={!props.videoId}\r\n              >\r\n                +P\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"1\" sm=\"1\">\r\n            <div className=\"placeforbutton\">\r\n              <Button\r\n                className=\"btn btn-secondary float-right btn-item\"\r\n                color=\"info\"\r\n                onClick={() => props.playNext(props)}\r\n                disabled={!props.videoId}\r\n              >\r\n                +N\r\n              </Button>\r\n              <Button\r\n                className=\"btn btn-secondary float-right btn-item\"\r\n                color=\"info\"\r\n                onClick={() => props.addFunc(props)}\r\n                disabled={!props.videoId}\r\n              >\r\n                +Q\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\nconst RenderArtists2 = (props) => {\r\n  // props.artist is the actual artist of the track\r\n  // whereas artists are the album's artists\r\n  // so we need to hacky hacky a bit here...\r\n  // track only provides name of the artist, no id's :(\r\n  const songArtists = props.artists.filter((artist) =>\r\n    props.artist.includes(artist.name)\r\n  );\r\n  //console.log(songArtists);\r\n  //console.log(props.artists);\r\n  //console.log(props.artist);\r\n  return songArtists.map((artist, index) => (\r\n    <div\r\n      key={index}\r\n      onClick={() => {\r\n        props.toggleModal();\r\n        props.toggleArtistModal(artist);\r\n      }}\r\n      className=\"artistStuff hoverEffect\"\r\n    >\r\n      {artist.name} &nbsp;\r\n    </div>\r\n  ));\r\n};\r\nexport default ModalExample;\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\";\r\n\r\nimport ShowMoreText from \"react-show-more-text\";\r\nimport CustomBadge from \"../../badge/Badge\";\r\n\r\nimport Spinner from \"../../spinner/spinner4\";\r\nimport \"./Modal.css\";\r\n\r\nconst ModalExample = (props) => {\r\n  /*   console.log(props); */\r\n\r\n  return (\r\n    <div>\r\n      {props.loading && props.show ? (\r\n        <div className=\"loadingplaceformodal\">\r\n          <Spinner size={50} color=\"white\" style={{ zIndex: 999999 }} />\r\n        </div>\r\n      ) : null}\r\n      <Modal\r\n        isOpen={props.show}\r\n        toggle={() => props.toggleModal()}\r\n        className={props.className}\r\n        backdrop={true}\r\n        keyboard={true}\r\n        size={\"xl\"}\r\n      >\r\n        <ModalHeader\r\n          style={{ textAlign: \"center\" }}\r\n          toggle={() => props.toggleModal()}\r\n          className=\"text-center\"\r\n          cssModule={{ \"modal-title\": \"w-100 text-center\" }}\r\n        >\r\n          {props.artistName}\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <div className=\"albumDescription\">\r\n            <Row>\r\n              <Col sm=\"6\">\r\n                {props.artistThumbnails && (\r\n                  <img\r\n                    src={props.artistThumbnails[1].url} // use normal <img> attributes as props\r\n                    width={480}\r\n                    style={{ position: \"relative\", display: \"inline-block\" }}\r\n                    id=\"thumbnail\"\r\n                    alt=\"foo\"\r\n                  />\r\n                )}\r\n              </Col>\r\n              <Col sm=\"6\">\r\n                <div style={{ color: \"white\" }}>\r\n                  <p>\r\n                    Subscribers: {props.artistSubscribers}{\" \"}\r\n                    <Button\r\n                      onClick={() => {\r\n                        props.toggleAllSongsModal(props.artistSongs.browseId);\r\n                      }}\r\n                      className=\"float-right\"\r\n                    >\r\n                      All songs\r\n                    </Button>\r\n                  </p>\r\n                  <p>Total views: {props.artistViews}</p>\r\n                  <p> Albums: {}</p>\r\n                  <div className=\"badgeWrapper\">\r\n                    {\r\n                      <RenderAlbums\r\n                        toggleAlbumModal={props.toggleAlbumModal}\r\n                        albums={props.artistAlbums}\r\n                      />\r\n                      /*     Length&nbsp; */\r\n                    }\r\n                  </div>\r\n                </div>{\" \"}\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <hr />\r\n          <ShowMoreText\r\n            /* Default options */\r\n            lines={3}\r\n            more=\"Show more\"\r\n            less=\"Show less\"\r\n            anchorClass=\"\"\r\n            expanded={false}\r\n          >\r\n            {props.artistDescription}\r\n          </ShowMoreText>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"secondary\" onClick={() => props.toggleModal()}>\r\n            Go back\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst RenderAlbums = (props) => {\r\n  if (!props.albums) return null;\r\n\r\n  return props.albums.map((album) => (\r\n    <div key={Math.random()} onClick={() => props.toggleAlbumModal(album)}>\r\n      <CustomBadge key={Math.random()} title={album.title} />\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default ModalExample;\r\n","import React, { Component } from \"react\";\r\nimport Videoitem from \"./videoitem\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport LoadingSpinner from \"../spinner/spinner\";\r\nimport \"./videolist.css\";\r\nimport \"simplebar/dist/simplebar.min.css\";\r\nimport AlbulModal from \"../modal/Modal\";\r\nimport ArtistModal from \"../modal/artistmodal/ArtistModal\";\r\nimport { Menu, Item, Separator, Submenu, contextMenu } from \"react-contexify\";\r\n\r\nconst MyAwesomeMenu = (props) => {\r\n  return (\r\n    <Menu id=\"menu_id2\">\r\n      <Item\r\n        onClick={({ props }) => {\r\n          props.onPlay(props);\r\n        }}\r\n      >\r\n        Play song\r\n      </Item>\r\n      <Item\r\n        onClick={({ props }) => {\r\n          props.onAdd(props);\r\n        }}\r\n      >\r\n        Add to Queue\r\n      </Item>\r\n      <Item onClick={({ props }) => props.playNext(props)}>Play next</Item>\r\n      <Separator />\r\n      <Submenu label=\"Go to Artist\" disabled={!props.artists}>\r\n        {props.artists &&\r\n          props.artists.map((artist) => (\r\n            <Item\r\n              onClick={({ props }) =>\r\n                props.toggleArtistModal({ name: artist.name, id: artist.id })\r\n              }\r\n            >\r\n              {artist.name}\r\n            </Item>\r\n          ))}\r\n      </Submenu>\r\n      <Item\r\n        disabled={!props.album}\r\n        onClick={({ props }) => {\r\n          if (props.album) {\r\n            props.toggleAlbumModal({\r\n              artist: props.artists[0].name,\r\n              browseId: props.album.id,\r\n              type: \"Album\",\r\n              thumbnails: [\r\n                { height: 60, url: props.thumbnail },\r\n                { height: 60, url: props.thumbnail },\r\n              ],\r\n              title: props.album.name,\r\n            });\r\n          }\r\n        }}\r\n      >\r\n        Go to Album\r\n      </Item>\r\n\r\n      <Separator />\r\n      <Submenu label=\"Add to playlist\">\r\n        {props.playlists &&\r\n          props.playlists.map((playlist, index) => {\r\n            return (\r\n              <Item\r\n                key={index}\r\n                onClick={({ props }) =>\r\n                  props.addSongToPlaylist(props, playlist._id)\r\n                }\r\n              >\r\n                {playlist.name}\r\n              </Item>\r\n            );\r\n          })}\r\n      </Submenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nclass Videolist extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: this.props.loading,\r\n      error: this.props.error,\r\n      errorText: this.props.errorText,\r\n      playlists: [],\r\n      album: [],\r\n      artists: [],\r\n      showModal: false,\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        loading: this.props.loading,\r\n        error: this.props.error,\r\n        errorText: this.props.errorText,\r\n        playlists: this.props.playlists,\r\n      });\r\n    }\r\n  }\r\n  toggleArtistModal = (props) => {\r\n    this.setState({\r\n      showArtistModal: !this.state.showArtistModal,\r\n      artistAlbums: props.albums,\r\n      artistDescription: props.description,\r\n      artistSongs: props.songs,\r\n      artistSubscribers: props.subscribers,\r\n      artistThumbnails: props.thumbnails,\r\n      artistViews: props.views,\r\n      artistSingles: props.singles,\r\n      artistName: props.artist,\r\n      artist: true,\r\n    });\r\n  };\r\n  toggleAlbumModal = (props) => {\r\n    this.setState({\r\n      showModal: !this.state.showModal,\r\n      albumBrowseId: props.browseId,\r\n      albumThumbnails: props.thumbnails,\r\n      albumTitle: props.title,\r\n      albumYear: props.year,\r\n      artist: false,\r\n    });\r\n  };\r\n  toggleModal = () => {\r\n    this.setState({\r\n      showModal: !this.state.showModal,\r\n    });\r\n  };\r\n  toggleArtistModal2 = () => {\r\n    this.setState({\r\n      showArtistModal: !this.state.showArtistModal,\r\n    });\r\n  };\r\n\r\n  toggleArtistModalItem = async (artist) => {\r\n    this.props.toggleArtistModal(artist);\r\n  };\r\n  handleContextMenu(e, props) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      artists: props.artists,\r\n      album: props.album,\r\n    });\r\n    contextMenu.show({\r\n      id: \"menu_id2\",\r\n      event: e,\r\n      props: props,\r\n    });\r\n  }\r\n  render() {\r\n    const items = this.props.items;\r\n\r\n    return (\r\n      <div id=\"videolist33\">\r\n        <MyAwesomeMenu\r\n          artists={this.state.artists}\r\n          album={this.state.album}\r\n          playlists={this.props.playlists}\r\n        />\r\n        <AlbulModal\r\n          show={this.state.showModal}\r\n          toggleModal={this.toggleModal}\r\n          artist={this.state.artist}\r\n          albumBrowseId={this.state.albumBrowseId}\r\n          albumThumbnails={this.state.albumThumbnails}\r\n          albumTitle={this.state.albumTitle}\r\n          albumYear={this.state.albumYear}\r\n          addFunc={this.props.onAdd}\r\n          onPlay={this.props.onPlay}\r\n          addPlaylistToQueue={this.props.addPlaylistToQueue}\r\n          playPlaylist={this.props.playPlaylist}\r\n          playNext={this.props.playNext}\r\n          playlists={this.props.playlists}\r\n          AddToPlaylist={this.props.AddToPlaylist}\r\n          loadPlaylist={this.props.loadPlaylist}\r\n          makePlaylist={this.props.makePlaylist}\r\n          toggleArtistModal={this.props.toggleArtistModal}\r\n        />\r\n        <ArtistModal\r\n          show={this.state.showArtistModal}\r\n          toggleModal={this.toggleArtistModal2}\r\n          artistAlbums={this.state.artistAlbums}\r\n          artistSingles={this.state.artistSingles}\r\n          artistName={this.state.artistName}\r\n          artistDescription={this.state.artistDescription}\r\n          artistSongs={this.state.artistSongs}\r\n          artistSubscribers={this.state.artistSubscribers}\r\n          artistThumbnails={this.state.artistThumbnails}\r\n          artistViews={this.state.artistViews}\r\n          artist={this.state.artist}\r\n          addFunc={this.props.onAdd}\r\n          onPlay={this.props.onPlay}\r\n          addPlaylistToQueue={this.props.addPlaylistToQueue}\r\n          playPlaylist={this.props.playPlaylist}\r\n          playNext={this.props.playNext}\r\n          playlists={this.props.playlists}\r\n          AddToPlaylist={this.props.AddToPlaylist}\r\n          loadPlaylist={this.props.loadPlaylist}\r\n          toggleAlbumModal={this.toggleAlbumModal}\r\n        />\r\n        {this.state.loading ? (\r\n          <div className=\"loadingPlace\">\r\n            <LoadingSpinner color=\"#545454\" />\r\n          </div>\r\n        ) : null}\r\n        {this.state.error ? <span>{this.state.errorText}</span> : \"\"}\r\n\r\n        {items.map(\r\n          ({\r\n            title,\r\n            publishedAt,\r\n            channelTitle,\r\n            videoId,\r\n            thumbnail,\r\n            uniqueId,\r\n            duration,\r\n            thumbnails,\r\n            artists,\r\n            resultType,\r\n            artist,\r\n            browseId,\r\n            album,\r\n          }) => {\r\n            return (\r\n              <CSSTransition key={uniqueId} timeout={500} classNames=\"fade\">\r\n                <div\r\n                  onContextMenu={(event) => {\r\n                    if (resultType !== \"song\") return;\r\n                    this.handleContextMenu(event, {\r\n                      onDeleteFromPlaylist: null,\r\n                      playNext: this.props.playNext,\r\n                      onAdd: this.props.onAdd,\r\n                      onPlay: this.props.onPlay,\r\n                      toggleArtistModal: this.toggleArtistModalItem,\r\n                      toggleAlbumModal: this.props.toggleAlbumModal,\r\n                      videoId: videoId,\r\n                      title: title,\r\n                      publishedAt: publishedAt,\r\n                      uniqueId: videoId + Math.random(),\r\n                      duration: duration,\r\n                      thumbnails: thumbnails,\r\n                      thumbnail: thumbnail && thumbnail,\r\n                      artists: artists,\r\n                      album: album,\r\n                      addSongToPlaylist: this.props.addSongToPlaylist,\r\n                    });\r\n                  }}\r\n                  key={this.props.uniqueId}\r\n                >\r\n                  <Videoitem\r\n                    playNext={this.props.playNext}\r\n                    uniqueId={uniqueId}\r\n                    title={title}\r\n                    thumbnail={thumbnail && thumbnail}\r\n                    channelTitle={channelTitle}\r\n                    publishedAt={publishedAt}\r\n                    videoId={videoId}\r\n                    addFunc={this.props.onAdd}\r\n                    onPlay={this.props.onPlay}\r\n                    AddToPlaylist={this.props.AddToPlaylist}\r\n                    duration={duration}\r\n                    artists={artists}\r\n                    resultType={resultType}\r\n                    artist={artist}\r\n                    browseId={browseId}\r\n                    thumbnails={thumbnails}\r\n                    toggleAlbumModal={this.toggleAlbumModal}\r\n                    toggleArtistModal={this.toggleArtistModal}\r\n                    toggleArtistModalItem={this.toggleArtistModalItem}\r\n                    album={album}\r\n                  />\r\n                </div>\r\n              </CSSTransition>\r\n            );\r\n          }\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Videolist;\r\n","import React, { Component } from \"react\";\r\nimport { InputGroup, InputGroupAddon, Input, Button } from \"reactstrap\";\r\nimport {\r\n  TabContent,\r\n  TabPane,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  Row,\r\n  Col,\r\n  FormGroup,\r\n  Label,\r\n} from \"reactstrap\";\r\nimport classnames from \"classnames\";\r\nimport \"./search.css\";\r\nimport ReactAutocomplete from \"react-autocomplete\";\r\nimport { autocomplete } from \"../functions/functions\";\r\n\r\nconst timeout = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\nclass Search extends Component {\r\n  state = {\r\n    text: \"\",\r\n    dbtext: \"\",\r\n    activeTab: \"1\",\r\n    autoCompleteItems: [{ title: \"\", _id: \"s\" }],\r\n    checked: false,\r\n  };\r\n  onChangetext = async (e) => {\r\n    let value = e.target.value;\r\n    this.setState({\r\n      text: value,\r\n      dbtext: value,\r\n    });\r\n\r\n    await timeout(150);\r\n    if (value !== this.state.text) return; //we got new stuff?\r\n    if (value === \"\") return;\r\n    //let res = await handleSubmit_db(value);\r\n    let res = await autocomplete(value);\r\n\r\n    this.setState({\r\n      autoCompleteItems: res,\r\n    });\r\n  };\r\n  onSelect = (val) => {\r\n    this.setState({\r\n      dbtext: val,\r\n      text: val,\r\n    });\r\n  };\r\n  submit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.checked) {\r\n      this.getArtists();\r\n      return;\r\n    }\r\n    this.props.handleSubmit(this.state.text);\r\n  };\r\n  getArtists() {\r\n    this.props.getArtists(this.state.text);\r\n  }\r\n  submitDb = async (e) => {\r\n    e.preventDefault();\r\n    //let res = await handleSubmit_db(this.state.text);\r\n    this.props.handleDB(null, this.state.text);\r\n  };\r\n  toggle = (i) => {\r\n    this.setState({\r\n      activeTab: i,\r\n    });\r\n    this.props.setTab(i);\r\n  };\r\n  boxChange = (evt) => {\r\n    this.setState({ checked: evt.target.checked });\r\n  };\r\n  render() {\r\n    let { activeTab } = this.state;\r\n    return (\r\n      <div>\r\n        <Nav tabs>\r\n          <NavItem>\r\n            <NavLink\r\n              className={classnames({ active: activeTab === \"1\" })}\r\n              onClick={() => {\r\n                this.toggle(\"1\");\r\n              }}\r\n            >\r\n              Database\r\n            </NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink\r\n              className={classnames({ active: activeTab === \"2\" })}\r\n              onClick={() => {\r\n                this.toggle(\"2\");\r\n              }}\r\n            >\r\n              YouTube\r\n            </NavLink>\r\n          </NavItem>\r\n        </Nav>\r\n\r\n        <TabContent activeTab={activeTab}>\r\n          <TabPane tabId=\"1\">\r\n            <Row>\r\n              <Col sm=\"12\">\r\n                <form onSubmit={this.submitDb}>\r\n                  <InputGroup>\r\n                    {/*<Input\r\n                      type=\"text\"\r\n                      placeholder=\"Search for songs on YouTube...\"\r\n                      required\r\n                      className=\"form-control\"\r\n                      value={this.state.text}\r\n                      onChange={this.onChangetext}\r\n                    />*/}\r\n                    <ReactAutocomplete\r\n                      autoHighlight={false}\r\n                      renderInput={function (props) {\r\n                        return (\r\n                          <input\r\n                            id=\"autocomplete\"\r\n                            placeholder=\"Search for songs from our DB by Track, Album or Artist\"\r\n                            {...props}\r\n                          />\r\n                        );\r\n                      }}\r\n                      items={this.state.autoCompleteItems}\r\n                      wrapperStyle={{\r\n                        width: \"calc(100% - 71px)\",\r\n                      }}\r\n                      getItemValue={(item) => item.title}\r\n                      menuStyle={{\r\n                        zIndex: 10000,\r\n                        borderRadius: \"3px\",\r\n                        boxShadow: \"0 2px 12px rgba(0, 0, 0, 0.1)\",\r\n                        background: \"#ffffff\",\r\n                        padding: \"2px 0\",\r\n                        fontSize: \"90%\",\r\n                        position: \"fixed\",\r\n                        overflow: \"auto\",\r\n                        maxHeight: \"50%\", // TODO: don't cheat, let it flow to the bottom\r\n                      }}\r\n                      renderItem={(item, highlighted) => (\r\n                        <div\r\n                          key={item._id}\r\n                          style={{\r\n                            color: \"#000000\",\r\n                            backgroundColor: highlighted\r\n                              ? \"rgb(219, 219, 219)\"\r\n                              : \"transparent\",\r\n                          }}\r\n                        >\r\n                          {item.title}\r\n                        </div>\r\n                      )}\r\n                      value={this.state.text}\r\n                      onChange={(e) => this.onChangetext(e)}\r\n                      onSelect={(value) => this.onSelect(value)}\r\n                    />\r\n                    <InputGroupAddon addonType=\"append\">\r\n                      <Button color=\"secondary\">Search</Button>\r\n                    </InputGroupAddon>\r\n                  </InputGroup>\r\n                </form>\r\n              </Col>\r\n            </Row>\r\n          </TabPane>\r\n          <TabPane tabId=\"2\">\r\n            <Row>\r\n              <Col sm=\"12\">\r\n                <form onSubmit={this.submit}>\r\n                  <InputGroup>\r\n                    {/*<Input\r\n                      type=\"text\"\r\n                      placeholder=\"Search for songs on YouTube...\"\r\n                      required\r\n                      className=\"form-control\"\r\n                      value={this.state.text}\r\n                      onChange={this.onChangetext}\r\n                    />*/}\r\n                    <ReactAutocomplete\r\n                      renderInput={function (props) {\r\n                        return (\r\n                          <input\r\n                            id=\"autocomplete\"\r\n                            placeholder=\"Search for songs on YouTube...\"\r\n                            {...props}\r\n                          />\r\n                        );\r\n                      }}\r\n                      items={this.state.autoCompleteItems}\r\n                      wrapperStyle={{\r\n                        width: \"calc(100% - 71px)\",\r\n                      }}\r\n                      getItemValue={(item) => item.title}\r\n                      menuStyle={{\r\n                        zIndex: 10000,\r\n                        borderRadius: \"3px\",\r\n                        boxShadow: \"0 2px 12px rgba(0, 0, 0, 0.1)\",\r\n                        background: \"#ffffff\",\r\n                        padding: \"2px 0\",\r\n                        fontSize: \"90%\",\r\n                        position: \"fixed\",\r\n                        overflow: \"auto\",\r\n                        maxHeight: \"50%\", // TODO: don't cheat, let it flow to the bottom\r\n                      }}\r\n                      renderItem={(item, highlighted) => (\r\n                        <div\r\n                          key={item._id}\r\n                          style={{\r\n                            color: \"#000000\",\r\n                            backgroundColor: highlighted\r\n                              ? \"rgb(219, 219, 219)\"\r\n                              : \"transparent\",\r\n                          }}\r\n                        >\r\n                          {item.title}\r\n                        </div>\r\n                      )}\r\n                      value={this.state.text}\r\n                      onChange={(e) => this.onChangetext(e)}\r\n                      onSelect={(value) => this.onSelect(value)}\r\n                    />\r\n\r\n                    <InputGroupAddon addonType=\"append\">\r\n                      <Button color=\"secondary\">Search</Button>\r\n                    </InputGroupAddon>\r\n                    <FormGroup check>\r\n                      <Label check>\r\n                        <Input\r\n                          name=\"checked\"\r\n                          onChange={this.boxChange}\r\n                          checked={this.state.checked}\r\n                          type=\"checkbox\"\r\n                        />{\" \"}\r\n                        Search for artists\r\n                      </Label>\r\n                    </FormGroup>\r\n                  </InputGroup>\r\n                </form>\r\n              </Col>\r\n            </Row>\r\n          </TabPane>\r\n        </TabContent>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, Button, CardText, Row, Col } from \"reactstrap\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport \"./queue.css\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nclass Queueitem extends Component {\r\n  state = {\r\n    editMode: this.props.editMode,\r\n  };\r\n\r\n  async onRemoveClick(id) {\r\n    //console.log(id);\r\n\r\n    this.props.onRemove(id);\r\n  }\r\n  onPlayClick = (id) => {\r\n    //console.log(id);\r\n    this.props.onPlay(id);\r\n  };\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        editMode: this.props.editMode,\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Card\r\n          className=\"card\"\r\n          onDoubleClick={this.onPlayClick.bind(this, this.props)}\r\n        >\r\n          <CardBody>\r\n            <Row>\r\n              <Col xs=\"2\" sm=\"2\">\r\n                <div\r\n                  className=\"thumbnailbuttonplaylist d-none d-xl-block\"\r\n                  onClick={this.onPlayClick.bind(this, this.props)}\r\n                >\r\n                  {this.props.thumbnail && (\r\n                    <LazyLoadImage\r\n                      height={60}\r\n                      src={this.props.thumbnail} // use normal <img> attributes as props\r\n                      width={60}\r\n                      style={{ position: \"absolute\" }}\r\n                      id=\"thumbnail\"\r\n                    />\r\n                  )}\r\n                  <FontAwesomeIcon\r\n                    className=\"Active\"\r\n                    size={\"lg\"}\r\n                    icon={faPlay}\r\n                    id=\"thumbnail2\"\r\n                  />\r\n                  {/*     <Button\r\n                    className=\"btn btn-secondary float-right btn-item\"\r\n                    onClick={this.onPlayClick.bind(this, this.props)}\r\n                  >\r\n                    Play\r\n                  </Button> */}\r\n                </div>\r\n              </Col>\r\n              <Col xs=\"7\" sm=\"7\">\r\n                <CardText className=\"hoverEffect\">{this.props.title} </CardText>{\" \"}\r\n                {this.props.artists && (\r\n                  <RenderArtists\r\n                    toggleArtistModal={this.props.toggleArtistModalItem}\r\n                    artists={this.props.artists}\r\n                  />\r\n                )}\r\n              </Col>\r\n\r\n              <Col xs=\"1\" sm=\"1\">\r\n                <small className=\"float-left\">{this.props.duration}</small>\r\n              </Col>\r\n              <Col xs=\"2\" sm=\"2\">\r\n                <div className=\"placeforbutton\">\r\n                  {this.props.editMode ? (\r\n                    <Button\r\n                      className=\"btn btn-secondary button float-right\"\r\n                      color=\"secondary\"\r\n                      onClick={this.onRemoveClick.bind(this, this.props)}\r\n                    >\r\n                      x\r\n                    </Button>\r\n                  ) : null}\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst RenderArtists = (props) => {\r\n  return props.artists.map((artist, index) => (\r\n    <div\r\n      key={index}\r\n      className=\"artistStuff2 hoverEffect\"\r\n      id={artist.id}\r\n      onClick={() =>\r\n        props.toggleArtistModal({ name: artist.name, id: artist.id })\r\n      }\r\n    >\r\n      {artist.name} &nbsp;\r\n    </div>\r\n  ));\r\n};\r\nexport default Queueitem;\r\n","import React, { Component } from \"react\";\r\nimport { sortableElement } from \"react-sortable-hoc\";\r\nimport Queueitem from \"./queueitem\";\r\nimport { List } from \"react-virtualized\";\r\nimport { Menu, Item, Separator, Submenu, contextMenu } from \"react-contexify\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport \"./queue.css\";\r\n//example from https://github.com/clauderic/react-sortable-hoc/blob/master/examples/react-virtualized.js#L12\r\nconst MyAwesomeMenu = (props) => {\r\n  return (\r\n    <Menu id=\"menu_id3\">\r\n      <Item\r\n        onClick={({ props }) => {\r\n          props.onPlay(props);\r\n        }}\r\n      >\r\n        Play song\r\n      </Item>\r\n      <Separator />\r\n      <Submenu label=\"Go to Artist\" disabled={!props.artists}>\r\n        {props.artists &&\r\n          props.artists.map((artist) => (\r\n            <Item\r\n              onClick={({ props }) =>\r\n                props.toggleArtistModal({ name: artist.name, id: artist.id })\r\n              }\r\n            >\r\n              {artist.name}\r\n            </Item>\r\n          ))}\r\n      </Submenu>\r\n      <Item\r\n        disabled={!props.album}\r\n        onClick={({ props }) => {\r\n          if (props.album) {\r\n            props.toggleAlbumModal({\r\n              artist: props.artists[0].name,\r\n              browseId: props.album.id,\r\n              type: \"Album\",\r\n              thumbnails: [\r\n                { height: 60, url: props.thumbnail },\r\n                { height: 60, url: props.thumbnail },\r\n              ],\r\n              title: props.album.name,\r\n            });\r\n          }\r\n        }}\r\n      >\r\n        Go to Album\r\n      </Item>\r\n\r\n      <Separator />\r\n      <Submenu label=\"Add to playlist\">\r\n        {props.playlists &&\r\n          props.playlists.map((playlist) => {\r\n            return (\r\n              <Item\r\n                onClick={({ props }) => {\r\n                  props.addSongToPlaylist(props, playlist._id);\r\n                }}\r\n              >\r\n                {playlist.name}\r\n              </Item>\r\n            );\r\n          })}\r\n      </Submenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nconst SortableItem = sortableElement(\r\n  ({\r\n    uniqueId,\r\n    title,\r\n    thumbnail,\r\n    channelTitle,\r\n    publishedAt,\r\n    videoId,\r\n    duration,\r\n    onRemove,\r\n    onPlay,\r\n    editMode,\r\n    artists,\r\n    album,\r\n    toggleArtistModalItem,\r\n  }) => (\r\n    <Queueitem\r\n      key={uniqueId}\r\n      uniqueId={uniqueId}\r\n      title={title}\r\n      thumbnail={thumbnail}\r\n      channelTitle={channelTitle}\r\n      publishedAt={publishedAt}\r\n      videoId={videoId}\r\n      onRemove={onRemove}\r\n      onPlay={onPlay}\r\n      duration={duration}\r\n      editMode={editMode}\r\n      artists={artists}\r\n      album={album}\r\n      toggleArtistModalItem={toggleArtistModalItem}\r\n    />\r\n  )\r\n);\r\nexport default class QueueList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: this.props.playlists,\r\n      artists: [],\r\n      album: [],\r\n    };\r\n  }\r\n  handleContextMenu(e, props) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      artists: props.artists,\r\n      album: props.album,\r\n    });\r\n    contextMenu.show({\r\n      id: \"menu_id3\",\r\n      event: e,\r\n      props: props,\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        playlists: this.props.playlists,\r\n      });\r\n    }\r\n  }\r\n  renderRow = ({ index, style }) => {\r\n    const queue = this.props.queue;\r\n\r\n    const {\r\n      title,\r\n      publishedAt,\r\n      channelTitle,\r\n      videoId,\r\n      thumbnail,\r\n      uniqueId,\r\n      duration,\r\n      artists,\r\n      album,\r\n    } = queue[index];\r\n    //const { value } = items[index];\r\n    return (\r\n      <div\r\n        onContextMenu={(event) =>\r\n          this.handleContextMenu(event, {\r\n            onDeleteFromPlaylist: this.props.onDeleteFromPlaylist,\r\n            playNext: this.props.playNext,\r\n            onAdd: this.props.onAdd,\r\n            onPlay: this.props.onPlay,\r\n            artists: artists,\r\n            toggleArtistModal: this.props.toggleArtistModalItem,\r\n            toggleAlbumModal: this.props.toggleAlbumModal,\r\n            UpdateCurrentPlaylist2: this.props.UpdateCurrentPlaylist2,\r\n            addSongToPlaylist: this.props.addSongToPlaylist,\r\n            videoId,\r\n            title,\r\n            publishedAt,\r\n            uniqueId,\r\n            duration,\r\n            thumbnail,\r\n            album,\r\n          })\r\n        }\r\n        key={uniqueId}\r\n        style={style}\r\n      >\r\n        <SortableItem\r\n          className=\"QueueItem\"\r\n          key={uniqueId}\r\n          uniqueId={uniqueId}\r\n          index={index}\r\n          title={title}\r\n          videoId={videoId}\r\n          publishedAt={publishedAt}\r\n          channelTitle={channelTitle}\r\n          thumbnail={thumbnail}\r\n          onRemove={this.props.onRemove}\r\n          onPlay={this.props.onPlay}\r\n          duration={duration}\r\n          editMode={this.props.editMode}\r\n          toggleArtistModalItem={this.props.toggleArtistModalItem}\r\n          artists={artists}\r\n          album={album}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { getRef } = this.props;\r\n    const queue = this.props.queue;\r\n    return (\r\n      <>\r\n        <List\r\n          ref={getRef}\r\n          rowHeight={82}\r\n          rowRenderer={this.renderRow}\r\n          rowCount={queue.length}\r\n          width={this.props.width}\r\n          height={250}\r\n        />\r\n        <MyAwesomeMenu\r\n          artists={this.state.artists}\r\n          playlists={this.state.playlists}\r\n          album={this.state.album}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport { Button, Container } from \"reactstrap\";\r\n\r\nimport QueueList from \"./queueList\";\r\n\r\nimport { SortableContainer } from \"react-sortable-hoc\";\r\nimport { AutoSizer } from \"react-virtualized\";\r\nimport arrayMove from \"array-move\";\r\nimport \"./queue.css\";\r\n\r\nconst SortableVirtualList = SortableContainer(QueueList);\r\nconst timeout = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\nclass Queue extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      queue: this.props.queue,\r\n      editMode: false,\r\n      animation: false,\r\n    };\r\n    this.shuffleQueue = this.shuffleQueue.bind(this);\r\n    this.clearQueue = this.clearQueue.bind(this);\r\n  }\r\n  registerListRef = (listInstance) => {\r\n    this.List = listInstance;\r\n  };\r\n\r\n  onSortEnd = ({ oldIndex, newIndex }) => {\r\n    if (oldIndex === newIndex) {\r\n      return;\r\n    }\r\n\r\n    const { queue } = this.state;\r\n\r\n    this.setState({\r\n      queue: arrayMove(queue, oldIndex, newIndex),\r\n    }); //tässä ongelma\r\n    //katso m,yös auuto scroller\r\n    //sekä vähä styling?\r\n\r\n    // We need to inform React Virtualized that the items have changed heights\r\n    // This can either be done by imperatively calling the recomputeRowHeights and\r\n    // forceUpdate instance methods on the `List` ref, or by passing an additional prop\r\n    // to List that changes whenever the order changes to force it to re-render\r\n    this.props.setQueue(this.state.queue);\r\n    this.List.recomputeRowHeights();\r\n    this.List.forceUpdate();\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      this.setState({\r\n        queue: this.props.queue,\r\n      });\r\n    }\r\n  }\r\n  async shuffleQueue() {\r\n    this.setState({\r\n      animation: true,\r\n    });\r\n    await timeout(200);\r\n    this.props.shuffleQueue();\r\n    this.List.recomputeRowHeights();\r\n    this.List.forceUpdate(); //force list to update\r\n  }\r\n  clearQueue() {\r\n    this.props.clearQueue();\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      editMode: !this.state.editMode,\r\n    });\r\n    this.List.recomputeRowHeights();\r\n    this.List.forceUpdate(); //force list to update\r\n  };\r\n  toggleArtistModalItem = async (artist) => {\r\n    this.props.toggleArtistModal(artist);\r\n  };\r\n\r\n  render() {\r\n    const animation = this.state.animation;\r\n    //console.log(\"queue\");\r\n    //console.log(this.state.editMode);\r\n\r\n    return (\r\n      <div className=\"queueList\">\r\n        {this.props.isShuffle ? (\r\n          <p>\r\n            Shuffle is on! Playing random songs from the queue. There are{\" \"}\r\n            {this.props.queue.length} songs in the queue. To see and edit the\r\n            queue please set shuffle off.\r\n          </p>\r\n        ) : null}\r\n        {!this.props.isShuffle && this.props.queue[0] ? (\r\n          <Container>\r\n            <Button\r\n              disabled={this.props.queue[0] ? false : true}\r\n              className=\"float-right btn-remove\"\r\n              onClick={this.clearQueue}\r\n            >\r\n              CLEAR\r\n            </Button>\r\n            <Button\r\n              disabled={this.props.queue[0] ? false : true}\r\n              className=\"float-right\"\r\n              onClick={this.shuffleQueue}\r\n            >\r\n              SHUFFLE\r\n            </Button>\r\n            <Button\r\n              disabled={this.props.queue[0] ? false : true}\r\n              className=\"float-left btn-edit\"\r\n              onClick={this.toggle}\r\n            >\r\n              {this.state.editMode ? \"Save\" : \"Edit\"}\r\n            </Button>\r\n            <span>\r\n              {\" \"}\r\n              <span>Queue</span>\r\n            </span>\r\n            <br />\r\n            <br />\r\n            <div\r\n              onAnimationEnd={() => this.setState({ animation: false })}\r\n              className={animation ? \"animation\" : \"queue\"}\r\n            >\r\n              <AutoSizer disableHeight>\r\n                {({ width }) => (\r\n                  <SortableVirtualList\r\n                    getRef={this.registerListRef}\r\n                    queue={this.state.queue}\r\n                    onSortEnd={this.onSortEnd}\r\n                    onRemove={this.props.onRemove}\r\n                    onPlay={this.props.onPlay}\r\n                    editMode={this.state.editMode}\r\n                    toggleArtistModalItem={this.toggleArtistModalItem}\r\n                    width={width}\r\n                    distance={10}\r\n                    playlists={this.props.playlists}\r\n                    addSongToPlaylist={this.props.addSongToPlaylist}\r\n                    toggleAlbumModal={this.props.toggleAlbumModal}\r\n                  />\r\n                )}\r\n              </AutoSizer>\r\n            </div>\r\n          </Container>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Queue;\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Card,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n  CardText,\r\n} from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport \"toasted-notes/src/styles.css\"; // optional styles;\r\n\r\nconst ModalExample = (props) => {\r\n  /*   console.log(props); */\r\n\r\n  const { className, show } = props;\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        isOpen={show}\r\n        toggle={() => props.toggleModal()}\r\n        className={className}\r\n        backdrop={true}\r\n        keyboard={true}\r\n        size={\"xl\"}\r\n      >\r\n        <ModalHeader\r\n          style={{ textAlign: \"center\" }}\r\n          toggle={() => props.toggleModal()}\r\n          className=\"text-center\"\r\n          cssModule={{ \"modal-title\": \"w-100 text-center\" }}\r\n        >\r\n          All songs from {props.artistName}\r\n        </ModalHeader>\r\n        <ModalBody id=\"modalbody123123\">\r\n          {/* Tänne kaikki buttonit add to playlist jne. queue jne.*/}\r\n          <div className=\"artistTracks\">\r\n            {/* Tästä listasta pitää tehdä virtualisoitu lista! */}\r\n            {props.allSongs.map(\r\n              ({ artists, thumbnails, videoId, title, duration }) => {\r\n                return (\r\n                  <Song\r\n                    uniqueId={videoId + Math.random()}\r\n                    title={title}\r\n                    videoId={videoId}\r\n                    artists={artists}\r\n                    thumbnails={thumbnails}\r\n                    duration={duration}\r\n                    thumbnail={thumbnails[0].url}\r\n                    addFunc={props.addFunc}\r\n                    onPlay={props.onPlay}\r\n                    playNext={props.playNext}\r\n                    AddToPlaylist={props.AddToPlaylist}\r\n                    toggleModal={props.toggleModal}\r\n                    toggleArtistModal={props.toggleArtistModal}\r\n                  />\r\n                );\r\n              }\r\n            )}\r\n          </div>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"secondary\" onClick={() => props.toggleModal()}>\r\n            Go back\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Song = (props) => {\r\n  /*   console.log(props); */\r\n  return (\r\n    <Card\r\n      onDoubleClick={() => {\r\n        if (props.videoId) {\r\n          props.onPlay({\r\n            uniqueId: Math.random(),\r\n            title: props.title,\r\n            videoId: props.videoId,\r\n            duration: props.duration,\r\n            publishedAt: props.publishedAt,\r\n            channelTitle: props.channelTitle,\r\n            artists: props.artists,\r\n            thumbnail: props.thumbnail,\r\n            thumbnails: props.thumbnails,\r\n            album: props.album,\r\n          });\r\n        }\r\n      }}\r\n    >\r\n      <CardBody>\r\n        <Row>\r\n          <Col xs=\"2\" sm=\"2\">\r\n            <div\r\n              className=\"thumbnailbuttonplaylist\"\r\n              onClick={() => {\r\n                if (props.videoId) {\r\n                  props.onPlay({\r\n                    uniqueId: Math.random(),\r\n                    title: props.title,\r\n                    videoId: props.videoId,\r\n                    duration: props.duration,\r\n                    publishedAt: props.publishedAt,\r\n                    channelTitle: props.channelTitle,\r\n                    artists: props.artists,\r\n                    thumbnail: props.thumbnail,\r\n                    thumbnails: props.thumbnails,\r\n                    album: props.album,\r\n                  });\r\n                }\r\n              }}\r\n            >\r\n              {props.thumbnails && (\r\n                <img\r\n                  height={60}\r\n                  src={props.thumbnails[0].url} // use normal <img> attributes as props\r\n                  width={60}\r\n                  style={{ position: \"absolute\" }}\r\n                  id=\"thumbnail\"\r\n                  alt=\"foo\"\r\n                />\r\n              )}\r\n              {props.videoId ? (\r\n                <FontAwesomeIcon\r\n                  className=\"Active\"\r\n                  size={\"lg\"}\r\n                  icon={faPlay}\r\n                  id=\"thumbnail2\"\r\n                />\r\n              ) : null}\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"3\" sm=\"3\">\r\n            <CardText>\r\n              <div className=\"hoverEffect\">{props.title}</div>{\" \"}\r\n            </CardText>\r\n          </Col>\r\n          <Col xs=\"3\" sm=\"3\">\r\n            <RenderArtists2\r\n              toggleModal={props.toggleModal}\r\n              toggleArtistModal={props.toggleArtistModal}\r\n              artists={props.artists}\r\n            />\r\n          </Col>\r\n          <Col xs=\"2\" sm=\"2\">\r\n            <small className=\"float-left\">\r\n              {props.videoId ? props.duration : \"Deleted by artist\"}\r\n            </small>\r\n          </Col>\r\n          <Col xs=\"1\" sm=\"1\">\r\n            <br />\r\n            <br />\r\n            <div className=\"placeforbutton\">\r\n              <Button\r\n                className=\"btn btn-primary btn-item\"\r\n                color=\"secondary\"\r\n                onClick={() => props.AddToPlaylist(props)}\r\n                disabled={!props.videoId}\r\n              >\r\n                +P\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"1\" sm=\"1\">\r\n            <div className=\"placeforbutton\">\r\n              <Button\r\n                className=\"btn btn-secondary float-right btn-item\"\r\n                color=\"info\"\r\n                onClick={() => props.playNext(props)}\r\n                disabled={!props.videoId}\r\n              >\r\n                +N\r\n              </Button>\r\n              <Button\r\n                className=\"btn btn-secondary float-right btn-item\"\r\n                color=\"info\"\r\n                onClick={() => props.addFunc(props)}\r\n                disabled={!props.videoId}\r\n              >\r\n                +Q\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\nconst RenderArtists2 = (props) => {\r\n  return props.artists.map((artist, index) => (\r\n    <div\r\n      key={index}\r\n      onClick={() => {\r\n        props.toggleModal();\r\n        props.toggleArtistModal(artist);\r\n      }}\r\n      className=\"artistStuff hoverEffect\"\r\n    >\r\n      {artist.name} &nbsp;\r\n    </div>\r\n  ));\r\n};\r\nexport default ModalExample;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n} from \"reactstrap\";\r\nimport isEqual from \"react-fast-compare\";\r\n\r\nclass SaveModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false,\r\n      playlistName: this.props.playlistName,\r\n      checked: this.props.isPrivate,\r\n      playlistOwner: this.props.playlistOwner,\r\n      userName: this.props.userName,\r\n    };\r\n    this.toggle = this.toggle.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.boxChange = this.boxChange.bind(this);\r\n  }\r\n  boxChange = (evt) => {\r\n    this.setState({ checked: evt.target.checked });\r\n  };\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      //console.log(this.props.isPrivate);\r\n      this.setState({\r\n        playlistName: this.props.playlistName,\r\n        checked: this.props.isPrivate,\r\n        playlistOwner: this.props.playlistOwner,\r\n        userName: this.props.userName,\r\n      });\r\n    }\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n      playlistName: this.props.playlistName,\r\n    });\r\n  };\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.Updateplaylist(\r\n      this.state.playlistName,\r\n      this.props.playlistId,\r\n      this.state.checked\r\n    );\r\n    this.props.saveName(this.state.playlistName);\r\n    this.toggle();\r\n  };\r\n  render() {\r\n    //console.log(this.props);\r\n    return (\r\n      <div>\r\n        <Button\r\n          className=\"float-right btn-margin btn btn-secondary button\"\r\n          onClick={this.toggle}\r\n          href=\"#\"\r\n          color=\"primary\"\r\n          disabled={\r\n            (this.props.playlistId &&\r\n              this.state.playlistOwner === this.state.userName) ||\r\n            this.props.userRole === \"Admin\"\r\n              ? false\r\n              : true\r\n          }\r\n        >\r\n          Save playlist as\r\n        </Button>\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\r\n          <ModalHeader\r\n            cssModule={{ \"modal-title\": \"w-100 text-center\" }}\r\n            toggle={this.toggle}\r\n          >\r\n            Save playlist as\r\n            <br />\r\n            <br />\r\n          </ModalHeader>\r\n\r\n          <Form onSubmit={this.onSubmit}>\r\n            <ModalBody>\r\n              <FormGroup>\r\n                <Label className=\"label\" for=\"name\">\r\n                  Name:\r\n                </Label>\r\n                <Input\r\n                  type=\"name\"\r\n                  name=\"playlistName\"\r\n                  id=\"playlistName\"\r\n                  placeholder={this.state.playlistName}\r\n                  value={this.state.playlistName || \"\"}\r\n                  className=\"mb-4\"\r\n                  onChange={this.onChange}\r\n                ></Input>\r\n                <div className=\"check\">\r\n                  <Label check className=\"float-right\">\r\n                    <Input\r\n                      name=\"checked\"\r\n                      onChange={this.boxChange}\r\n                      checked={this.state.checked}\r\n                      type=\"checkbox\"\r\n                    />\r\n                    Make the playlist private?\r\n                  </Label>\r\n                </div>\r\n                <br />\r\n                <Button className=\"btn btn-primary my-4 btn-block\">Save</Button>\r\n              </FormGroup>\r\n            </ModalBody>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SaveModal;\r\n","import React from \"react\";\r\nimport { Input } from \"reactstrap\";\r\nexport default function GenresOptions(onChange, usedOnFilter) {\r\n  let genres = [];\r\n  if (usedOnFilter) {\r\n    genres = [\"All\", \"Random\", \"Rock\", \"EDM\", \"Rap\", \"Chill\", \"parti\"];\r\n  } else {\r\n    genres = [\"Random\", \"Rock\", \"EDM\", \"Rap\", \"Chill\", \"parti\"];\r\n  }\r\n\r\n  const genreItems = genres.map((genre) => (\r\n    <option key={genre} value={genre}>\r\n      {genre}\r\n    </option>\r\n  ));\r\n  return (\r\n    <Input onChange={onChange} type=\"select\" name=\"select\" id=\"exampleSelect\">\r\n      {genreItems}\r\n    </Input>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n} from \"reactstrap\";\r\nimport GenresOptions from \"../../functions/genres\";\r\n\r\nclass CreateNew extends Component {\r\n  state = {\r\n    modal: false,\r\n    name: \"\",\r\n    checked: false,\r\n    select: \"Random\",\r\n  };\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  };\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.makePlaylist(\r\n      this.state.name,\r\n      [],\r\n      this.state.checked,\r\n      this.state.select\r\n    ); //if true, we have a private playlist\r\n    this.toggle();\r\n  };\r\n  boxChange = (evt) => {\r\n    this.setState({ checked: evt.target.checked });\r\n  };\r\n  render() {\r\n    //console.log(this.state.checked);\r\n    return (\r\n      <div>\r\n        <Button\r\n          className=\" btn-margin btn-secondary btn button\"\r\n          onClick={this.toggle}\r\n          href=\"#\"\r\n          color=\"secondary\"\r\n        >\r\n          Create Playlist\r\n        </Button>\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\r\n          <ModalHeader\r\n            cssModule={{ \"modal-title\": \"w-100 text-center\" }}\r\n            toggle={this.toggle}\r\n          >\r\n            Create a new playlist here :)\r\n            <br />\r\n            <br />\r\n          </ModalHeader>\r\n\r\n          <Form onSubmit={this.onSubmit}>\r\n            <ModalBody>\r\n              <FormGroup>\r\n                <Label for=\"name\">Name for the playlist:</Label>\r\n                <Input\r\n                  type=\"name\"\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  placeholder=\"epic-partylist\"\r\n                  className=\"mb-4\"\r\n                  onChange={this.onChange}\r\n                ></Input>\r\n\r\n                <Label className=\"\">Genres</Label>\r\n                {GenresOptions(this.onChange)}\r\n                <br />\r\n                <div className=\"check\">\r\n                  <Label check className=\"float-right \">\r\n                    <Input\r\n                      name=\"checked\"\r\n                      onChange={this.boxChange}\r\n                      checked={this.state.checked}\r\n                      type=\"checkbox\"\r\n                    />\r\n                    Make the playlist private?\r\n                  </Label>\r\n                </div>\r\n\r\n                <br />\r\n                <Button className=\"btn btn-primary my-4 btn-block\">Save</Button>\r\n              </FormGroup>\r\n            </ModalBody>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateNew;\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardText, Button, Row, Col } from \"reactstrap\";\r\nimport \"./playlist.css\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport \"moment-duration-format\";\r\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nclass Playlistitem extends Component {\r\n  state = {\r\n    playlist: this.props.playlist,\r\n    editMode: this.props.editMode,\r\n    selected: false,\r\n  };\r\n  onAddClick = (id) => {\r\n    this.props.addFunc(id);\r\n  };\r\n  onPlayClick = (id) => {\r\n    this.props.onPlay(id);\r\n  };\r\n  onDeleteClick = (id) => {\r\n    this.props.onDeleteFromPlaylist(id);\r\n  };\r\n  playNextClick = (item) => {\r\n    this.props.playNext(item);\r\n  };\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        playlist: this.props.playlist,\r\n        editMode: this.props.editMode,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const selected = this.state.selected;\r\n    return (\r\n      <Card\r\n        onMouseOver={() => {\r\n          this.props.setSelected(this.props);\r\n        }}\r\n        onMouseDown={() => {\r\n          this.props.setSelected(this.props);\r\n          this.setState({\r\n            selected: true,\r\n          });\r\n        }}\r\n        onMouseLeave={() => {\r\n          this.setState({\r\n            selected: false,\r\n          });\r\n        }}\r\n        onDoubleClick={this.onPlayClick.bind(this, this.props)}\r\n        className={selected ? \"card selected\" : \"card\"}\r\n      >\r\n        <CardBody>\r\n          <Row>\r\n            <Col xs=\"2\" sm=\"2\" lg=\"1\">\r\n              <div\r\n                className=\"thumbnailbuttonplaylist\"\r\n                onClick={this.onPlayClick.bind(this, this.props)}\r\n              >\r\n                {this.props.thumbnail && (\r\n                  <img\r\n                    height={60}\r\n                    src={this.props.thumbnail} // use normal <img> attributes as props\r\n                    width={60}\r\n                    style={{ position: \"absolute\" }}\r\n                    id=\"thumbnail\"\r\n                    alt=\"foo\"\r\n                  />\r\n                )}\r\n                <FontAwesomeIcon\r\n                  className=\"Active\"\r\n                  size={\"lg\"}\r\n                  icon={faPlay}\r\n                  id=\"thumbnail2\"\r\n                />\r\n              </div>\r\n            </Col>\r\n            <Col xs=\"3\" sm=\"3\">\r\n              <CardText>\r\n                <div className=\"hoverEffect\">{this.props.title} </div>\r\n              </CardText>\r\n            </Col>\r\n            <Col xs=\"4\" sm=\"4\" lg=\"3\">\r\n              {this.props.artists && (\r\n                <RenderArtists\r\n                  toggleArtistModal={this.props.toggleArtistModal}\r\n                  artists={this.props.artists}\r\n                />\r\n              )}\r\n            </Col>\r\n\r\n            <Col lg=\"2\" className=\"d-none d-lg-block\">\r\n              {this.props.album && (\r\n                <CardText>\r\n                  <div\r\n                    onClick={() => {\r\n                      this.props.toggleAlbumModal({\r\n                        artist: this.props.artists[0].name,\r\n                        browseId: this.props.album.id,\r\n                        type: \"Album\",\r\n                        thumbnails: [\r\n                          { height: 60, url: this.props.thumbnail },\r\n                          { height: 60, url: this.props.thumbnail },\r\n                        ],\r\n                        title: this.props.album.name,\r\n                      });\r\n                    }}\r\n                    style={{ cursor: \"pointer\" }}\r\n                    className=\"hoverEffect\"\r\n                  >\r\n                    {this.props.album.name}\r\n                  </div>\r\n                </CardText>\r\n              )}\r\n            </Col>\r\n            <Col xs=\"1\" sm=\"1\">\r\n              <small className=\"float-left\">{this.props.duration}</small>\r\n            </Col>\r\n            <Col xs=\"2\" sm=\"2\">\r\n              <div className=\"placeforbutton\">\r\n                {this.props.editMode ? (\r\n                  <Button\r\n                    className=\"btn btn-secondary btn-remove float-right btn-item\"\r\n                    color=\"danger\"\r\n                    onClick={this.onDeleteClick.bind(this, this.props)}\r\n                  >\r\n                    x\r\n                  </Button>\r\n                ) : (\r\n                  <div className=\"flex-container\">\r\n                    <Button\r\n                      className=\"btn btn-secondary float-right btn-item\"\r\n                      color=\"info\"\r\n                      onClick={this.playNextClick.bind(this, this.props)}\r\n                    >\r\n                      +N\r\n                    </Button>\r\n                    <Button\r\n                      className=\"btn btn-secondary float-right btn-item\"\r\n                      color=\"info\"\r\n                      onClick={this.onAddClick.bind(this, this.props)}\r\n                    >\r\n                      +Q\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nconst RenderArtists = (props) => {\r\n  return props.artists.map((artist, index) => (\r\n    <div\r\n      key={index}\r\n      className=\"artistStuff hoverEffect\"\r\n      onClick={() =>\r\n        props.toggleArtistModal({ name: artist.name, id: artist.id })\r\n      }\r\n    >\r\n      {artist.name} &nbsp;\r\n    </div>\r\n  ));\r\n};\r\n//actions we want to use as second paranthesis\r\nexport default Playlistitem;\r\n","import React, { Component } from \"react\";\r\nimport { sortableElement } from \"react-sortable-hoc\";\r\nimport Playlistitem from \"./playlistitem\";\r\nimport { List } from \"react-virtualized\";\r\nimport { Menu, Item, Separator, Submenu, contextMenu } from \"react-contexify\";\r\nimport \"react-contexify/dist/ReactContexify.min.css\";\r\nimport isEqual from \"react-fast-compare\";\r\n\r\n//example from https://github.com/clauderic/react-sortable-hoc/blob/master/examples/react-virtualized.js#L12\r\nconst MyAwesomeMenu = (props) => {\r\n  return (\r\n    <Menu id=\"menu_id\">\r\n      <Item\r\n        onClick={({ props }) => {\r\n          props.onPlay(props);\r\n        }}\r\n      >\r\n        Play song\r\n      </Item>\r\n      <Item onClick={({ props }) => props.onAdd(props)}>Add to Queue</Item>\r\n      <Item onClick={({ props }) => props.playNext(props)}>Play next</Item>\r\n      <Separator />\r\n      <Submenu label=\"Go to Artist\" disabled={!props.artists}>\r\n        {props.artists &&\r\n          props.artists.map((artist) => (\r\n            <Item\r\n              onClick={({ props }) =>\r\n                props.toggleArtistModal({ name: artist.name, id: artist.id })\r\n              }\r\n            >\r\n              {artist.name}\r\n            </Item>\r\n          ))}\r\n      </Submenu>\r\n      <Item\r\n        disabled={!props.album}\r\n        onClick={({ props }) => {\r\n          if (props.album) {\r\n            props.toggleAlbumModal({\r\n              artist: props.artists[0].name,\r\n              browseId: props.album.id,\r\n              type: \"Album\",\r\n              thumbnails: [\r\n                { height: 60, url: props.thumbnail },\r\n                { height: 60, url: props.thumbnail },\r\n              ],\r\n              title: props.album.name,\r\n            });\r\n          }\r\n        }}\r\n      >\r\n        Go to Album\r\n      </Item>\r\n\r\n      <Separator />\r\n      <Submenu label=\"Add to playlist\">\r\n        {props.playlists &&\r\n          props.playlists.map((playlist, index) => {\r\n            return (\r\n              <Item\r\n                key={index}\r\n                onClick={({ props }) => {\r\n                  props.addSongToPlaylist(props, playlist._id);\r\n                }}\r\n              >\r\n                {playlist.name}\r\n              </Item>\r\n            );\r\n          })}\r\n      </Submenu>\r\n      <Separator />\r\n      <Item\r\n        onClick={async ({ props }) => {\r\n          //console.log(props);\r\n\r\n          await props.onDeleteFromPlaylist(props);\r\n          props.UpdateCurrentPlaylist2();\r\n        }}\r\n      >\r\n        Remove from this Playlist (del)\r\n      </Item>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nconst SortableItem = sortableElement(\r\n  ({\r\n    uniqueId,\r\n    title,\r\n    publishedAt,\r\n    videoId,\r\n    onAdd,\r\n    onPlay,\r\n    onDeleteFromPlaylist,\r\n    duration,\r\n    onRemove,\r\n    editMode,\r\n    playNext,\r\n    thumbnail,\r\n    artists,\r\n    toggleArtistModal,\r\n    album,\r\n    toggleAlbumModal,\r\n    setSelected,\r\n    selected,\r\n  }) => (\r\n    <Playlistitem\r\n      key={uniqueId}\r\n      uniqueId={uniqueId}\r\n      title={title}\r\n      videoId={videoId}\r\n      addFunc={onAdd}\r\n      onPlay={onPlay}\r\n      onDeleteFromPlaylist={onDeleteFromPlaylist}\r\n      onRemove={onRemove}\r\n      duration={duration}\r\n      publishedAt={publishedAt}\r\n      editMode={editMode}\r\n      playNext={playNext}\r\n      thumbnail={thumbnail && thumbnail}\r\n      artists={artists}\r\n      toggleArtistModal={toggleArtistModal}\r\n      album={album}\r\n      toggleAlbumModal={toggleAlbumModal}\r\n      setSelected={setSelected}\r\n      selected={selected}\r\n    />\r\n  )\r\n);\r\n\r\nexport default class PlaylistItemsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: this.props.playlists,\r\n      artists: [],\r\n      album: [],\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        playlists: this.props.playlists,\r\n      });\r\n    }\r\n  }\r\n  handleContextMenu(e, props) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      artists: props.artists,\r\n      album: props.album,\r\n    });\r\n    contextMenu.show({\r\n      id: \"menu_id\",\r\n      event: e,\r\n      props: props,\r\n    });\r\n  }\r\n  renderRow = ({ index, style }) => {\r\n    const playlist = this.props.playlist;\r\n    /*    console.log(playlist); */\r\n    const {\r\n      title,\r\n      publishedAt,\r\n      videoId,\r\n      uniqueId,\r\n      duration,\r\n      thumbnail,\r\n      artists,\r\n      album,\r\n    } = playlist[index];\r\n    const a = Math.random();\r\n    return (\r\n      <div\r\n        onContextMenu={(event) =>\r\n          this.handleContextMenu(event, {\r\n            onDeleteFromPlaylist: this.props.onDeleteFromPlaylist,\r\n            playNext: this.props.playNext,\r\n            onAdd: this.props.onAdd,\r\n            onPlay: this.props.onPlay,\r\n            toggleArtistModal: this.props.toggleArtistModal,\r\n            toggleAlbumModal: this.props.toggleAlbumModal,\r\n            UpdateCurrentPlaylist2: this.props.UpdateCurrentPlaylist2,\r\n            addSongToPlaylist: this.props.addSongToPlaylist,\r\n            videoId,\r\n            title,\r\n            publishedAt,\r\n            uniqueId,\r\n            duration,\r\n            thumbnail,\r\n            artists,\r\n            album,\r\n          })\r\n        }\r\n        key={a}\r\n        style={style}\r\n      >\r\n        <SortableItem\r\n          index={index}\r\n          key={uniqueId}\r\n          uniqueId={uniqueId}\r\n          title={title}\r\n          videoId={videoId}\r\n          onAdd={this.props.onAdd}\r\n          onPlay={this.props.onPlay}\r\n          onDeleteFromPlaylist={this.props.onDeleteFromPlaylist}\r\n          onRemove={this.props.onRemove}\r\n          duration={duration}\r\n          publishedAt={publishedAt}\r\n          editMode={this.props.editMode}\r\n          playNext={this.props.playNext}\r\n          thumbnail={thumbnail && thumbnail}\r\n          artists={artists}\r\n          toggleArtistModal={this.props.toggleArtistModal}\r\n          toggleAlbumModal={this.props.toggleAlbumModal}\r\n          UpdateCurrentPlaylist2={this.props.UpdateCurrentPlaylist2}\r\n          setSelected={this.props.setSelected}\r\n          album={album}\r\n          selected={this.props.selected}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    //console.log(this.props);\r\n    const { getRef } = this.props;\r\n    const playlist = this.props.playlist;\r\n    return (\r\n      <>\r\n        <List\r\n          ref={getRef}\r\n          rowHeight={82}\r\n          rowRenderer={this.renderRow}\r\n          rowCount={playlist.length}\r\n          width={this.props.width}\r\n          height={500}\r\n        />\r\n        <MyAwesomeMenu\r\n          artists={this.state.artists}\r\n          playlists={this.state.playlists}\r\n          album={this.state.album}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Button, Input } from \"reactstrap\";\r\nimport SaveModal from \"./save/saveModal\";\r\nimport CreateNew from \"./createNew/createNew\";\r\nimport isEqual from \"react-fast-compare\";\r\n\r\nimport PlaylistItemsList from \"./playlistItemsList\";\r\nimport { SortableContainer } from \"react-sortable-hoc\";\r\nimport { AutoSizer } from \"react-virtualized\";\r\nimport arrayMove from \"array-move\";\r\nimport \"./playlist.css\";\r\n\r\nconst SortableVirtualList = SortableContainer(PlaylistItemsList);\r\n\r\nclass Playlist extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: this.props.playlists,\r\n      playlist: this.props.playlist,\r\n      playlistName: this.props.playlistName,\r\n      playlistId: this.props.playlistId,\r\n      editMode: false,\r\n      filter: \"\",\r\n      playlistOwner: this.props.playlistOwner,\r\n      userName: this.props.userName,\r\n    };\r\n    this.UpdateCurrentPlaylist = this.UpdateCurrentPlaylist.bind(this);\r\n\r\n    this.onDeleteFromPlaylist = this.onDeleteFromPlaylist.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.addPlaylistToQueue = this.addPlaylistToQueue.bind(this);\r\n  }\r\n  updateTimer;\r\n  addPlaylistToQueue(filteredData) {\r\n    this.props.addPlaylistToQueue(filteredData);\r\n  }\r\n  handleChange = (event) => {\r\n    this.setState({ filter: event.target.value });\r\n    this.forceUpdate();\r\n  };\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (!isEqual(nextProps, this.props)) {\r\n      return true;\r\n    }\r\n    if (!isEqual(nextProps.playlistName, this.state.playlistName)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        playlist: this.props.playlist,\r\n        playlists: this.props.playlists.reverse,\r\n        playlistName: this.props.playlistName,\r\n        playlistId: this.props.playlistId,\r\n        playlistOwner: this.props.playlistOwner,\r\n        userName: this.props.userName,\r\n      });\r\n    }\r\n  }\r\n  onDeleteFromPlaylist(item) {\r\n    for (let i = 0; i < this.state.playlist.length; i++) {\r\n      if (this.state.playlist[i].uniqueId === item.uniqueId) {\r\n        //delete item from playlist\r\n\r\n        this.state.playlist.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.forceUpdate();\r\n    this.props.onDeleteFromPlaylist(item);\r\n  }\r\n  updateTimer2;\r\n  playPlaylist(playlist) {\r\n    this.props.playPlaylist(playlist);\r\n  }\r\n\r\n  async UpdateCurrentPlaylist() {\r\n    this.props.setPlaylist(this.state.playlist);\r\n    await this.props.UpdateCurrentPlaylist();\r\n    this.toggle();\r\n  }\r\n  UpdateCurrentPlaylist2 = async () => {\r\n    this.props.setPlaylist(this.state.playlist);\r\n    if (this.updateTimer2) {\r\n      clearTimeout(this.updateTimer2);\r\n    }\r\n    const playlistname = this.state.playlistName;\r\n    const playlistid = this.state.playlistId;\r\n    const playlist2 = this.state.playlist;\r\n    const isPrivate = this.props.isPrivate;\r\n    this.updateTimer2 = setTimeout(() => {\r\n      this.props.UpdatePlayListStatus(\r\n        playlistname,\r\n        playlistid,\r\n        playlist2,\r\n        isPrivate\r\n      );\r\n    }, 2000);\r\n  };\r\n  registerListRef = (listInstance) => {\r\n    this.List = listInstance;\r\n  };\r\n\r\n  onSortEnd = ({ oldIndex, newIndex }) => {\r\n    if (oldIndex === newIndex) {\r\n      return;\r\n    }\r\n\r\n    const { playlist } = this.props;\r\n\r\n    this.setState({\r\n      playlist: arrayMove(playlist, oldIndex, newIndex),\r\n    });\r\n    //console.log(playlist);\r\n    //console.log(arrayMove(playlist, oldIndex, newIndex));\r\n    // We need to inform React Virtualized that the items have changed heights\r\n    // This can either be done by imperatively calling the recomputeRowHeights and\r\n    // forceUpdate instance methods on the `List` ref, or by passing an additional prop\r\n    // to List that changes whenever the order changes to force it to re-render\r\n    this.props.setPlaylist(this.state.playlist);\r\n    this.List.recomputeRowHeights();\r\n    this.List.forceUpdate();\r\n    if (this.updateTimer) {\r\n      clearTimeout(this.updateTimer);\r\n    }\r\n    const playlistname = this.state.playlistName;\r\n    const playlistid = this.state.playlistId;\r\n    const playlist2 = this.state.playlist;\r\n    const isPrivate = this.props.isPrivate;\r\n    this.updateTimer = setTimeout(() => {\r\n      this.props.UpdatePlayListStatus(\r\n        playlistname,\r\n        playlistid,\r\n        playlist2,\r\n        isPrivate\r\n      );\r\n    }, 2000);\r\n  };\r\n\r\n  toggleArtistModal = async (artist) => {\r\n    this.props.toggleArtistModal(artist);\r\n  };\r\n  saveName = (name) => {\r\n    this.setState({\r\n      playlistName: name,\r\n    });\r\n    this.forceUpdate();\r\n  };\r\n  setSelected = (props) => {\r\n    this.selected = props;\r\n  };\r\n  selected;\r\n  render() {\r\n    const { filter } = this.state;\r\n    const { playlist } = this.props;\r\n\r\n    const lowercasedFilter = filter.toLowerCase();\r\n    //console.log(playlist);\r\n    const filteredData = playlist.filter((item) => {\r\n      if (item === null || typeof item === \"undefined\") return playlist; //problems\r\n      return Object.keys(item).some(\r\n        (key) =>\r\n          (typeof item[key] === \"string\" &&\r\n            key === \"title\" && //only filter based on name\r\n            item[key].toLowerCase().includes(lowercasedFilter)) ||\r\n          (typeof item[key] === \"object\" &&\r\n            key === \"album\" &&\r\n            item[key].name.toLowerCase().includes(lowercasedFilter)) ||\r\n          (typeof item[key] === \"object\" &&\r\n            key === \"artists\" &&\r\n            item[key][0].name.toLowerCase().includes(lowercasedFilter)) ||\r\n          (typeof item[key] === \"object\" &&\r\n            key === \"artists\" &&\r\n            item[key][1] &&\r\n            item[key][1].name.toLowerCase().includes(lowercasedFilter)) ||\r\n          (typeof item[key] === \"object\" &&\r\n            key === \"artists\" &&\r\n            item[key][2] &&\r\n            item[key][2].name.toLowerCase().includes(lowercasedFilter)) ||\r\n          (typeof item[key] === \"object\" &&\r\n            key === \"artists\" &&\r\n            item[key][3] &&\r\n            item[key][3].name.toLowerCase().includes(lowercasedFilter))\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div\r\n        onKeyDown={async (event) => {\r\n          if (event.key === \"Delete\") {\r\n            await this.onDeleteFromPlaylist(this.selected);\r\n            this.UpdateCurrentPlaylist2();\r\n          }\r\n        }}\r\n      >\r\n        <div className=\"btn-group \">\r\n          <Button\r\n            className=\"float-left btn-margin btn-secondary\"\r\n            color=\"info\"\r\n            onClick={this.playPlaylist.bind(this, filteredData)}\r\n            disabled={this.props.playlist[0] ? false : true}\r\n          >\r\n            Play playlist\r\n          </Button>\r\n          <CreateNew\r\n            makePlaylist={this.props.makePlaylist}\r\n            playlistName={this.state.playlistName}\r\n            setLoading={this.setLoading}\r\n          />\r\n\r\n          <SaveModal\r\n            userRole={this.props.userRole}\r\n            userName={this.state.userName}\r\n            playlistId={this.props.playlistId}\r\n            isPrivate={this.props.isPrivate}\r\n            Updateplaylist={this.props.Updateplaylist}\r\n            saveName={this.saveName}\r\n            playlistName={this.state.playlistName}\r\n            playlistOwner={this.state.playlistOwner}\r\n            setLoading={this.setLoading}\r\n          />\r\n          <Button\r\n            className=\"float-right btn-margin btn btn-secondary button\"\r\n            color=\"info\"\r\n            onClick={this.addPlaylistToQueue.bind(this, filteredData)}\r\n            disabled={this.props.playlist[0] ? false : true}\r\n          >\r\n            + Q\r\n          </Button>\r\n        </div>\r\n        <br />\r\n        <br />\r\n        <p className=\"float-left\">\r\n          Current playlist: {this.state.playlistName}\r\n        </p>\r\n        <br />\r\n        <Input\r\n          value={filter}\r\n          onChange={this.handleChange}\r\n          placeholder=\"Filter songs...\"\r\n        />\r\n        <hr />\r\n\r\n        <p className=\"float-left\">Total songs: {filteredData.length}</p>\r\n\r\n        <AutoSizer disableHeight>\r\n          {({ width }) => (\r\n            <SortableVirtualList\r\n              playNext={this.props.playNext}\r\n              editMode={this.state.editMode}\r\n              getRef={this.registerListRef}\r\n              playlist={filteredData}\r\n              onSortEnd={this.onSortEnd}\r\n              onAdd={this.props.onAdd}\r\n              onPlay={this.props.onPlay}\r\n              onDeleteFromPlaylist={this.onDeleteFromPlaylist}\r\n              toggleArtistModal={this.toggleArtistModal}\r\n              toggleAlbumModal={this.props.toggleAlbumModal}\r\n              UpdateCurrentPlaylist2={this.UpdateCurrentPlaylist2}\r\n              width={width}\r\n              distance={10}\r\n              playlists={this.props.playlists}\r\n              addSongToPlaylist={this.props.addSongToPlaylist}\r\n              setSelected={this.setSelected}\r\n              selected={this.selected}\r\n            />\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Playlist;\r\n","import React from \"react\";\r\n//Tänne myös contet menu? Load playlist && Delete playlist tms.\r\n//contextiin voisi tehdä mm. save-as model\r\n//tänne voisi laittaa sen create new jutunkin\r\n//pitää miettii uudelleen minne laittaa sen put to queue ja play playlist\r\n//nekin voisi löytyä siitä context - menusta.\r\n//&edit modalkin voisi olla siellä context menussa linkkinä?\r\n//oikeet propsit vaa ni toimii.\r\n//playlist-itemien eli niiden osittolistojen nimiä täytyy parsia että ei oo koko mitaltaan siellä\r\n//lisää toolboxin kaikkiin niiihin, johon tulee sitten se nimi näkyviin.\r\nimport isEqual from \"react-fast-compare\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport \"./contextmenu.css\";\r\nexport default class Playlist extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: this.props.name.substring(0, 400),\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      this.setState({\r\n        name: this.props.name,\r\n      });\r\n    }\r\n  }\r\n  loadPlaylist(id) {\r\n    this.props.loadPlaylist(id);\r\n  }\r\n  deletePlayList(id) {\r\n    this.props.deletePlaylist(id);\r\n  }\r\n  render() {\r\n    //console.log(this.props);\r\n    return (\r\n      <ContextMenuTrigger id={this.props._id}>\r\n        <ContextMenu id={this.props._id}>\r\n          <MenuItem\r\n            data={{ foo: \"bar\" }}\r\n            onClick={this.loadPlaylist.bind(this, this.props._id)}\r\n          >\r\n            Load playlist\r\n          </MenuItem>\r\n          <MenuItem\r\n            data={{ foo: \"bar\" }}\r\n            onClick={this.deletePlayList.bind(this, this.props._id)}\r\n          >\r\n            Delete playlist\r\n          </MenuItem>\r\n        </ContextMenu>\r\n        <div\r\n          onClick={this.loadPlaylist.bind(this, this.props._id)}\r\n          className=\"sidebar-playlist\"\r\n        >\r\n          {this.state.name}\r\n        </div>\r\n      </ContextMenuTrigger>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Tooltip } from \"reactstrap\";\r\nimport PlaylistItem from \"./Playlist\";\r\nimport \"./sidebar.css\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport CreateNew from \"../playlist/createNew/createNew\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faRetweet } from \"@fortawesome/free-solid-svg-icons\";\r\n//todo: check for cuomponentdidupdate - tuliko uusia propseja, jos tuli niin tehdään niillä jottai?\r\n//force update tms jos tulee uusia propseja. ei tarvii ottaa omaa stateee. Tää homma ei piirrä itteesä uudellee jos ei state vaihu?\r\n//lisää suunnitelmia playlist.jsx\r\nconst timeout = (ms: number) =>\r\n  new Promise((resolve) => setTimeout(resolve, ms));\r\nclass Sidebar extends Component<any, any> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: this.props.playlists,\r\n      loading: false,\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps: any) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      this.setState({\r\n        playlists: this.props.playlists,\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.getPlaylists();\r\n  }\r\n  getPlaylists = async () => {\r\n    await timeout(2000);\r\n    this.props.getPlaylist();\r\n  };\r\n  async getPlaylists2() {\r\n    this.props.setLoading(true);\r\n    await this.props.getPlaylist();\r\n    this.props.setLoading(false);\r\n  }\r\n  toggletip = () => {\r\n    this.setState({\r\n      tooltipOpen: !this.state.tooltipOpen,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"sidebardiv\">\r\n        <h3>Playlists</h3>\r\n\r\n        <Tooltip\r\n          placement=\"top\"\r\n          isOpen={this.state.tooltipOpen}\r\n          target=\"TooltipExample2\"\r\n          toggle={this.toggletip}\r\n        >\r\n          Refresh playlists\r\n        </Tooltip>\r\n        <div\r\n          id=\"TooltipExample2\"\r\n          className=\"refreshbuttonarea\"\r\n          onClick={this.getPlaylists2.bind(this, this.props)}\r\n        >\r\n          <FontAwesomeIcon className=\"Active\" size={\"lg\"} icon={faRetweet} />\r\n        </div>\r\n        <CreateNew\r\n          makePlaylist={this.props.makePlaylist}\r\n          playlistName={this.state.playlistName}\r\n        />\r\n        <br />\r\n        <div className=\"playlists-sidebar\">\r\n          {this.state.playlists.map((item: any, i: any) => (\r\n            <div key={item._id}>\r\n              <PlaylistItem\r\n                loadPlaylist={this.props.loadPlaylist}\r\n                name={item.name}\r\n                _id={item._id}\r\n                deletePlaylist={this.props.deletePlaylist}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//actions we want to use as second paranthesis\r\nexport default Sidebar;\r\n","function randomInt(max, min) {\r\n  return Math.floor(Math.random() * (max - min) + min);\r\n}\r\nexport default function generateName() {\r\n  var name1 = [\"abandoned\",\"able\",\"absolute\",\"adorable\",\"adventurous\",\"academic\",\"acceptable\",\"acclaimed\",\"accomplished\",\"accurate\",\"aching\",\"acidic\",\"acrobatic\",\"active\",\"actual\",\"adept\",\"admirable\",\"admired\",\"adolescent\",\"adorable\",\"adored\",\"advanced\",\"afraid\",\"affectionate\",\"aged\",\"aggravating\",\"aggressive\",\"agile\",\"agitated\",\"agonizing\",\"agreeable\",\"ajar\",\"alarmed\",\"alarming\",\"alert\",\"alienated\",\"alive\",\"all\",\"altruistic\",\"amazing\",\"ambitious\",\"ample\",\"amused\",\"amusing\",\"anchored\",\"ancient\",\"angelic\",\"angry\",\"anguished\",\"animated\",\"annual\",\"another\",\"antique\",\"anxious\",\"any\",\"apprehensive\",\"appropriate\",\"apt\",\"arctic\",\"arid\",\"aromatic\",\"artistic\",\"ashamed\",\"assured\",\"astonishing\",\"athletic\",\"attached\",\"attentive\",\"attractive\",\"austere\",\"authentic\",\"authorized\",\"automatic\",\"avaricious\",\"average\",\"aware\",\"awesome\",\"awful\",\"awkward\",\"babyish\",\"bad\",\"back\",\"baggy\",\"bare\",\"barren\",\"basic\",\"beautiful\",\"belated\",\"beloved\",\"beneficial\",\"better\",\"best\",\"bewitched\",\"big\",\"big-hearted\",\"biodegradable\",\"bite-sized\",\"bitter\",\"black\",\"black-and-white\",\"bland\",\"blank\",\"blaring\",\"bleak\",\"blind\",\"blissful\",\"blond\",\"blue\",\"blushing\",\"bogus\",\"boiling\",\"bold\",\"bony\",\"boring\",\"bossy\",\"both\",\"bouncy\",\"bountiful\",\"bowed\",\"brave\",\"breakable\",\"brief\",\"bright\",\"brilliant\",\"brisk\",\"broken\",\"bronze\",\"brown\",\"bruised\",\"bubbly\",\"bulky\",\"bumpy\",\"buoyant\",\"burdensome\",\"burly\",\"bustling\",\"busy\",\"buttery\",\"buzzing\",\"calculating\",\"calm\",\"candid\",\"canine\",\"capital\",\"carefree\",\"careful\",\"careless\",\"caring\",\"cautious\",\"cavernous\",\"celebrated\",\"charming\",\"cheap\",\"cheerful\",\"cheery\",\"chief\",\"chilly\",\"chubby\",\"circular\",\"classic\",\"clean\",\"clear\",\"clear-cut\",\"clever\",\"close\",\"closed\",\"cloudy\",\"clueless\",\"clumsy\",\"cluttered\",\"coarse\",\"cold\",\"colorful\",\"colorless\",\"colossal\",\"comfortable\",\"common\",\"compassionate\",\"competent\",\"complete\",\"complex\",\"complicated\",\"composed\",\"concerned\",\"concrete\",\"confused\",\"conscious\",\"considerate\",\"constant\",\"content\",\"conventional\",\"cooked\",\"cool\",\"cooperative\",\"coordinated\",\"corny\",\"corrupt\",\"costly\",\"courageous\",\"courteous\",\"crafty\",\"crazy\",\"creamy\",\"creative\",\"creepy\",\"criminal\",\"crisp\",\"critical\",\"crooked\",\"crowded\",\"cruel\",\"crushing\",\"cuddly\",\"cultivated\",\"cultured\",\"cumbersome\",\"curly\",\"curvy\",\"cute\",\"cylindrical\",\"damaged\",\"damp\",\"dangerous\",\"dapper\",\"daring\",\"darling\",\"dark\",\"dazzling\",\"dead\",\"deadly\",\"deafening\",\"dear\",\"dearest\",\"decent\",\"decimal\",\"decisive\",\"deep\",\"defenseless\",\"defensive\",\"defiant\",\"deficient\",\"definite\",\"definitive\",\"delayed\",\"delectable\",\"delicious\",\"delightful\",\"delirious\",\"demanding\",\"dense\",\"dental\",\"dependable\",\"dependent\",\"descriptive\",\"deserted\",\"detailed\",\"determined\",\"devoted\",\"different\",\"difficult\",\"digital\",\"diligent\",\"dim\",\"dimpled\",\"dimwitted\",\"direct\",\"disastrous\",\"discrete\",\"disfigured\",\"disgusting\",\"disloyal\",\"dismal\",\"distant\",\"downright\",\"dreary\",\"dirty\",\"disguised\",\"dishonest\",\"dismal\",\"distant\",\"distinct\",\"distorted\",\"dizzy\",\"dopey\",\"doting\",\"double\",\"downright\",\"drab\",\"drafty\",\"dramatic\",\"dreary\",\"droopy\",\"dry\",\"dual\",\"dull\",\"dutiful\",\"each\",\"eager\",\"earnest\",\"early\",\"easy\",\"easy-going\",\"ecstatic\",\"edible\",\"educated\",\"elaborate\",\"elastic\",\"elated\",\"elderly\",\"electric\",\"elegant\",\"elementary\",\"elliptical\",\"embarrassed\",\"embellished\",\"eminent\",\"emotional\",\"empty\",\"enchanted\",\"enchanting\",\"energetic\",\"enlightened\",\"enormous\",\"enraged\",\"entire\",\"envious\",\"equal\",\"equatorial\",\"essential\",\"esteemed\",\"ethical\",\"euphoric\",\"even\",\"evergreen\",\"everlasting\",\"every\",\"evil\",\"exalted\",\"excellent\",\"exemplary\",\"exhausted\",\"excitable\",\"excited\",\"exciting\",\"exotic\",\"expensive\",\"experienced\",\"expert\",\"extraneous\",\"extroverted\",\"extra-large\",\"extra-small\",\"fabulous\",\"failing\",\"faint\",\"fair\",\"faithful\",\"fake\",\"false\",\"familiar\",\"famous\",\"fancy\",\"fantastic\",\"far\",\"faraway\",\"far-flung\",\"far-off\",\"fast\",\"fat\",\"fatal\",\"fatherly\",\"favorable\",\"favorite\",\"fearful\",\"fearless\",\"feisty\",\"feline\",\"female\",\"feminine\",\"few\",\"fickle\",\"filthy\",\"fine\",\"finished\",\"firm\",\"first\",\"firsthand\",\"fitting\",\"fixed\",\"flaky\",\"flamboyant\",\"flashy\",\"flat\",\"flawed\",\"flawless\",\"flickering\",\"flimsy\",\"flippant\",\"flowery\",\"fluffy\",\"fluid\",\"flustered\",\"focused\",\"fond\",\"foolhardy\",\"foolish\",\"forceful\",\"forked\",\"formal\",\"forsaken\",\"forthright\",\"fortunate\",\"fragrant\",\"frail\",\"frank\",\"frayed\",\"free\",\"French\",\"fresh\",\"frequent\",\"friendly\",\"frightened\",\"frightening\",\"frigid\",\"frilly\",\"frizzy\",\"frivolous\",\"front\",\"frosty\",\"frozen\",\"frugal\",\"fruitful\",\"full\",\"fumbling\",\"functional\",\"funny\",\"fussy\",\"fuzzy\",\"gargantuan\",\"gaseous\",\"general\",\"generous\",\"gentle\",\"genuine\",\"giant\",\"giddy\",\"gigantic\",\"gifted\",\"giving\",\"glamorous\",\"glaring\",\"glass\",\"gleaming\",\"gleeful\",\"glistening\",\"glittering\",\"gloomy\",\"glorious\",\"glossy\",\"glum\",\"golden\",\"good\",\"good-natured\",\"gorgeous\",\"graceful\",\"gracious\",\"grand\",\"grandiose\",\"granular\",\"grateful\",\"grave\",\"gray\",\"great\",\"greedy\",\"green\",\"gregarious\",\"grim\",\"grimy\",\"gripping\",\"grizzled\",\"gross\",\"grotesque\",\"grouchy\",\"grounded\",\"growing\",\"growling\",\"grown\",\"grubby\",\"gruesome\",\"grumpy\",\"guilty\",\"gullible\",\"gummy\",\"hairy\",\"half\",\"handmade\",\"handsome\",\"handy\",\"happy\",\"happy-go-lucky\",\"hard\",\"hard-to-find\",\"harmful\",\"harmless\",\"harmonious\",\"harsh\",\"hasty\",\"hateful\",\"haunting\",\"healthy\",\"heartfelt\",\"hearty\",\"heavenly\",\"heavy\",\"hefty\",\"helpful\",\"helpless\",\"hidden\",\"hideous\",\"high\",\"high-level\",\"hilarious\",\"hoarse\",\"hollow\",\"homely\",\"honest\",\"honorable\",\"honored\",\"hopeful\",\"horrible\",\"hospitable\",\"hot\",\"huge\",\"humble\",\"humiliating\",\"humming\",\"humongous\",\"hungry\",\"hurtful\",\"husky\",\"icky\",\"icy\",\"ideal\",\"idealistic\",\"identical\",\"idle\",\"idiotic\",\"idolized\",\"ignorant\",\"ill\",\"illegal\",\"ill-fated\",\"ill-informed\",\"illiterate\",\"illustrious\",\"imaginary\",\"imaginative\",\"immaculate\",\"immaterial\",\"immediate\",\"immense\",\"impassioned\",\"impeccable\",\"impartial\",\"imperfect\",\"imperturbable\",\"impish\",\"impolite\",\"important\",\"impossible\",\"impractical\",\"impressionable\",\"impressive\",\"improbable\",\"impure\",\"inborn\",\"incomparable\",\"incompatible\",\"incomplete\",\"inconsequential\",\"incredible\",\"indelible\",\"inexperienced\",\"indolent\",\"infamous\",\"infantile\",\"infatuated\",\"inferior\",\"infinite\",\"informal\",\"innocent\",\"insecure\",\"insidious\",\"insignificant\",\"insistent\",\"instructive\",\"insubstantial\",\"intelligent\",\"intent\",\"intentional\",\"interesting\",\"internal\",\"international\",\"intrepid\",\"ironclad\",\"irresponsible\",\"irritating\",\"itchy\",\"jaded\",\"jagged\",\"jam-packed\",\"jaunty\",\"jealous\",\"jittery\",\"joint\",\"jolly\",\"jovial\",\"joyful\",\"joyous\",\"jubilant\",\"judicious\",\"juicy\",\"jumbo\",\"junior\",\"jumpy\",\"juvenile\",\"kaleidoscopic\",\"keen\",\"key\",\"kind\",\"kindhearted\",\"kindly\",\"klutzy\",\"knobby\",\"knotty\",\"knowledgeable\",\"knowing\",\"known\",\"kooky\",\"kosher\",\"lame\",\"lanky\",\"large\",\"last\",\"lasting\",\"late\",\"lavish\",\"lawful\",\"lazy\",\"leading\",\"lean\",\"leafy\",\"left\",\"legal\",\"legitimate\",\"light\",\"lighthearted\",\"likable\",\"likely\",\"limited\",\"limp\",\"limping\",\"linear\",\"lined\",\"liquid\",\"little\",\"live\",\"lively\",\"livid\",\"loathsome\",\"lone\",\"lonely\",\"long\",\"long-term\",\"loose\",\"lopsided\",\"lost\",\"loud\",\"lovable\",\"lovely\",\"loving\",\"low\",\"loyal\",\"lucky\",\"lumbering\",\"luminous\",\"lumpy\",\"lustrous\",\"luxurious\",\"mad\",\"made-up\",\"magnificent\",\"majestic\",\"major\",\"male\",\"mammoth\",\"married\",\"marvelous\",\"masculine\",\"massive\",\"mature\",\"meager\",\"mealy\",\"mean\",\"measly\",\"meaty\",\"medical\",\"mediocre\",\"medium\",\"meek\",\"mellow\",\"melodic\",\"memorable\",\"menacing\",\"merry\",\"messy\",\"metallic\",\"mild\",\"milky\",\"mindless\",\"miniature\",\"minor\",\"minty\",\"miserable\",\"miserly\",\"misguided\",\"misty\",\"mixed\",\"modern\",\"modest\",\"moist\",\"monstrous\",\"monthly\",\"monumental\",\"moral\",\"mortified\",\"motherly\",\"motionless\",\"mountainous\",\"muddy\",\"muffled\",\"multicolored\",\"mundane\",\"murky\",\"mushy\",\"musty\",\"muted\",\"mysterious\",\"naive\",\"narrow\",\"nasty\",\"natural\",\"naughty\",\"nautical\",\"near\",\"neat\",\"necessary\",\"needy\",\"negative\",\"neglected\",\"negligible\",\"neighboring\",\"nervous\",\"new\",\"next\",\"nice\",\"nifty\",\"nimble\",\"nippy\",\"nocturnal\",\"noisy\",\"nonstop\",\"normal\",\"notable\",\"noted\",\"noteworthy\",\"novel\",\"noxious\",\"numb\",\"nutritious\",\"nutty\",\"obedient\",\"obese\",\"oblong\",\"oily\",\"oblong\",\"obvious\",\"occasional\",\"odd\",\"oddball\",\"offbeat\",\"offensive\",\"official\",\"old\",\"old-fashioned\",\"only\",\"open\",\"optimal\",\"optimistic\",\"opulent\",\"orange\",\"orderly\",\"organic\",\"ornate\",\"ornery\",\"ordinary\",\"original\",\"other\",\"our\",\"outlying\",\"outgoing\",\"outlandish\",\"outrageous\",\"outstanding\",\"oval\",\"overcooked\",\"overdue\",\"overjoyed\",\"overlooked\",\"palatable\",\"pale\",\"paltry\",\"parallel\",\"parched\",\"partial\",\"passionate\",\"past\",\"pastel\",\"peaceful\",\"peppery\",\"perfect\",\"perfumed\",\"periodic\",\"perky\",\"personal\",\"pertinent\",\"pesky\",\"pessimistic\",\"petty\",\"phony\",\"physical\",\"piercing\",\"pink\",\"pitiful\",\"plain\",\"plaintive\",\"plastic\",\"playful\",\"pleasant\",\"pleased\",\"pleasing\",\"plump\",\"plush\",\"polished\",\"polite\",\"political\",\"pointed\",\"pointless\",\"poised\",\"poor\",\"popular\",\"portly\",\"posh\",\"positive\",\"possible\",\"potable\",\"powerful\",\"powerless\",\"practical\",\"precious\",\"present\",\"prestigious\",\"pretty\",\"precious\",\"previous\",\"pricey\",\"prickly\",\"primary\",\"prime\",\"pristine\",\"private\",\"prize\",\"probable\",\"productive\",\"profitable\",\"profuse\",\"proper\",\"proud\",\"prudent\",\"punctual\",\"pungent\",\"puny\",\"pure\",\"purple\",\"pushy\",\"putrid\",\"puzzled\",\"puzzling\",\"quaint\",\"qualified\",\"quarrelsome\",\"quarterly\",\"queasy\",\"querulous\",\"questionable\",\"quick\",\"quick-witted\",\"quiet\",\"quintessential\",\"quirky\",\"quixotic\",\"quizzical\",\"radiant\",\"ragged\",\"rapid\",\"rare\",\"rash\",\"raw\",\"recent\",\"reckless\",\"rectangular\",\"ready\",\"real\",\"realistic\",\"reasonable\",\"red\",\"reflecting\",\"regal\",\"regular\",\"reliable\",\"relieved\",\"remarkable\",\"remorseful\",\"remote\",\"repentant\",\"required\",\"respectful\",\"responsible\",\"repulsive\",\"revolving\",\"rewarding\",\"rich\",\"rigid\",\"right\",\"ringed\",\"ripe\",\"roasted\",\"robust\",\"rosy\",\"rotating\",\"rotten\",\"rough\",\"round\",\"rowdy\",\"royal\",\"rubbery\",\"rundown\",\"ruddy\",\"rude\",\"runny\",\"rural\",\"rusty\",\"sad\",\"safe\",\"salty\",\"same\",\"sandy\",\"sane\",\"sarcastic\",\"sardonic\",\"satisfied\",\"scaly\",\"scarce\",\"scared\",\"scary\",\"scented\",\"scholarly\",\"scientific\",\"scornful\",\"scratchy\",\"scrawny\",\"second\",\"secondary\",\"second-hand\",\"secret\",\"self-assured\",\"self-reliant\",\"selfish\",\"sentimental\",\"separate\",\"serene\",\"serious\",\"serpentine\",\"several\",\"severe\",\"shabby\",\"shadowy\",\"shady\",\"shallow\",\"shameful\",\"shameless\",\"sharp\",\"shimmering\",\"shiny\",\"shocked\",\"shocking\",\"shoddy\",\"short\",\"short-term\",\"showy\",\"shrill\",\"shy\",\"sick\",\"silent\",\"silky\",\"silly\",\"silver\",\"similar\",\"simple\",\"simplistic\",\"sinful\",\"single\",\"sizzling\",\"skeletal\",\"skinny\",\"sleepy\",\"slight\",\"slim\",\"slimy\",\"slippery\",\"slow\",\"slushy\",\"small\",\"smart\",\"smoggy\",\"smooth\",\"smug\",\"snappy\",\"snarling\",\"sneaky\",\"sniveling\",\"snoopy\",\"sociable\",\"soft\",\"soggy\",\"solid\",\"somber\",\"some\",\"spherical\",\"sophisticated\",\"sore\",\"sorrowful\",\"soulful\",\"soupy\",\"sour\",\"Spanish\",\"sparkling\",\"sparse\",\"specific\",\"spectacular\",\"speedy\",\"spicy\",\"spiffy\",\"spirited\",\"spiteful\",\"splendid\",\"spotless\",\"spotted\",\"spry\",\"square\",\"squeaky\",\"squiggly\",\"stable\",\"staid\",\"stained\",\"stale\",\"standard\",\"starchy\",\"stark\",\"starry\",\"steep\",\"sticky\",\"stiff\",\"stimulating\",\"stingy\",\"stormy\",\"straight\",\"strange\",\"steel\",\"strict\",\"strident\",\"striking\",\"striped\",\"strong\",\"studious\",\"stunning\",\"stupendous\",\"stupid\",\"sturdy\",\"stylish\",\"subdued\",\"submissive\",\"substantial\",\"subtle\",\"suburban\",\"sudden\",\"sugary\",\"sunny\",\"super\",\"superb\",\"superficial\",\"superior\",\"supportive\",\"sure-footed\",\"surprised\",\"suspicious\",\"svelte\",\"sweaty\",\"sweet\",\"sweltering\",\"swift\",\"sympathetic\",\"tall\",\"talkative\",\"tame\",\"tan\",\"tangible\",\"tart\",\"tasty\",\"tattered\",\"taut\",\"tedious\",\"teeming\",\"tempting\",\"tender\",\"tense\",\"tepid\",\"terrible\",\"terrific\",\"testy\",\"thankful\",\"that\",\"these\",\"thick\",\"thin\",\"third\",\"thirsty\",\"this\",\"thorough\",\"thorny\",\"those\",\"thoughtful\",\"threadbare\",\"thrifty\",\"thunderous\",\"tidy\",\"tight\",\"timely\",\"tinted\",\"tiny\",\"tired\",\"torn\",\"total\",\"tough\",\"traumatic\",\"treasured\",\"tremendous\",\"tragic\",\"trained\",\"tremendous\",\"triangular\",\"tricky\",\"trifling\",\"trim\",\"trivial\",\"troubled\",\"true\",\"trusting\",\"trustworthy\",\"trusty\",\"truthful\",\"tubby\",\"turbulent\",\"twin\",\"ugly\",\"ultimate\",\"unacceptable\",\"unaware\",\"uncomfortable\",\"uncommon\",\"unconscious\",\"understated\",\"unequaled\",\"uneven\",\"unfinished\",\"unfit\",\"unfolded\",\"unfortunate\",\"unhappy\",\"unhealthy\",\"uniform\",\"unimportant\",\"unique\",\"united\",\"unkempt\",\"unknown\",\"unlawful\",\"unlined\",\"unlucky\",\"unnatural\",\"unpleasant\",\"unrealistic\",\"unripe\",\"unruly\",\"unselfish\",\"unsightly\",\"unsteady\",\"unsung\",\"untidy\",\"untimely\",\"untried\",\"untrue\",\"unused\",\"unusual\",\"unwelcome\",\"unwieldy\",\"unwilling\",\"unwitting\",\"unwritten\",\"upbeat\",\"upright\",\"upset\",\"urban\",\"usable\",\"used\",\"useful\",\"useless\",\"utilized\",\"utter\",\"vacant\",\"vague\",\"vain\",\"valid\",\"valuable\",\"vapid\",\"variable\",\"vast\",\"velvety\",\"venerated\",\"vengeful\",\"verifiable\",\"vibrant\",\"vicious\",\"victorious\",\"vigilant\",\"vigorous\",\"villainous\",\"violet\",\"violent\",\"virtual\",\"virtuous\",\"visible\",\"vital\",\"vivacious\",\"vivid\",\"voluminous\",\"wan\",\"warlike\",\"warm\",\"warmhearted\",\"warped\",\"wary\",\"wasteful\",\"watchful\",\"waterlogged\",\"watery\",\"wavy\",\"wealthy\",\"weak\",\"weary\",\"webbed\",\"wee\",\"weekly\",\"weepy\",\"weighty\",\"weird\",\"welcome\",\"well-documented\",\"well-groomed\",\"well-informed\",\"well-lit\",\"well-made\",\"well-off\",\"well-to-do\",\"well-worn\",\"wet\",\"which\",\"whimsical\",\"whirlwind\",\"whispered\",\"white\",\"whole\",\"whopping\",\"wicked\",\"wide\",\"wide-eyed\",\"wiggly\",\"wild\",\"willing\",\"wilted\",\"winding\",\"windy\",\"winged\",\"wiry\",\"wise\",\"witty\",\"wobbly\",\"woeful\",\"wonderful\",\"wooden\",\"woozy\",\"wordy\",\"worldly\",\"worn\",\"worried\",\"worrisome\",\"worse\",\"worst\",\"worthless\",\"worthwhile\",\"worthy\",\"wrathful\",\"wretched\",\"writhing\",\"wrong\",\"wry\",\"yawning\",\"yearly\",\"yellow\",\"yellowish\",\"young\",\"youthful\",\"yummy\",\"zany\",\"zealous\",\"zesty\",\"zigzag\",\"rocky\"];\r\n\r\n\tvar name2 = [\"people\",\"history\",\"way\",\"art\",\"world\",\"information\",\"map\",\"family\",\"government\",\"health\",\"system\",\"computer\",\"meat\",\"year\",\"thanks\",\"music\",\"person\",\"reading\",\"method\",\"data\",\"food\",\"understanding\",\"theory\",\"law\",\"bird\",\"literature\",\"problem\",\"software\",\"control\",\"knowledge\",\"power\",\"ability\",\"economics\",\"love\",\"internet\",\"television\",\"science\",\"library\",\"nature\",\"fact\",\"product\",\"idea\",\"temperature\",\"investment\",\"area\",\"society\",\"activity\",\"story\",\"industry\",\"media\",\"thing\",\"oven\",\"community\",\"definition\",\"safety\",\"quality\",\"development\",\"language\",\"management\",\"player\",\"variety\",\"video\",\"week\",\"security\",\"country\",\"exam\",\"movie\",\"organization\",\"equipment\",\"physics\",\"analysis\",\"policy\",\"series\",\"thought\",\"basis\",\"boyfriend\",\"direction\",\"strategy\",\"technology\",\"army\",\"camera\",\"freedom\",\"paper\",\"environment\",\"child\",\"instance\",\"month\",\"truth\",\"marketing\",\"university\",\"writing\",\"article\",\"department\",\"difference\",\"goal\",\"news\",\"audience\",\"fishing\",\"growth\",\"income\",\"marriage\",\"user\",\"combination\",\"failure\",\"meaning\",\"medicine\",\"philosophy\",\"teacher\",\"communication\",\"night\",\"chemistry\",\"disease\",\"disk\",\"energy\",\"nation\",\"road\",\"role\",\"soup\",\"advertising\",\"location\",\"success\",\"addition\",\"apartment\",\"education\",\"math\",\"moment\",\"painting\",\"politics\",\"attention\",\"decision\",\"event\",\"property\",\"shopping\",\"student\",\"wood\",\"competition\",\"distribution\",\"entertainment\",\"office\",\"population\",\"president\",\"unit\",\"category\",\"cigarette\",\"context\",\"introduction\",\"opportunity\",\"performance\",\"driver\",\"flight\",\"length\",\"magazine\",\"newspaper\",\"relationship\",\"teaching\",\"cell\",\"dealer\",\"debate\",\"finding\",\"lake\",\"member\",\"message\",\"phone\",\"scene\",\"appearance\",\"association\",\"concept\",\"customer\",\"death\",\"discussion\",\"housing\",\"inflation\",\"insurance\",\"mood\",\"woman\",\"advice\",\"blood\",\"effort\",\"expression\",\"importance\",\"opinion\",\"payment\",\"reality\",\"responsibility\",\"situation\",\"skill\",\"statement\",\"wealth\",\"application\",\"city\",\"county\",\"depth\",\"estate\",\"foundation\",\"grandmother\",\"heart\",\"perspective\",\"photo\",\"recipe\",\"studio\",\"topic\",\"collection\",\"depression\",\"imagination\",\"passion\",\"percentage\",\"resource\",\"setting\",\"ad\",\"agency\",\"college\",\"connection\",\"criticism\",\"debt\",\"description\",\"memory\",\"patience\",\"secretary\",\"solution\",\"administration\",\"aspect\",\"attitude\",\"director\",\"personality\",\"psychology\",\"recommendation\",\"response\",\"selection\",\"storage\",\"version\",\"alcohol\",\"argument\",\"complaint\",\"contract\",\"emphasis\",\"highway\",\"loss\",\"membership\",\"possession\",\"preparation\",\"steak\",\"union\",\"agreement\",\"cancer\",\"currency\",\"employment\",\"engineering\",\"entry\",\"interaction\",\"limit\",\"mixture\",\"preference\",\"region\",\"republic\",\"seat\",\"tradition\",\"virus\",\"actor\",\"classroom\",\"delivery\",\"device\",\"difficulty\",\"drama\",\"election\",\"engine\",\"football\",\"guidance\",\"hotel\",\"match\",\"owner\",\"priority\",\"protection\",\"suggestion\",\"tension\",\"variation\",\"anxiety\",\"atmosphere\",\"awareness\",\"bread\",\"climate\",\"comparison\",\"confusion\",\"construction\",\"elevator\",\"emotion\",\"employee\",\"employer\",\"guest\",\"height\",\"leadership\",\"mall\",\"manager\",\"operation\",\"recording\",\"respect\",\"sample\",\"transportation\",\"boring\",\"charity\",\"cousin\",\"disaster\",\"editor\",\"efficiency\",\"excitement\",\"extent\",\"feedback\",\"guitar\",\"homework\",\"leader\",\"mom\",\"outcome\",\"permission\",\"presentation\",\"promotion\",\"reflection\",\"refrigerator\",\"resolution\",\"revenue\",\"session\",\"singer\",\"tennis\",\"basket\",\"bonus\",\"cabinet\",\"childhood\",\"church\",\"clothes\",\"coffee\",\"dinner\",\"drawing\",\"hair\",\"hearing\",\"initiative\",\"judgment\",\"lab\",\"measurement\",\"mode\",\"mud\",\"orange\",\"poetry\",\"police\",\"possibility\",\"procedure\",\"queen\",\"ratio\",\"relation\",\"restaurant\",\"satisfaction\",\"sector\",\"signature\",\"significance\",\"song\",\"tooth\",\"town\",\"vehicle\",\"volume\",\"wife\",\"accident\",\"airport\",\"appointment\",\"arrival\",\"assumption\",\"baseball\",\"chapter\",\"committee\",\"conversation\",\"database\",\"enthusiasm\",\"error\",\"explanation\",\"farmer\",\"gate\",\"girl\",\"hall\",\"historian\",\"hospital\",\"injury\",\"instruction\",\"maintenance\",\"manufacturer\",\"meal\",\"perception\",\"pie\",\"poem\",\"presence\",\"proposal\",\"reception\",\"replacement\",\"revolution\",\"river\",\"son\",\"speech\",\"tea\",\"village\",\"warning\",\"winner\",\"worker\",\"writer\",\"assistance\",\"breath\",\"buyer\",\"chest\",\"chocolate\",\"conclusion\",\"contribution\",\"cookie\",\"courage\",\"desk\",\"drawer\",\"establishment\",\"examination\",\"garbage\",\"grocery\",\"honey\",\"impression\",\"improvement\",\"independence\",\"insect\",\"inspection\",\"inspector\",\"king\",\"ladder\",\"menu\",\"penalty\",\"piano\",\"potato\",\"profession\",\"professor\",\"quantity\",\"reaction\",\"requirement\",\"salad\",\"sister\",\"supermarket\",\"tongue\",\"weakness\",\"wedding\",\"affair\",\"ambition\",\"analyst\",\"apple\",\"assignment\",\"assistant\",\"bathroom\",\"bedroom\",\"beer\",\"birthday\",\"celebration\",\"championship\",\"cheek\",\"client\",\"consequence\",\"departure\",\"diamond\",\"dirt\",\"ear\",\"fortune\",\"friendship\",\"funeral\",\"gene\",\"girlfriend\",\"hat\",\"indication\",\"intention\",\"lady\",\"midnight\",\"negotiation\",\"obligation\",\"passenger\",\"pizza\",\"platform\",\"poet\",\"pollution\",\"recognition\",\"reputation\",\"shirt\",\"speaker\",\"stranger\",\"surgery\",\"sympathy\",\"tale\",\"throat\",\"trainer\",\"uncle\",\"youth\",\"time\",\"work\",\"film\",\"water\",\"money\",\"example\",\"while\",\"business\",\"study\",\"game\",\"life\",\"form\",\"air\",\"day\",\"place\",\"number\",\"part\",\"field\",\"fish\",\"back\",\"process\",\"heat\",\"hand\",\"experience\",\"job\",\"book\",\"end\",\"point\",\"type\",\"home\",\"economy\",\"value\",\"body\",\"market\",\"guide\",\"interest\",\"state\",\"radio\",\"course\",\"company\",\"price\",\"size\",\"card\",\"list\",\"mind\",\"trade\",\"line\",\"care\",\"group\",\"risk\",\"word\",\"fat\",\"force\",\"key\",\"light\",\"training\",\"name\",\"school\",\"top\",\"amount\",\"level\",\"order\",\"practice\",\"research\",\"sense\",\"service\",\"piece\",\"web\",\"boss\",\"sport\",\"fun\",\"house\",\"page\",\"term\",\"test\",\"answer\",\"sound\",\"focus\",\"matter\",\"kind\",\"soil\",\"board\",\"oil\",\"picture\",\"access\",\"garden\",\"range\",\"rate\",\"reason\",\"future\",\"site\",\"demand\",\"exercise\",\"image\",\"case\",\"cause\",\"coast\",\"action\",\"age\",\"bad\",\"boat\",\"record\",\"result\",\"section\",\"building\",\"mouse\",\"cash\",\"class\",\"period\",\"plan\",\"store\",\"tax\",\"side\",\"subject\",\"space\",\"rule\",\"stock\",\"weather\",\"chance\",\"figure\",\"man\",\"model\",\"source\",\"beginning\",\"earth\",\"program\",\"chicken\",\"design\",\"feature\",\"head\",\"material\",\"purpose\",\"question\",\"rock\",\"salt\",\"act\",\"birth\",\"car\",\"dog\",\"object\",\"scale\",\"sun\",\"note\",\"profit\",\"rent\",\"speed\",\"style\",\"war\",\"bank\",\"craft\",\"half\",\"inside\",\"outside\",\"standard\",\"bus\",\"exchange\",\"eye\",\"fire\",\"position\",\"pressure\",\"stress\",\"advantage\",\"benefit\",\"box\",\"frame\",\"issue\",\"step\",\"cycle\",\"face\",\"item\",\"metal\",\"paint\",\"review\",\"room\",\"screen\",\"structure\",\"view\",\"account\",\"ball\",\"discipline\",\"medium\",\"share\",\"balance\",\"bit\",\"black\",\"bottom\",\"choice\",\"gift\",\"impact\",\"machine\",\"shape\",\"tool\",\"wind\",\"address\",\"average\",\"career\",\"culture\",\"morning\",\"pot\",\"sign\",\"table\",\"task\",\"condition\",\"contact\",\"credit\",\"egg\",\"hope\",\"ice\",\"network\",\"north\",\"square\",\"attempt\",\"date\",\"effect\",\"link\",\"post\",\"star\",\"voice\",\"capital\",\"challenge\",\"friend\",\"self\",\"shot\",\"brush\",\"couple\",\"exit\",\"front\",\"function\",\"lack\",\"living\",\"plant\",\"plastic\",\"spot\",\"summer\",\"taste\",\"theme\",\"track\",\"wing\",\"brain\",\"button\",\"click\",\"desire\",\"foot\",\"gas\",\"influence\",\"notice\",\"rain\",\"wall\",\"base\",\"damage\",\"distance\",\"feeling\",\"pair\",\"savings\",\"staff\",\"sugar\",\"target\",\"text\",\"animal\",\"author\",\"budget\",\"discount\",\"file\",\"ground\",\"lesson\",\"minute\",\"officer\",\"phase\",\"reference\",\"register\",\"sky\",\"stage\",\"stick\",\"title\",\"trouble\",\"bowl\",\"bridge\",\"campaign\",\"character\",\"club\",\"edge\",\"evidence\",\"fan\",\"letter\",\"lock\",\"maximum\",\"novel\",\"option\",\"pack\",\"park\",\"quarter\",\"skin\",\"sort\",\"weight\",\"baby\",\"background\",\"carry\",\"dish\",\"factor\",\"fruit\",\"glass\",\"joint\",\"master\",\"muscle\",\"red\",\"strength\",\"traffic\",\"trip\",\"vegetable\",\"appeal\",\"chart\",\"gear\",\"ideal\",\"kitchen\",\"land\",\"log\",\"mother\",\"net\",\"party\",\"principle\",\"relative\",\"sale\",\"season\",\"signal\",\"spirit\",\"street\",\"tree\",\"wave\",\"belt\",\"bench\",\"commission\",\"copy\",\"drop\",\"minimum\",\"path\",\"progress\",\"project\",\"sea\",\"south\",\"status\",\"stuff\",\"ticket\",\"tour\",\"angle\",\"blue\",\"breakfast\",\"confidence\",\"daughter\",\"degree\",\"doctor\",\"dot\",\"dream\",\"duty\",\"essay\",\"father\",\"fee\",\"finance\",\"hour\",\"juice\",\"luck\",\"milk\",\"mouth\",\"peace\",\"pipe\",\"stable\",\"storm\",\"substance\",\"team\",\"trick\",\"afternoon\",\"bat\",\"beach\",\"blank\",\"catch\",\"chain\",\"consideration\",\"cream\",\"crew\",\"detail\",\"gold\",\"interview\",\"kid\",\"mark\",\"mission\",\"pain\",\"pleasure\",\"score\",\"screw\",\"sex\",\"shop\",\"shower\",\"suit\",\"tone\",\"window\",\"agent\",\"band\",\"bath\",\"block\",\"bone\",\"calendar\",\"candidate\",\"cap\",\"coat\",\"contest\",\"corner\",\"court\",\"cup\",\"district\",\"door\",\"east\",\"finger\",\"garage\",\"guarantee\",\"hole\",\"hook\",\"implement\",\"layer\",\"lecture\",\"lie\",\"manner\",\"meeting\",\"nose\",\"parking\",\"partner\",\"profile\",\"rice\",\"routine\",\"schedule\",\"swimming\",\"telephone\",\"tip\",\"winter\",\"airline\",\"bag\",\"battle\",\"bed\",\"bill\",\"bother\",\"cake\",\"code\",\"curve\",\"designer\",\"dimension\",\"dress\",\"ease\",\"emergency\",\"evening\",\"extension\",\"farm\",\"fight\",\"gap\",\"grade\",\"holiday\",\"horror\",\"horse\",\"host\",\"husband\",\"loan\",\"mistake\",\"mountain\",\"nail\",\"noise\",\"occasion\",\"package\",\"patient\",\"pause\",\"phrase\",\"proof\",\"race\",\"relief\",\"sand\",\"sentence\",\"shoulder\",\"smoke\",\"stomach\",\"string\",\"tourist\",\"towel\",\"vacation\",\"west\",\"wheel\",\"wine\",\"arm\",\"aside\",\"associate\",\"bet\",\"blow\",\"border\",\"branch\",\"breast\",\"brother\",\"buddy\",\"bunch\",\"chip\",\"coach\",\"cross\",\"document\",\"draft\",\"dust\",\"expert\",\"floor\",\"god\",\"golf\",\"habit\",\"iron\",\"judge\",\"knife\",\"landscape\",\"league\",\"mail\",\"mess\",\"native\",\"opening\",\"parent\",\"pattern\",\"pin\",\"pool\",\"pound\",\"request\",\"salary\",\"shame\",\"shelter\",\"shoe\",\"silver\",\"tackle\",\"tank\",\"trust\",\"assist\",\"bake\",\"bar\",\"bell\",\"bike\",\"blame\",\"boy\",\"brick\",\"chair\",\"closet\",\"clue\",\"collar\",\"comment\",\"conference\",\"devil\",\"diet\",\"fear\",\"fuel\",\"glove\",\"jacket\",\"lunch\",\"monitor\",\"mortgage\",\"nurse\",\"pace\",\"panic\",\"peak\",\"plane\",\"reward\",\"row\",\"sandwich\",\"shock\",\"spite\",\"spray\",\"surprise\",\"till\",\"transition\",\"weekend\",\"welcome\",\"yard\",\"alarm\",\"bend\",\"bicycle\",\"bite\",\"blind\",\"bottle\",\"cable\",\"candle\",\"clerk\",\"cloud\",\"concert\",\"counter\",\"flower\",\"grandfather\",\"harm\",\"knee\",\"lawyer\",\"leather\",\"load\",\"mirror\",\"neck\",\"pension\",\"plate\",\"purple\",\"ruin\",\"ship\",\"skirt\",\"slice\",\"snow\",\"specialist\",\"stroke\",\"switch\",\"trash\",\"tune\",\"zone\",\"anger\",\"award\",\"bid\",\"bitter\",\"boot\",\"bug\",\"camp\",\"candy\",\"carpet\",\"cat\",\"champion\",\"channel\",\"clock\",\"comfort\",\"cow\",\"crack\",\"engineer\",\"entrance\",\"fault\",\"grass\",\"guy\",\"hell\",\"highlight\",\"incident\",\"island\",\"joke\",\"jury\",\"leg\",\"lip\",\"mate\",\"motor\",\"nerve\",\"passage\",\"pen\",\"pride\",\"priest\",\"prize\",\"promise\",\"resident\",\"resort\",\"ring\",\"roof\",\"rope\",\"sail\",\"scheme\",\"script\",\"sock\",\"station\",\"toe\",\"tower\",\"truck\",\"witness\",\"can\",\"will\",\"other\",\"use\",\"make\",\"good\",\"look\",\"help\",\"go\",\"great\",\"being\",\"still\",\"public\",\"read\",\"keep\",\"start\",\"give\",\"human\",\"local\",\"general\",\"specific\",\"long\",\"play\",\"feel\",\"high\",\"put\",\"common\",\"set\",\"change\",\"simple\",\"past\",\"big\",\"possible\",\"particular\",\"major\",\"personal\",\"current\",\"national\",\"cut\",\"natural\",\"physical\",\"show\",\"try\",\"check\",\"second\",\"call\",\"move\",\"pay\",\"let\",\"increase\",\"single\",\"individual\",\"turn\",\"ask\",\"buy\",\"guard\",\"hold\",\"main\",\"offer\",\"potential\",\"professional\",\"international\",\"travel\",\"cook\",\"alternative\",\"special\",\"working\",\"whole\",\"dance\",\"excuse\",\"cold\",\"commercial\",\"low\",\"purchase\",\"deal\",\"primary\",\"worth\",\"fall\",\"necessary\",\"positive\",\"produce\",\"search\",\"present\",\"spend\",\"talk\",\"creative\",\"tell\",\"cost\",\"drive\",\"green\",\"support\",\"glad\",\"remove\",\"return\",\"run\",\"complex\",\"due\",\"effective\",\"middle\",\"regular\",\"reserve\",\"independent\",\"leave\",\"original\",\"reach\",\"rest\",\"serve\",\"watch\",\"beautiful\",\"charge\",\"active\",\"break\",\"negative\",\"safe\",\"stay\",\"visit\",\"visual\",\"affect\",\"cover\",\"report\",\"rise\",\"walk\",\"white\",\"junior\",\"pick\",\"unique\",\"classic\",\"final\",\"lift\",\"mix\",\"private\",\"stop\",\"teach\",\"western\",\"concern\",\"familiar\",\"fly\",\"official\",\"broad\",\"comfortable\",\"gain\",\"rich\",\"save\",\"stand\",\"young\",\"heavy\",\"lead\",\"listen\",\"valuable\",\"worry\",\"handle\",\"leading\",\"meet\",\"release\",\"sell\",\"finish\",\"normal\",\"press\",\"ride\",\"secret\",\"spread\",\"spring\",\"tough\",\"wait\",\"brown\",\"deep\",\"display\",\"flow\",\"hit\",\"objective\",\"shoot\",\"touch\",\"cancel\",\"chemical\",\"cry\",\"dump\",\"extreme\",\"push\",\"conflict\",\"eat\",\"fill\",\"formal\",\"jump\",\"kick\",\"opposite\",\"pass\",\"pitch\",\"remote\",\"total\",\"treat\",\"vast\",\"abuse\",\"beat\",\"burn\",\"deposit\",\"print\",\"raise\",\"sleep\",\"somewhere\",\"advance\",\"consist\",\"dark\",\"double\",\"draw\",\"equal\",\"fix\",\"hire\",\"internal\",\"join\",\"kill\",\"sensitive\",\"tap\",\"win\",\"attack\",\"claim\",\"constant\",\"drag\",\"drink\",\"guess\",\"minor\",\"pull\",\"raw\",\"soft\",\"solid\",\"wear\",\"weird\",\"wonder\",\"annual\",\"count\",\"dead\",\"doubt\",\"feed\",\"forever\",\"impress\",\"repeat\",\"round\",\"sing\",\"slide\",\"strip\",\"wish\",\"combine\",\"command\",\"dig\",\"divide\",\"equivalent\",\"hang\",\"hunt\",\"initial\",\"march\",\"mention\",\"spiritual\",\"survey\",\"tie\",\"adult\",\"brief\",\"crazy\",\"escape\",\"gather\",\"hate\",\"prior\",\"repair\",\"rough\",\"sad\",\"scratch\",\"sick\",\"strike\",\"employ\",\"external\",\"hurt\",\"illegal\",\"laugh\",\"lay\",\"mobile\",\"nasty\",\"ordinary\",\"respond\",\"royal\",\"senior\",\"split\",\"strain\",\"struggle\",\"swim\",\"train\",\"upper\",\"wash\",\"yellow\",\"convert\",\"crash\",\"dependent\",\"fold\",\"funny\",\"grab\",\"hide\",\"miss\",\"permit\",\"quote\",\"recover\",\"resolve\",\"roll\",\"sink\",\"slip\",\"spare\",\"suspect\",\"sweet\",\"swing\",\"twist\",\"upstairs\",\"usual\",\"abroad\",\"brave\",\"calm\",\"concentrate\",\"estimate\",\"grand\",\"male\",\"mine\",\"prompt\",\"quiet\",\"refuse\",\"regret\",\"reveal\",\"rush\",\"shake\",\"shift\",\"shine\",\"steal\",\"suck\",\"surround\",\"bear\",\"brilliant\",\"dare\",\"dear\",\"delay\",\"drunk\",\"female\",\"hurry\",\"inevitable\",\"invite\",\"kiss\",\"neat\",\"pop\",\"punch\",\"quit\",\"reply\",\"representative\",\"resist\",\"rip\",\"rub\",\"silly\",\"smile\",\"spell\",\"stretch\",\"stupid\",\"tear\",\"temporary\",\"tomorrow\",\"wake\",\"wrap\",\"yesterday\",\"Thomas\",\"Tom\",\"Lieuwe\"];\r\n\r\n  return name1[randomInt(name1.length-1, 0)] + \" \" + name2[randomInt(name2.length-1, 0)];\r\n}\r\n","interface song {\r\n  //here what playlist has\r\n  title: string;\r\n  channelTitle: string;\r\n  videoId: string;\r\n  uniqueId: number;\r\n  duration: string;\r\n}\r\nclass Song implements song {\r\n  title: string;\r\n  channelTitle: string;\r\n  videoId: string;\r\n  uniqueId: number;\r\n  duration: string;\r\n  artists?: any;\r\n  album?: any;\r\n  thumbnail?: any;\r\n  thumbnails?: any;\r\n  constructor(\r\n    title: string,\r\n    channelTitle: string,\r\n    videoId: string,\r\n    uniqueId: number,\r\n    duration: string,\r\n    artists: any,\r\n    album: any,\r\n    thumbnail: any,\r\n    thumbnails: any\r\n  ) {\r\n    this.title = title;\r\n    this.channelTitle = channelTitle;\r\n    this.videoId = videoId;\r\n    this.uniqueId = uniqueId;\r\n    this.duration = duration;\r\n    this.artists = artists;\r\n    this.album = album;\r\n    this.thumbnail = thumbnail;\r\n    this.thumbnails = thumbnails;\r\n  }\r\n}\r\nexport { Song };\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardTitle, Button } from \"reactstrap\";\r\n\r\nclass HistoryItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      uniqueId: Math.random(),\r\n      title: this.props.name,\r\n      videoId: this.props.url.split(\"https://www.youtube.com/watch?v=\")[1]\r\n    };\r\n    this.loadPlaylist = this.loadPlaylist.bind(this);\r\n    this.deletePlaylist = this.deletePlaylist.bind(this);\r\n    this.onAddClick = this.onAddClick.bind(this);\r\n    this.onPlayClick = this.onPlayClick.bind(this);\r\n    this.onAddToPlaylist = this.onAddToPlaylist.bind(this);\r\n  }\r\n\r\n  loadPlaylist(playlist) {\r\n    this.props.loadPlaylist(playlist);\r\n  }\r\n  deletePlaylist(playlist) {\r\n    this.props.deletePlaylist(playlist._id);\r\n  }\r\n  onAddClick = item => {\r\n    this.props.addFunc(item);\r\n  };\r\n  onPlayClick = item => {\r\n    this.props.onPlay(item);\r\n  };\r\n  onAddToPlaylist = item => {\r\n    this.props.AddToPlaylist(item);\r\n  };\r\n  render() {\r\n    //console.log(this.state);\r\n    return (\r\n      <div>\r\n        <Card className=\"card\">\r\n          <CardBody>\r\n            <span style={{ flexDirection: \"column\" }}>\r\n              <Button\r\n                className=\"btn btn-primary float-right btn-remove\"\r\n                color=\"secondary\"\r\n                onClick={this.onAddToPlaylist.bind(this, this.state)}\r\n              >\r\n                + P\r\n              </Button>\r\n              <Button\r\n                className=\"btn btn-primary float-left btn-remove\"\r\n                onClick={this.onPlayClick.bind(this, this.state)}\r\n                color=\"primary\"\r\n              >\r\n                Play\r\n              </Button>\r\n\r\n              <Button\r\n                className=\"btn btn-primary float-right btn-remove\"\r\n                color=\"info\"\r\n                onClick={this.onAddClick.bind(this, this.state)}\r\n              >\r\n                + Q\r\n              </Button>\r\n            </span>\r\n            <CardTitle style={{ textAlign: \"center\" }}>\r\n              {this.state.title}\r\n            </CardTitle>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//actions we want to use as second paranthesis\r\nexport default HistoryItem;\r\n","import React, { Component } from \"react\";\r\nimport { Modal, ModalHeader, ModalBody, Button, Row } from \"reactstrap\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport HistoryItem from \"./history-item\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport \"./History.css\";\r\nclass HistoryModal extends Component {\r\n  state = {\r\n    modal: false,\r\n    name: \"\",\r\n    history: this.props.history\r\n  };\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    /* console.log(this.props.playlistId);\r\n    this.props.Updateplaylist(this.state.name, this.props.playlistId);\r\n    this.toggle();*/\r\n  };\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        history: this.props.history\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    //console.log(this.props);\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.props.isOpen} toggle={this.props.toggle}>\r\n          <ModalHeader className=\"mb-4\" toggle={this.props.toggle}>\r\n            Recently played songs:\r\n          </ModalHeader>\r\n          <Row>\r\n            <div className=\"clearButton\">\r\n              <Button className=\"float-right\" onClick={this.props.clearList}>\r\n                Clear All\r\n              </Button>\r\n            </div>\r\n          </Row>\r\n\r\n          <ModalBody>\r\n            <div id=\"videolist\">\r\n              {this.state.history.map(({ title, videoId, url }) => (\r\n                <CSSTransition\r\n                  key={Math.random()}\r\n                  timeout={500}\r\n                  classNames=\"fade\"\r\n                >\r\n                  <HistoryItem\r\n                    url={url}\r\n                    name={title}\r\n                    videoId={videoId}\r\n                    addFunc={this.props.addFunc}\r\n                    onPlay={this.props.onPlay}\r\n                    AddToPlaylist={this.props.AddToPlaylist}\r\n                  />\r\n                </CSSTransition>\r\n              ))}\r\n            </div>\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HistoryModal;\r\n","import React from \"react\";\r\n\r\nexport default function Duration({ className, seconds }) {\r\n  return (\r\n    <time dateTime={`P${Math.round(seconds)}S`} className={className}>\r\n      {format(seconds)}\r\n    </time>\r\n  );\r\n}\r\n\r\nfunction format(seconds) {\r\n  const date = new Date(seconds * 1000);\r\n  const hh = date.getUTCHours();\r\n  const mm = date.getUTCMinutes();\r\n  const ss = pad(date.getUTCSeconds());\r\n  if (hh) {\r\n    return `${hh}:${pad(mm)}:${ss}`;\r\n  }\r\n  return `${mm}:${ss}`;\r\n}\r\n\r\nfunction pad(string) {\r\n  return (\"0\" + string).slice(-2);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ReactPlayer from \"react-player\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport toaster from \"toasted-notes\";\r\nimport { updatePlaylistSongTime } from \"../functions/functions\";\r\nimport { CustomInput, Tooltip, Row, Col } from \"reactstrap\";\r\nimport { Button } from \"reactstrap\";\r\n\r\nimport HistoryModal from \"../player/history/History-modal\";\r\nimport { setTitle } from \"../functions/functions\";\r\nimport Duration from \"./duration\";\r\nimport \"./mediaplayer.css\";\r\nimport {\r\n  faPlay,\r\n  faPause,\r\n  faForward,\r\n  faBackward,\r\n  faVolumeUp,\r\n  faVolumeMute,\r\n  faRandom,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n//TODO: ADD VOLUME CONTROL\r\n//CHANGE BUTTONS TO LOOK BETTER\r\n//ADD DATABASE\r\n// ADD PLAYLISTS!!\r\nfunction pad(string) {\r\n  return (\"0\" + string).slice(-2);\r\n}\r\nfunction format(seconds) {\r\n  const date = new Date(seconds * 1000);\r\n  const hh = date.getUTCHours();\r\n  const mm = date.getUTCMinutes();\r\n  const ss = pad(date.getUTCSeconds());\r\n  if (hh) {\r\n    return `${hh}.${pad(mm)}.${ss}`;\r\n  }\r\n  return `${mm}.${ss}`;\r\n}\r\nexport default class MediaPlayer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      url: this.props.url,\r\n      title: \"\",\r\n      pip: false,\r\n      playing: false,\r\n      controls: true,\r\n      light: false,\r\n      volume: 0.5, //<--\r\n      muted: false,\r\n      duration: 0,\r\n      played: 0,\r\n      loaded: 0,\r\n      playbackRate: 1.0,\r\n      loop: false,\r\n      array: this.props.array,\r\n      modal: false,\r\n      history: [], //TODO: joku raja tälle\r\n      tooltipOpen: false,\r\n      historyToPlayFrom: [],\r\n      durationFromObject: this.props.duration,\r\n      playlistId: this.props.playlistId,\r\n      shuffle: this.props.isShuffle,\r\n      currentSong: this.props.currentSong,\r\n    };\r\n  }\r\n\r\n  handleShuffle = () => {\r\n    this.props.setShuffle();\r\n  };\r\n  load = (url) => {\r\n    this.setState({\r\n      url,\r\n      played: 0,\r\n      loaded: 0,\r\n      pip: false,\r\n    });\r\n  };\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  };\r\n  setMute = () => {\r\n    this.setState({\r\n      muted: !this.state.muted,\r\n    });\r\n  };\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        url: this.props.url,\r\n        array: this.props.array,\r\n        title: this.props.title,\r\n        playing: this.props.playing,\r\n        playlistId: this.props.playlistId,\r\n        shuffle: this.props.isShuffle,\r\n        currentSong: this.props.currentSong,\r\n      });\r\n      setTitle(this.props.title); //setting document title\r\n    }\r\n  }\r\n  clearHistory = () => {\r\n    this.setState({\r\n      history: [],\r\n    });\r\n  };\r\n  handlePlayPause = () => {\r\n    const playing = this.state.playing;\r\n    this.setState({ playing: !this.state.playing });\r\n    this.props.setPlaying(!playing);\r\n\r\n    if (this.state.url === null && !this.state.playing) {\r\n      this.handlePlayNext();\r\n    }\r\n  };\r\n  handlePlay = () => {\r\n    this.setState({ playing: true });\r\n    if (this.state.url === null) {\r\n      this.handlePlayNext();\r\n    }\r\n    setTimeout(() => {\r\n      this.setState({\r\n        muted: true,\r\n      });\r\n    }, 50);\r\n    setTimeout(() => {\r\n      this.setState({\r\n        muted: false,\r\n      });\r\n    }, 100);\r\n  };\r\n  addToHistory = (item) => {\r\n    //Adds item to history array\r\n    if (item.duration === 0) return;\r\n    if (item.title === \"error\") return;\r\n    this.state.history.unshift(item);\r\n    this.state.historyToPlayFrom.unshift(item);\r\n    //console.log(this.state.history);\r\n  };\r\n  handlePlayPrevious = () => {\r\n    if (typeof this.state.historyToPlayFrom[0] !== \"undefined\") {\r\n      let item = this.state.historyToPlayFrom.shift();\r\n\r\n      this.props.setTitle(item.title);\r\n      const url = item.url;\r\n      const duration = item.duration;\r\n      //console.log(url);\r\n      if (url === this.state.url) {\r\n        this.player.seekTo(0); //Seeks to 0 incase of having same url\r\n      }\r\n      this.setState({\r\n        playing: true,\r\n        url: url,\r\n        title: item.title,\r\n        played: 0,\r\n        durationFromObject: duration,\r\n      });\r\n      toaster.notify(<span>Now playing: {item.title}</span>, {\r\n        duration: 1200,\r\n      });\r\n      this.props.setUrl(url);\r\n      this.props.setCurrentSong(item);\r\n    }\r\n  };\r\n  handlePlayNext = () => {\r\n    let song;\r\n    if (typeof this.state.array[0] !== \"undefined\") {\r\n      if (this.state.shuffle) {\r\n        song = this.state.array[\r\n          Math.floor(Math.random() * (this.state.array.length - 1))\r\n        ];\r\n      } else {\r\n        song = this.state.array[0];\r\n      }\r\n      this.props.setTitle(song.title);\r\n      this.props.setArtist(song.artists);\r\n      const videoId = song.videoId;\r\n      const url = \"https://www.youtube.com/watch?v=\" + videoId;\r\n      const duration = song.duration;\r\n      const artists = song.artists;\r\n\r\n      this.setState({\r\n        currentSong: song,\r\n      });\r\n      //console.log(url);\r\n      if (url === this.state.url) {\r\n        this.player.seekTo(0); //Seeks to 0 incase of having same url\r\n      }\r\n      this.setState({\r\n        playing: true,\r\n        url: url,\r\n        title: song.title,\r\n        played: 0,\r\n        durationFromObject: duration,\r\n        videoId: videoId,\r\n        artists: artists,\r\n      });\r\n      toaster.notify(<span>Now playing: {song.title}</span>, {\r\n        duration: 1200,\r\n      });\r\n      this.props.onRemove(song); //removes item from queue\r\n      this.props.setUrl(url);\r\n      this.props.setCurrentSong(song);\r\n    } else {\r\n      this.setState({\r\n        playing: false,\r\n        url: null,\r\n      });\r\n    }\r\n\r\n    //this.props.onRemove(this.state.array[0]); //removes from queue\r\n  };\r\n  handleVolumeChange = (e) => {\r\n    this.setState({ volume: parseFloat(e.target.value) });\r\n  };\r\n  handlePause = () => {\r\n    this.setState({ playing: false });\r\n  };\r\n  handleEnded = () => {\r\n    //this.setState({ playing: false });\r\n    if (this.state.url !== null) {\r\n      let itemObject = Object.assign({}, this.state.currentSong);\r\n      if (typeof itemObject === \"undefined\") {\r\n        itemObject = {};\r\n      }\r\n      itemObject[\"title\"] = this.state.title || \"error\";\r\n      itemObject[\"url\"] = this.state.url;\r\n      itemObject[\"duration\"] = this.state.durationFromObject;\r\n      itemObject[\"videoID\"] = this.state.videoId;\r\n\r\n      this.addToHistory(itemObject);\r\n    }\r\n    this.handlePlayNext();\r\n  };\r\n  renderLoadButton = (url, label) => {\r\n    return <button onClick={() => this.load(url)}>{label}</button>;\r\n  };\r\n  ref = (player) => {\r\n    this.player = player;\r\n  };\r\n  seekTo0() {\r\n    this.player.seekTo(0); //Seeks to 0\r\n  }\r\n  toggletip = () => {\r\n    this.setState({\r\n      tooltipOpen: !this.state.tooltipOpen,\r\n    });\r\n  };\r\n  shuffleRandomTip = () => {\r\n    this.setState({\r\n      shuffleRandomTip: !this.state.shuffleRandomTip,\r\n    });\r\n  };\r\n  handleStartOver = () => {\r\n    this.seekTo0();\r\n  };\r\n  handleDuration = async (duration) => {\r\n    if (this.state.durationFromObject !== format(duration)) {\r\n      const item = JSON.stringify({\r\n        duration: format(duration),\r\n        videoId: this.state.videoId,\r\n      });\r\n\r\n      if (this.state.playlistId !== \"\") {\r\n        await updatePlaylistSongTime(item, this.state.playlistId);\r\n      }\r\n\r\n      //lähetä DB myös uusi duration\r\n    }\r\n    this.setState({ duration });\r\n  };\r\n  handleSeekMouseDown = (e) => {\r\n    this.setState({ seeking: true });\r\n  };\r\n\r\n  handleSeekChange = (e) => {\r\n    this.setState({ played: parseFloat(e.target.value) });\r\n  };\r\n\r\n  handleSeekMouseUp = (e) => {\r\n    this.setState({ seeking: false });\r\n    this.player.seekTo(parseFloat(e.target.value));\r\n  };\r\n  handleProgress = (state) => {\r\n    // We only want to update time slider if we are not currently seeking\r\n    if (!this.state.seeking) {\r\n      this.setState(state);\r\n    }\r\n  };\r\n  /* TODO: add responsiveness to the mediaplayer. Add all elements to a row and columns. Positioning with display:relative and top:10% etc. */\r\n  /* Tooltip is not working correctly. Fix it !*/\r\n  render() {\r\n    const { playing, volume, duration, played } = this.state;\r\n\r\n    return (\r\n      <div className=\"MediaPlayerdiv\">\r\n        <Row>\r\n          <Col sm=\"3\">\r\n            {this.state.title && this.state.title.length > 26 ? (\r\n              <span className=\"marquee hoverEffect\">\r\n                <span className=\"hoverEffect\">{this.state.title}</span>\r\n                <span className=\"hoverEffect\"> {this.state.title}</span>\r\n              </span>\r\n            ) : (\r\n              <p className=\"titleplaying\"> {this.state.title}</p>\r\n            )}\r\n            <Tooltip\r\n              placement=\"top\"\r\n              isOpen={this.state.tooltipOpen}\r\n              target=\"TooltipExample\"\r\n              toggle={this.toggletip}\r\n            >\r\n              {this.state.title}\r\n            </Tooltip>\r\n            {this.state.currentSong && (\r\n              <div\r\n                className=\"artistPlaying hoverEffect d-none d-xl-block\"\r\n                style={{ width: \"400px\", textAlign: \"left\" }}\r\n              >\r\n                <RenderArtists\r\n                  toggleArtistModal={this.props.toggleArtistModal}\r\n                  artists={this.state.currentSong.artists}\r\n                />\r\n              </div>\r\n            )}\r\n            {this.state.currentSong && this.state.currentSong.album && (\r\n              <div\r\n                className=\"albumPlaying hoverEffect d-none d-xl-block\"\r\n                style={{ width: \"400px\", textAlign: \"left\" }}\r\n              >\r\n                <p\r\n                  className=\"artistStuff hoverEffect \"\r\n                  onClick={() => {\r\n                    this.props.toggleAlbumModal({\r\n                      artist: this.state.currentSong.artists[0].name,\r\n                      browseId: this.state.currentSong.album.id,\r\n                      type: \"Album\",\r\n                      thumbnails: [\r\n                        { height: 60, url: this.props.thumbnail },\r\n                        { height: 60, url: this.props.thumbnail },\r\n                      ],\r\n                      title: this.state.currentSong.album.name,\r\n                    });\r\n                  }}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  {this.state.currentSong.album.name}\r\n                </p>\r\n              </div>\r\n            )}\r\n            <div className=\"testi123 \" id=\"TooltipExample\">\r\n              <ReactPlayer\r\n                ref={this.ref}\r\n                muted={this.state.muted}\r\n                className=\"react-player\"\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                url={this.state.url}\r\n                playing={playing}\r\n                controls={true}\r\n                volume={volume}\r\n                onPlay={this.handlePlay}\r\n                onPause={this.handlePause}\r\n                onEnded={this.handleEnded}\r\n                onError={this.handlePlayNext}\r\n                onDuration={this.handleDuration}\r\n                onProgress={this.handleProgress}\r\n\r\n                //{(e) => console.log(\"onError\", e)}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col sm=\"6\">\r\n            <div className=\"playercontrols\">\r\n              <Row>\r\n                <Col sm=\"2\">\r\n                  {\" \"}\r\n                  <div className=\"elapsedTime float-right\">\r\n                    <Duration seconds={duration * played} />\r\n                  </div>\r\n                </Col>\r\n                <Col sm=\"8\" className=\"asd\">\r\n                  <Row>\r\n                    <div className=\"durationcontrol\">\r\n                      <CustomInput\r\n                        id=\"exampleCustomRange\"\r\n                        name=\"customRange\"\r\n                        type=\"range\"\r\n                        min={0}\r\n                        max={0.999999}\r\n                        step=\"any\"\r\n                        value={played}\r\n                        onMouseDown={this.handleSeekMouseDown}\r\n                        onChange={this.handleSeekChange}\r\n                        onMouseUp={this.handleSeekMouseUp}\r\n                      />\r\n                    </div>\r\n                  </Row>\r\n                  <Row>\r\n                    <div className=\"buttonit\">\r\n                      {playing ? (\r\n                        <div\r\n                          className=\"buttonArea\"\r\n                          onClick={this.handlePlayPause}\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            className=\"Active\"\r\n                            size={\"lg\"}\r\n                            icon={faPause}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          className=\"buttonArea\"\r\n                          disabled={this.props.array[0] ? false : true}\r\n                          onClick={this.handlePlayPause}\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            className=\"Active\"\r\n                            size={\"lg\"}\r\n                            icon={faPlay}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                      <div className=\"buttonArea2\" onClick={this.handleEnded}>\r\n                        <FontAwesomeIcon\r\n                          className=\"Active\"\r\n                          size={\"lg\"}\r\n                          icon={faForward}\r\n                        />\r\n                      </div>\r\n                      <div\r\n                        className=\"buttonArea3\"\r\n                        onClick={this.handlePlayPrevious}\r\n                      >\r\n                        <FontAwesomeIcon\r\n                          className=\"Active\"\r\n                          size={\"lg\"}\r\n                          icon={faBackward}\r\n                        />\r\n                      </div>\r\n\r\n                      <Tooltip\r\n                        placement=\"top\"\r\n                        isOpen={this.state.shuffleRandomTip}\r\n                        target=\"shuffleRandomTip\"\r\n                        toggle={this.shuffleRandomTip}\r\n                      >\r\n                        Toggle Shuffle\r\n                      </Tooltip>\r\n                      <div\r\n                        id=\"shuffleRandomTip\"\r\n                        className=\"buttonArea4\"\r\n                        onClick={this.handleShuffle}\r\n                      >\r\n                        <FontAwesomeIcon\r\n                          className={this.state.shuffle ? \"Active\" : \"null\"}\r\n                          size={\"lg\"}\r\n                          icon={faRandom}\r\n                        />{\" \"}\r\n                      </div>\r\n                    </div>\r\n                  </Row>\r\n                </Col>\r\n                <Col sm=\"2\">\r\n                  {\" \"}\r\n                  <div className=\"durationOfSong float-left\">\r\n                    <Duration seconds={duration} />\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </Col>\r\n          <Col sm=\"3\">\r\n            <div className=\"historybutton\">\r\n              <Button\r\n                disabled={this.state.history[0] ? false : true}\r\n                className=\"btn-controls btn-secondary float-right\"\r\n                onClick={this.toggle}\r\n              >\r\n                History\r\n              </Button>\r\n              <HistoryModal\r\n                isOpen={this.state.modal}\r\n                toggle={this.toggle}\r\n                history={this.state.history}\r\n                clearList={this.clearHistory}\r\n                addFunc={this.props.onAdd}\r\n                onPlay={this.props.onPlay}\r\n                AddToPlaylist={this.props.AddToPlaylist}\r\n              />\r\n            </div>\r\n            <div className=\"volumeiconcontrols\">\r\n              <div className=\"volumecontrol\">\r\n                {/* tänne ääni iconi*/}\r\n                <div className=\"volumecontrolicon\" onClick={this.setMute}>\r\n                  {this.state.muted ? (\r\n                    <FontAwesomeIcon\r\n                      className=\"Active\"\r\n                      size={\"lg\"}\r\n                      icon={faVolumeMute}\r\n                    />\r\n                  ) : (\r\n                    <FontAwesomeIcon\r\n                      className=\"Active\"\r\n                      size={\"lg\"}\r\n                      icon={faVolumeUp}\r\n                    />\r\n                  )}\r\n                </div>\r\n\r\n                <CustomInput\r\n                  type=\"range\"\r\n                  id=\"exampleCustomRange\"\r\n                  name=\"customRange\"\r\n                  min={0}\r\n                  max={1}\r\n                  step=\"any\"\r\n                  value={volume}\r\n                  onChange={this.handleVolumeChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <div>\r\n          {/*  <tr>\r\n            <th>remaining</th>\r\n            <td>\r\n              <Duration seconds={duration * (1 - played)} />\r\n            </td>\r\n          </tr> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst RenderArtists = (props) => {\r\n  if (!props.artists) return null;\r\n  return props.artists.map((artist, index) => (\r\n    <div\r\n      key={index}\r\n      className=\"artistStuff hoverEffect\"\r\n      onClick={() =>\r\n        props.toggleArtistModal({ name: artist.name, id: artist.id })\r\n      }\r\n    >\r\n      {artist.name} &nbsp;\r\n    </div>\r\n  ));\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Row, Col } from \"reactstrap\";\r\nimport Videolist from \"../videolist/videolist\";\r\nimport Search from \"../search/search\";\r\nimport Queue from \"../queue/queue\";\r\n\r\nimport ArtistModal from \"../modal/artistmodal/ArtistModal\";\r\nimport AlbulModal from \"../modal/Modal\";\r\nimport AllSongsModal from \"../modal/allsongsmodal/Modal\";\r\n\r\nimport Playlist from \"../playlist/playlist\";\r\nimport SideBar from \"../sidebar/sidebar\";\r\nimport nameGenerator from \"../functions/nameGenerator\";\r\nimport { Song } from \"../classes/index\";\r\nimport MediaPlayer from \"../mediaplayer/mediaplayer\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport toaster from \"toasted-notes\";\r\nimport \"toasted-notes/src/styles.css\"; // optional styles\r\nimport \"./homepage.css\";\r\nimport {\r\n  handleSubmit,\r\n  handleSubmit_db,\r\n  makePlaylist,\r\n  updatePlaylist,\r\n  getPlayListById,\r\n  getContentDetails,\r\n  addUserPlaylist,\r\n  deleteUserPlaylist,\r\n  updateUserPlaylist,\r\n  searchArtists,\r\n  getArtistData,\r\n  getArtistAlbumData,\r\n  getPlaylist,\r\n  addSongToPlaylist,\r\n} from \"../functions/functions\";\r\nimport { authenticationService } from \"../functions/authenthication\";\r\nimport Spinner from \"../spinner/spinner4\";\r\n\r\nvar stringSimilarity = require(\"string-similarity\");\r\n\r\ntype HomepageState = {\r\n  items: Array<Song>;\r\n  queue: Array<Song>;\r\n  playlist: Array<Song>;\r\n  contentDetails: Array<any>;\r\n  Allplaylists: Array<any>;\r\n  playlists: Array<any>;\r\n  loading: boolean;\r\n  updated: boolean;\r\n  url: string;\r\n  playing: boolean;\r\n  playlistId: string;\r\n  playlistName: string;\r\n  error: boolean;\r\n  title: string;\r\n  user: any;\r\n  token: string;\r\n  userName: string;\r\n  userRole: string;\r\n  private?: boolean;\r\n  playlistOwner?: string;\r\n  loadingPlaylist?: boolean;\r\n  loadingPlaylists?: boolean;\r\n  duration?: string;\r\n  focusedTab: string;\r\n  dbitems: any;\r\n  shuffle: boolean;\r\n  artist?: string;\r\n  showModal?: boolean;\r\n  showArtistModal?: boolean;\r\n  artistAlbums?: any;\r\n  artistSubscribers?: any;\r\n  artistSingles?: any;\r\n  artistViews?: any;\r\n  artistDescription?: any;\r\n  artistSongs?: any;\r\n  artistThumbnails?: any;\r\n  artistName?: any;\r\n  isArtist?: boolean;\r\n  albumBrowseId?: any;\r\n  albumThumbnails?: any;\r\n  albumTitle?: any;\r\n  albumYear?: any;\r\n  currentSong?: any;\r\n  showAllSongsModal?: boolean;\r\n  loadingAllSongs?: boolean;\r\n  allSongs?: any;\r\n  playlistIndex: number;\r\n};\r\nexport default class Homepage extends Component<any, HomepageState> {\r\n  player: any;\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.onAdd = this.onAdd.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.onPlay = this.onPlay.bind(this);\r\n    this.getPlaylist = this.getPlaylist.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.AddToPlaylist = this.AddToPlaylist.bind(this);\r\n    this.onDeleteFromPlaylist = this.onDeleteFromPlaylist.bind(this);\r\n    this.addPlaylistToQueue = this.addPlaylistToQueue.bind(this);\r\n    this.loadPlaylist = this.loadPlaylist.bind(this);\r\n    this.playPlaylist = this.playPlaylist.bind(this);\r\n    this.makePlaylist = this.makePlaylist.bind(this);\r\n    this.Updateplaylist = this.Updateplaylist.bind(this);\r\n    this.deletePlaylist = this.deletePlaylist.bind(this);\r\n    this.UpdateCurrentPlaylist = this.UpdateCurrentPlaylist.bind(this);\r\n    this.shuffleQueue = this.shuffleQueue.bind(this);\r\n    this.clearQueue = this.clearQueue.bind(this);\r\n    this.setQueue = this.setQueue.bind(this);\r\n    this.setUrl = this.setUrl.bind(this);\r\n    this.setPlaylist = this.setPlaylist.bind(this);\r\n    this.setTitle = this.setTitle.bind(this);\r\n    this.setPlaying = this.setPlaying.bind(this);\r\n    this.playNext = this.playNext.bind(this);\r\n    this.setLoading = this.setLoading.bind(this);\r\n    this.handleDB = this.handleDB.bind(this);\r\n    this.setTab = this.setTab.bind(this);\r\n    this.setShuffle = this.setShuffle.bind(this);\r\n    this.state = {\r\n      items: [], //from youtube API\r\n      queue: [],\r\n      playlist: [],\r\n      contentDetails: [],\r\n      Allplaylists: [], //all of the playlists, maybe render seperately somewhere\r\n      //could add public/private playlists etc.\r\n      playlists: this.props?.data?.playlists || [], //users playlists\r\n      loading: false,\r\n      updated: false,\r\n      url: \"\",\r\n      playing: true,\r\n      playlistId: \"\",\r\n      playlistName: \"\",\r\n      error: false,\r\n      title: \"\",\r\n      user: null,\r\n      token: \"\",\r\n      userName: \"\",\r\n      userRole: \"\",\r\n      loadingPlaylists: false,\r\n      loadingPlaylist: false,\r\n      duration: \"\",\r\n      focusedTab: \"1\",\r\n      dbitems: [],\r\n      shuffle: false,\r\n      artist: \"\",\r\n      allSongs: [],\r\n      playlistIndex: 0,\r\n    };\r\n  }\r\n  toggleModal = () => {\r\n    this.setState({\r\n      showModal: !this.state.showModal,\r\n    });\r\n  };\r\n  toggleArtistModal2 = () => {\r\n    this.setState({\r\n      showArtistModal: !this.state.showArtistModal,\r\n    });\r\n  };\r\n  toggleArtistModal = async (artist: any) => {\r\n    if (artist.id) {\r\n      this.setState({\r\n        showArtistModal: false,\r\n      });\r\n      this.setLoading(true);\r\n      const res = await getArtistData(artist.id);\r\n\r\n      let albums = [];\r\n      if (res && res.albums && res.albums.browseId) {\r\n        const albumData = await getArtistAlbumData(\r\n          res.albums.browseId,\r\n          res.albums.params\r\n        );\r\n\r\n        albums = albumData;\r\n      }\r\n      this.setLoading(false);\r\n\r\n      if (!res.albums || !albums) {\r\n        albums = [0, 1];\r\n      }\r\n      /*   console.log(res); */\r\n      this.setState({\r\n        artistAlbums: albums.length > 0 ? albums : res.albums.results,\r\n        artistSubscribers: res.subscribers,\r\n        artistSingles: res.singles,\r\n        artistViews: res.views,\r\n        artistDescription: res.description,\r\n        artistSongs: res.songs,\r\n        artistThumbnails: res.thumbnails,\r\n        showArtistModal: true,\r\n        artistName: res.name,\r\n      });\r\n    }\r\n  };\r\n  toggleAllSongsModal = async (browseid: string) => {\r\n    this.setState({\r\n      showAllSongsModal: false,\r\n      loadingAllSongs: true,\r\n    });\r\n    const res = await getPlaylist(browseid);\r\n    this.setState({\r\n      allSongs: res.tracks,\r\n    });\r\n    //\r\n    // Get data from that browseid and pass them to our state and ẃe pass the state to the new modal:P\r\n    // Not the most performant shit but w.e really. It's couple re-renders.\r\n    //\r\n\r\n    this.setState({\r\n      showAllSongsModal: true,\r\n      loadingAllSongs: false,\r\n    });\r\n  };\r\n  toggleAllSongsModal123 = () => {\r\n    this.setState({\r\n      showAllSongsModal: !this.state.showAllSongsModal,\r\n    });\r\n  };\r\n  toggleAlbumModal = (props: any) => {\r\n    this.setState({\r\n      showModal: !this.state.showModal,\r\n      albumBrowseId: props.browseId,\r\n      albumThumbnails: props.thumbnails,\r\n      albumTitle: props.title,\r\n      albumYear: props.year,\r\n      isArtist: false,\r\n    });\r\n  };\r\n  componentDidUpdate(prevProps: any) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        user: this.props.data,\r\n      });\r\n\r\n      this.setState({\r\n        playlists: this.props.data.playlists,\r\n      });\r\n    }\r\n  }\r\n  getArtists = async (query: any) => {\r\n    if (!query) return;\r\n    this.setState({\r\n      error: false,\r\n      loading: true,\r\n      items: [],\r\n    });\r\n    const result = await searchArtists(query);\r\n    this.setState({\r\n      items: result,\r\n      loading: false,\r\n    });\r\n  };\r\n  setShuffle() {\r\n    this.setState({\r\n      shuffle: !this.state.shuffle,\r\n    });\r\n  }\r\n  setArtist = (artists: any) => {\r\n    if (!artists || !artists[0]) {\r\n      this.setState({\r\n        artist: \"\",\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      artist: artists[0].name,\r\n    });\r\n  };\r\n  playNext(item: Song) {\r\n    let a = Object.assign({}, item);\r\n    a[\"uniqueId\"] = Math.random();\r\n    this.state.queue.unshift(a);\r\n    this.setState({\r\n      updated: true,\r\n    });\r\n    toaster.notify(<span>{item.title} added to in front of the queue.</span>, {\r\n      duration: 800,\r\n    });\r\n  }\r\n  setPlaying(playing: boolean) {\r\n    this.setState({\r\n      playing: playing,\r\n    });\r\n  }\r\n  setQueue(queue: Array<Song>) {\r\n    this.setState({\r\n      queue: queue,\r\n    });\r\n  }\r\n  isSame(array1: Array<Song>, array2: Array<Song>) {\r\n    //checks for two arrays if they have same items/songs\r\n    for (let i = 0; i < array1.length; i++) {\r\n      if (array1[i].title !== array2[i].title) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  sortBySimilarity = (items: any, term: string) => {\r\n    for (const item of items) {\r\n      item.similarity = stringSimilarity.compareTwoStrings(item.title, term);\r\n    }\r\n    items.sort(function (a: any, b: any) {\r\n      return b.similarity - a.similarity;\r\n    });\r\n    return items;\r\n  };\r\n  async handleDB(items: any, term: string) {\r\n    if (!term) return;\r\n    this.setState({\r\n      error: false,\r\n      loading: true,\r\n    });\r\n    const result = await handleSubmit_db(term);\r\n    /*  let sorted = this.sortBySimilarity(result, term); */\r\n    this.setState({\r\n      dbitems: result,\r\n      loading: false,\r\n    });\r\n    if (result.length === 0) {\r\n      this.setState({\r\n        error: true,\r\n        loading: false,\r\n      });\r\n    }\r\n  }\r\n  addSongToPlaylist = async (track: any, id: string) => {\r\n    let itemCopy = Object.assign({}, track);\r\n    itemCopy[\"uniqueId\"] = Date.now() + Math.random(); //ensure that all elements have unique keys\r\n    const item = JSON.stringify({ track: itemCopy });\r\n\r\n    if (this.state.playlistId === id) {\r\n      this.setState((prevState) => ({\r\n        playlist: [...prevState.playlist, itemCopy],\r\n      }));\r\n    }\r\n    await addSongToPlaylist(item, id);\r\n  };\r\n  shuffleQueue() {\r\n    //Fiter-Yates shuffle\r\n    //https://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array\r\n    let Array = this.state.queue;\r\n    for (let i = Array.length - 1; i > 0; i--) {\r\n      let j = Math.floor(Math.random() * (i + 1));\r\n      [Array[i], Array[j]] = [Array[j], Array[i]];\r\n    }\r\n    this.setState({\r\n      queue: Array,\r\n    });\r\n  }\r\n  clearQueue() {\r\n    if (typeof this.state.queue[0] !== \"undefined\") {\r\n      this.setState({\r\n        queue: [],\r\n      });\r\n    }\r\n  }\r\n  setPlaylist(playlistitems: Array<Song>) {\r\n    //updates state to given playlist\r\n    this.setState({\r\n      playlist: playlistitems,\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    const currentUser = authenticationService.currentUserValue;\r\n\r\n    if (currentUser && currentUser.token) {\r\n      this.setState({\r\n        token: currentUser.token,\r\n        userName: currentUser.user.name,\r\n        userRole: currentUser.user.role,\r\n      });\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    //authenticationService.currentUser.unsubscribe();\r\n  }\r\n  playPlaylist(playlist: Array<Song>, playlistname: string) {\r\n    //replaces queue with active playlist\r\n\r\n    var itemArray = [];\r\n    for (let i = 0; i < playlist.length; i++) {\r\n      if (i === 0) {\r\n        //take first element and play it instantly\r\n        const song = new Song(\r\n          playlist[i].title,\r\n          playlist[i].channelTitle,\r\n          playlist[i].videoId,\r\n          Math.random(),\r\n          playlist[i].duration,\r\n          playlist[i].artists,\r\n          playlist[i].album,\r\n          playlist[i].thumbnail,\r\n          playlist[i].thumbnails\r\n        );\r\n\r\n        this.onPlay(song);\r\n      } else {\r\n        //other elements go to queue\r\n        const song = new Song(\r\n          playlist[i].title,\r\n          playlist[i].channelTitle,\r\n          playlist[i].videoId,\r\n          Math.random(),\r\n          playlist[i].duration,\r\n          playlist[i].artists,\r\n          playlist[i].album,\r\n          playlist[i].thumbnail,\r\n          playlist[i].thumbnails\r\n        );\r\n        itemArray.push(song);\r\n      }\r\n    }\r\n    this.setState({\r\n      queue: itemArray,\r\n    });\r\n    toaster.notify(\r\n      <span className=\"styled-toast\">\r\n        Now playing: {playlistname ? playlistname : this.state.playlistName}\r\n      </span>,\r\n      {\r\n        duration: 1200,\r\n      }\r\n    );\r\n    //this.onPlay(itemArray[0]);\r\n  }\r\n  setTab = (i: string) => {\r\n    this.setState({\r\n      focusedTab: i,\r\n    });\r\n  };\r\n  addPlaylistToQueue(playlist: Array<Song>, playlistname: string) {\r\n    //adds active playlist to queue\r\n    //let playlist = this.state.playlist;\r\n    let queue = this.state.queue;\r\n    // console.log(playlist);\r\n    // console.log(\"Hello?\");\r\n\r\n    for (let i = 0; i < playlist.length; i++) {\r\n      const song = new Song(\r\n        playlist[i].title,\r\n        playlist[i].channelTitle,\r\n        playlist[i].videoId,\r\n        Math.random(),\r\n        playlist[i].duration,\r\n        playlist[i].artists,\r\n        playlist[i].album,\r\n        playlist[i].thumbnail,\r\n        playlist[i].thumbnails\r\n      );\r\n      queue.push(song);\r\n    }\r\n    this.setState({\r\n      queue: queue,\r\n    });\r\n\r\n    toaster.notify(\r\n      <span>\r\n        {playlistname ? playlistname : this.state.playlistName} added to the\r\n        queue!\r\n      </span>,\r\n      {\r\n        duration: 1200,\r\n      }\r\n    );\r\n  }\r\n  async AddToPlaylist(item: Song) {\r\n    //Adds item to active playlist and updates the state & database\r\n    //if no item is found, generates name for new\r\n    if (this.state.playlistId === \"\" && this.state.playlistName === \"\") {\r\n      //this.makePlaylist();\r\n      alert(\r\n        \"No playlist selected. Creating a new playlist.\\n\" +\r\n          \"Generating name...\"\r\n      );\r\n      this.state.playlist.push(item);\r\n      /*     this.setState((prevState) => ({\r\n        playlist: [...prevState.playlist, item],\r\n      })); */\r\n      await this.makePlaylist(\r\n        nameGenerator(),\r\n        this.state.playlist,\r\n        true,\r\n        \"Random\"\r\n      );\r\n      this.setState({\r\n        updated: !this.state.updated,\r\n      });\r\n      setTimeout(\r\n        () =>\r\n          this.Updateplaylist(\r\n            this.state.playlistName,\r\n            this.state.playlistId,\r\n            this.state.private\r\n          ),\r\n        100\r\n      );\r\n      toaster.notify(<span>{item.title} added to the playlist.</span>, {\r\n        duration: 750,\r\n      });\r\n    } else {\r\n      this.state.playlist.push(item);\r\n      const playlistName = this.state.playlistName;\r\n      const playlist = this.state.playlist;\r\n      const playlistId = this.state.playlistId;\r\n      const isPrivate = this.state.private;\r\n      if (this.updateTimer) {\r\n        clearTimeout(this.updateTimer);\r\n      }\r\n      this.updateTimer = setTimeout(() => {\r\n        this.UpdatePlaylistInParameters(\r\n          playlist,\r\n          playlistName,\r\n          playlistId,\r\n          isPrivate\r\n        );\r\n      }, 2000);\r\n\r\n      this.setState({\r\n        updated: !this.state.updated,\r\n      });\r\n      toaster.notify(<span>{item.title} added to the playlist.</span>, {\r\n        duration: 750,\r\n      });\r\n    }\r\n    this.setState({\r\n      playlistIndex: this.state.playlistIndex + 1,\r\n    });\r\n  }\r\n  updateTimer: any;\r\n  onDeleteFromPlaylist(item: Song) {\r\n    //deletes item from the active playlist from state\r\n    if (!item) return;\r\n    if (typeof this.state.playlist[0] === \"undefined\") return;\r\n\r\n    //console.log(this.state.queue[0].uniqueId);\r\n    for (let i = 0; i < this.state.playlist.length; i++) {\r\n      if (this.state.playlist[i].uniqueId === item.uniqueId) {\r\n        //delete item from playlist\r\n        this.state.playlist.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      updated: !this.state.updated,\r\n    });\r\n\r\n    //this.Updateplaylist(this.state.playlistName, this.state.playlistId);\r\n  }\r\n  async handleSubmit(termFromSearch: String, tries = 10) {\r\n    if (!termFromSearch) return;\r\n    //handles search-query from search bar webscraping\r\n    this.setState({\r\n      //set loading to true\r\n      loading: true,\r\n      error: false,\r\n      items: [],\r\n    });\r\n    const result = await handleSubmit(termFromSearch);\r\n    //const result = await handleSubmit_db(termFromSearch);\r\n\r\n    if (!result) {\r\n      this.setState({\r\n        error: true,\r\n        loading: false,\r\n        items: [],\r\n      });\r\n      return;\r\n    }\r\n    //console.log(result);\r\n    if (result.length === 0) {\r\n      if (tries > 0) {\r\n        this.handleSubmit(termFromSearch, tries - 1);\r\n        return;\r\n      }\r\n      this.setState({\r\n        error: true,\r\n        loading: false,\r\n        items: [],\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      items: result,\r\n      loading: false,\r\n    });\r\n  }\r\n  async handleSubmitdb(termFromSearch: String, tries = 10) {\r\n    //handles search-query from search bar webscraping\r\n    this.setState({\r\n      //set loading to true\r\n      loading: true,\r\n      error: false,\r\n      items: [],\r\n    });\r\n    //const result = await handleSubmit(termFromSearch);\r\n    const result = await handleSubmit_db(termFromSearch);\r\n\r\n    if (!result) {\r\n      this.setState({\r\n        error: true,\r\n        loading: false,\r\n        items: [],\r\n      });\r\n      return;\r\n    }\r\n    //console.log(result);\r\n    if (result.length === 0) {\r\n      this.setState({\r\n        error: true,\r\n        loading: false,\r\n        items: [],\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      items: result,\r\n      loading: false,\r\n    });\r\n  }\r\n  async handleSubmit2(termFromSearch: String) {\r\n    //handles search-query from search bar to YouTube API\r\n    this.setState({\r\n      //set loading to true\r\n      loading: true,\r\n    });\r\n    const result = await handleSubmit(termFromSearch);\r\n\r\n    if (result === null) {\r\n      this.setState({\r\n        error: true,\r\n      });\r\n      return;\r\n    }\r\n    var listOfIds: any = [];\r\n    result.map((item: any) => listOfIds.push(item.id.videoId));\r\n    listOfIds = listOfIds.join(\",\");\r\n    const contentDetails = await getContentDetails(listOfIds);\r\n    //console.log(contentDetails);\r\n    this.setState({\r\n      items: result,\r\n      contentDetails: contentDetails,\r\n      loading: false,\r\n    });\r\n  }\r\n  async loadPlaylist(id: String) {\r\n    //loads a single database based on the id\r\n\r\n    this.setState({\r\n      loadingPlaylist: true,\r\n      playlist: [],\r\n      playlistName: \"Loading...\",\r\n    });\r\n    const result: any = await getPlayListById(id);\r\n\r\n    this.setState({\r\n      playlist: result.data.playlist,\r\n      playlistName: result.data.name,\r\n      playlistId: result.data._id,\r\n      loading: false,\r\n      private: result.data.private,\r\n      playlistOwner: result.data.owner,\r\n      loadingPlaylist: false,\r\n      playlistIndex: this.state.playlistIndex + 1,\r\n    });\r\n    return \"OK\";\r\n  }\r\n  setLoading(status: boolean) {\r\n    this.setState({\r\n      loadingPlaylists: status,\r\n    });\r\n  }\r\n  async getPlaylist() {\r\n    //called when making changes to the playlists, don't remove\r\n\r\n    await this.props.loadUser();\r\n\r\n    //gets ALL playlists from database\r\n  }\r\n  async makePlaylist(\r\n    name: String,\r\n    playlist: Array<Song>,\r\n    isPrivate: boolean,\r\n    genre: String\r\n  ) {\r\n    //API request to create a new playlist (database)\r\n    //console.log(this.state.user.name);\r\n\r\n    this.setState({\r\n      playlist: playlist,\r\n    });\r\n    //let playlist = this.state.playlist;\r\n    //console.log(isPrivate);\r\n    const item = JSON.stringify({\r\n      name,\r\n      playlist,\r\n      isPrivate,\r\n      owner: this.state.userName,\r\n      genre,\r\n    });\r\n    this.setLoading(true);\r\n    const result: any = await makePlaylist(item);\r\n    const data = result.data;\r\n\r\n    addUserPlaylist(\r\n      data._id,\r\n      data.name,\r\n      data.private,\r\n      data.owner,\r\n      data.createdAt,\r\n      this.state.token\r\n    );\r\n    //updateUsersPlaylistarray\r\n    //console.log(result.data._id);\r\n    this.setState({\r\n      playlistId: result.data._id,\r\n      playlistName: result.data.name,\r\n      private: isPrivate,\r\n    });\r\n    this.forceUpdate();\r\n    await this.getPlaylist();\r\n    this.setLoading(false);\r\n  }\r\n  async UpdateCurrentPlaylist() {\r\n    //updates current status of active playlist to database\r\n    this.Updateplaylist(\r\n      this.state.playlistName,\r\n      this.state.playlistId,\r\n      this.state.private\r\n    );\r\n  }\r\n  UpdatePlayListStatus = async (\r\n    name: String,\r\n    id: String,\r\n    playlist: any,\r\n    isPrivate?: boolean\r\n  ) => {\r\n    const item = JSON.stringify({ name, playlist, private: isPrivate });\r\n    await updatePlaylist(item, id);\r\n    updateUserPlaylist(id, name, isPrivate, this.state.token);\r\n  };\r\n  async Updateplaylist(name: String, id: String, isPrivate?: boolean) {\r\n    //updates current state to name & id given to database\r\n    let playlist = this.state.playlist;\r\n    //console.log(playlist);\r\n\r\n    const item = JSON.stringify({ name, playlist, private: isPrivate });\r\n    const result = await updatePlaylist(item, id);\r\n    updateUserPlaylist(id, name, isPrivate, this.state.token);\r\n    //console.log(result);\r\n    this.setState({\r\n      playlistName: result.data.name,\r\n      playlist: playlist,\r\n    });\r\n\r\n    await this.getPlaylist();\r\n  }\r\n  async UpdatePlaylistInParameters(\r\n    playlist: any,\r\n    name: String,\r\n    id: String,\r\n    isPrivate?: boolean\r\n  ) {\r\n    //updates current state to name & id given to database\r\n\r\n    //console.log(playlist);\r\n\r\n    const item = JSON.stringify({ name, playlist, private: isPrivate });\r\n    await updatePlaylist(item, id);\r\n    updateUserPlaylist(id, name, isPrivate, this.state.token);\r\n    //console.log(result);\r\n    /*     this.setState({\r\n      playlistName: result.data.name,\r\n      playlist: playlist,\r\n    });\r\n\r\n    await this.getPlaylist(); */\r\n  }\r\n  async deletePlaylist(id: String) {\r\n    //DELETE PLAYLIST BASED ON ID\r\n    if (this.state.playlistId === id) {\r\n      this.setState({\r\n        playlistId: \"\",\r\n        playlistName: \"\",\r\n        playlist: [],\r\n      });\r\n    }\r\n    for (let i = 0; i < this.state.playlists.length; i++) {\r\n      if (this.state.playlists[i]._id === id) {\r\n        //delete item from playlists\r\n        this.state.playlists.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      //trigger re-render\r\n      updated: true,\r\n    });\r\n    //await deletePlaylist(id); this is for deleting whole together a playlist from db\r\n    this.setLoading(true);\r\n    await deleteUserPlaylist(id, this.state.token); //deletes playlist from the user\r\n    //delete users playlist\r\n    this.setLoading(false);\r\n\r\n    this.getPlaylist();\r\n  }\r\n  onAdd(item: Song) {\r\n    //ADDS SELECTED ITEM TO QUEUE - -> PLAYER & QUEUE\r\n    //console.log(item);\r\n    let itemCopy = Object.assign({}, item);\r\n    itemCopy[\"uniqueId\"] = Date.now() + Math.random(); //ensure that all elements have unique keys\r\n    this.state.queue.push(itemCopy);\r\n    this.setState({\r\n      //just to trigger re-render->new props to children\r\n      updated: !this.state.updated,\r\n    });\r\n    //console.log(this.state.queue);\r\n    //console.log(videoId);\r\n    toaster.notify(<span>{item.title} added to the queue.</span>, {\r\n      duration: 800,\r\n    });\r\n  }\r\n  onDelete(item: Song) {\r\n    //delete item from queue\r\n    //console.log(item);\r\n    if (!item) return;\r\n    if (typeof this.state.queue[0] === \"undefined\") return;\r\n\r\n    for (let i = 0; i < this.state.queue.length; i++) {\r\n      if (this.state.queue[i].uniqueId === item.uniqueId) {\r\n        //delete item from queue\r\n        this.state.queue.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      updated: !this.state.updated,\r\n    });\r\n  }\r\n  ref = (player: any) => {\r\n    //reference to player Child\r\n    this.player = player;\r\n  };\r\n  setUrl(url: string) {\r\n    //updates given url to the state\r\n\r\n    this.setState({\r\n      url: url,\r\n      playing: true,\r\n    });\r\n  }\r\n  onPlay(item: any) {\r\n    //sets given item to be played\r\n    if (!item) return;\r\n\r\n    this.state.queue.unshift(item);\r\n\r\n    const videoId = item.videoId;\r\n    const title = item.title;\r\n    const duration = item.duration;\r\n    const artist = item.artists && item.artists[0] && item.artists[0].name;\r\n    //console.log(item);\r\n    const url = \"https://www.youtube.com/watch?v=\" + videoId;\r\n    if (url === this.state.url) {\r\n      this.player.seekTo0(); //Seeks to 0 incase of having same url\r\n    }\r\n    this.setState({\r\n      url: url, //url gets passed to player as props\r\n      duration: duration,\r\n      playing: true,\r\n      updated: true,\r\n      title: title,\r\n      artist: artist ? artist : null,\r\n    });\r\n    this.setCurrentSong(item);\r\n    /*this.setState({\r\n      title: title,\r\n    });\r\n    toaster.notify(<span>Now playing: {title}</span>, {\r\n      duration: 1200,\r\n      position: \"bottom\",\r\n    });*/\r\n    this.player.handleEnded();\r\n  }\r\n  setTitle(title: string) {\r\n    this.setState({\r\n      title: title,\r\n    });\r\n  }\r\n  setCurrentSong = (song: Song) => {\r\n    this.setState({\r\n      currentSong: song,\r\n    });\r\n  };\r\n  render() {\r\n    const queue = this.state.queue;\r\n    const url = this.state.url;\r\n    const playlists = this.state.playlists;\r\n\r\n    return (\r\n      <div className={this.props.darkMode ? \"homepage-div\" : \"homepage-div2\"}>\r\n        <div id=\"spinnerDivHomePage\">\r\n          {this.state.loadingPlaylist ? (\r\n            <Spinner size={50} color=\"#009688\" />\r\n          ) : null}\r\n          {this.state.loadingPlaylists ? (\r\n            <Spinner size={50} color=\"#009688\" style={{ zIndex: 999999 }} />\r\n          ) : null}\r\n          <AlbulModal\r\n            show={this.state.showModal}\r\n            toggleModal={this.toggleModal}\r\n            artist={this.state.isArtist}\r\n            albumBrowseId={this.state.albumBrowseId}\r\n            albumThumbnails={this.state.albumThumbnails}\r\n            albumTitle={this.state.albumTitle}\r\n            albumYear={this.state.albumYear}\r\n            addFunc={this.onAdd}\r\n            onPlay={this.onPlay}\r\n            addPlaylistToQueue={this.addPlaylistToQueue}\r\n            playPlaylist={this.playPlaylist}\r\n            playNext={this.playNext}\r\n            playlists={this.state.playlists}\r\n            AddToPlaylist={this.AddToPlaylist}\r\n            loadPlaylist={this.loadPlaylist}\r\n            makePlaylist={this.makePlaylist}\r\n            toggleArtistModal={this.toggleArtistModal}\r\n            addSongToPlaylist={this.addSongToPlaylist}\r\n          />\r\n          <ArtistModal\r\n            loading={this.state.loadingAllSongs}\r\n            show={this.state.showArtistModal}\r\n            toggleModal={this.toggleArtistModal2}\r\n            artistAlbums={this.state.artistAlbums}\r\n            artistSingles={this.state.artistSingles}\r\n            artistName={this.state.artistName}\r\n            artistDescription={this.state.artistDescription}\r\n            artistSongs={this.state.artistSongs}\r\n            artistSubscribers={this.state.artistSubscribers}\r\n            artistThumbnails={this.state.artistThumbnails}\r\n            artistViews={this.state.artistViews}\r\n            artist={this.state.isArtist}\r\n            addFunc={this.onAdd}\r\n            onPlay={this.onPlay}\r\n            addPlaylistToQueue={this.addPlaylistToQueue}\r\n            playPlaylist={this.playPlaylist}\r\n            playNext={this.playNext}\r\n            playlists={this.state.playlists}\r\n            AddToPlaylist={this.AddToPlaylist}\r\n            loadPlaylist={this.loadPlaylist}\r\n            toggleAlbumModal={this.toggleAlbumModal}\r\n            toggleAllSongsModal={this.toggleAllSongsModal}\r\n          />\r\n          <AllSongsModal\r\n            show={this.state.showAllSongsModal}\r\n            toggleModal={this.toggleAllSongsModal123}\r\n            allSongs={this.state.allSongs}\r\n            addFunc={this.onAdd}\r\n            onPlay={this.onPlay}\r\n            addPlaylistToQueue={this.addPlaylistToQueue}\r\n            playPlaylist={this.playPlaylist}\r\n            playNext={this.playNext}\r\n            artistName={this.state.artistName}\r\n            AddToPlaylist={this.AddToPlaylist}\r\n          />\r\n          <Row>\r\n            <Col sm=\"8\" className=\"homepage2\">\r\n              <Row>\r\n                <Col sm=\"2\" className=\"sidebar\">\r\n                  <SideBar\r\n                    loadPlaylist={this.loadPlaylist}\r\n                    playlists={playlists}\r\n                    getPlaylist={this.getPlaylist}\r\n                    deletePlaylist={this.deletePlaylist}\r\n                    makePlaylist={this.makePlaylist}\r\n                    playlistName={this.state.playlistName}\r\n                    setLoading={this.setLoading}\r\n                  />\r\n                </Col>\r\n                <Col sm=\"10\" className=\"playlist\">\r\n                  <br />\r\n                  <Playlist\r\n                    playNext={this.playNext}\r\n                    userName={this.state.userName}\r\n                    userRole={this.state.userRole}\r\n                    playlists={playlists}\r\n                    playlistOwner={this.state.playlistOwner}\r\n                    isPrivate={this.state.private}\r\n                    playlist={this.state.playlist}\r\n                    playlistName={this.state.playlistName}\r\n                    playlistId={this.state.playlistId}\r\n                    getPlayList={this.getPlaylist}\r\n                    onDeleteFromPlaylist={this.onDeleteFromPlaylist}\r\n                    onPlay={this.onPlay}\r\n                    addPlaylistToQueue={this.addPlaylistToQueue}\r\n                    playPlaylist={this.playPlaylist}\r\n                    onRemove={this.onDelete}\r\n                    makePlaylist={this.makePlaylist}\r\n                    Updateplaylist={this.Updateplaylist}\r\n                    deletePlaylist={this.deletePlaylist}\r\n                    onAdd={this.onAdd}\r\n                    UpdateCurrentPlaylist={this.UpdateCurrentPlaylist}\r\n                    setPlaylist={this.setPlaylist}\r\n                    setLoading={this.setLoading}\r\n                    toggleModal={this.toggleModal}\r\n                    toggleArtistModal2={this.toggleArtistModal2}\r\n                    toggleArtistModal={this.toggleArtistModal}\r\n                    toggleAlbumModal={this.toggleAlbumModal}\r\n                    playlistIndex={this.state.playlistIndex}\r\n                    addSongToPlaylist={this.addSongToPlaylist}\r\n                    UpdatePlayListStatus={this.UpdatePlayListStatus}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n\r\n            <Col sm=\"4\" className=\"homepage3\">\r\n              <br />\r\n              <Search\r\n                handleSubmit={this.handleSubmit}\r\n                handleSubmitdb={this.handleSubmitdb}\r\n                handleDB={this.handleDB}\r\n                setTab={this.setTab}\r\n                getArtists={this.getArtists}\r\n              />\r\n              <hr />\r\n              <Videolist\r\n                addSongToPlaylist={this.addSongToPlaylist}\r\n                toggleArtistModal={this.toggleArtistModal}\r\n                toggleAlbumModal={this.toggleAlbumModal}\r\n                loadPlaylist={this.loadPlaylist}\r\n                makePlaylist={this.makePlaylist}\r\n                playNext={this.playNext}\r\n                playlists={playlists}\r\n                loading={this.state.loading}\r\n                items={\r\n                  this.state.focusedTab === \"1\"\r\n                    ? this.state.dbitems\r\n                    : this.state.items\r\n                }\r\n                onAdd={this.onAdd}\r\n                onPlay={this.onPlay}\r\n                addPlaylistToQueue={this.addPlaylistToQueue}\r\n                playPlaylist={this.playPlaylist}\r\n                AddToPlaylist={this.AddToPlaylist}\r\n                error={this.state.error}\r\n                errorText={\r\n                  this.state.focusedTab === \"1\"\r\n                    ? \"Please try searching for that on YouTube! Cannot find it from our DB yet :(.\"\r\n                    : \"Please try again\"\r\n                }\r\n              />\r\n              <Queue\r\n                addSongToPlaylist={this.addSongToPlaylist}\r\n                queue={queue}\r\n                onRemove={this.onDelete}\r\n                onPlay={this.onPlay}\r\n                shuffleQueue={this.shuffleQueue}\r\n                clearQueue={this.clearQueue}\r\n                setQueue={this.setQueue}\r\n                isShuffle={this.state.shuffle}\r\n                toggleArtistModal={this.toggleArtistModal}\r\n                toggleAlbumModal={this.toggleAlbumModal}\r\n                playlists={playlists}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col sm=\"12\" className=\"mediaplayer\">\r\n              <MediaPlayer\r\n                setArtist={this.setArtist}\r\n                ref={this.ref}\r\n                array={queue}\r\n                onRemove={this.onDelete}\r\n                url={url}\r\n                playing={this.state.playing}\r\n                title={this.state.title}\r\n                onAdd={this.onAdd}\r\n                AddToPlaylist={this.AddToPlaylist}\r\n                onPlay={this.onPlay}\r\n                setUrl={this.setUrl}\r\n                setTitle={this.setTitle}\r\n                setPlaying={this.setPlaying}\r\n                duration={this.state.duration}\r\n                playlistId={this.state.playlistId}\r\n                setShuffle={this.setShuffle}\r\n                isShuffle={this.state.shuffle}\r\n                artist={this.state.artist}\r\n                setCurrentSong={this.setCurrentSong}\r\n                currentSong={this.state.currentSong}\r\n                toggleArtistModal={this.toggleArtistModal}\r\n                toggleAlbumModal={this.toggleAlbumModal}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { authenticationService } from \"../functions/authenthication\";\r\nimport { Form, FormGroup, Input, Container } from \"reactstrap\";\r\nimport \"./login.css\";\r\nvar jwtDecode = require(\"jwt-decode\");\r\nconst timeout = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n//https://www.florin-pop.com/blog/2019/03/double-slider-sign-in-up-form/\r\nexport default class Homepage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      active: false,\r\n      error: \"\",\r\n      SignUpError: \"\",\r\n    };\r\n    // redirect to home if already logged in\r\n    if (authenticationService.currentUserValue) {\r\n      if (\r\n        jwtDecode(authenticationService.currentUserValue.token).exp >\r\n        Date.now() / 1000\r\n      )\r\n        this.props.history.push(\"/\");\r\n    }\r\n    this.login = this.login.bind(this);\r\n  }\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  togglePanel = () => {\r\n    this.setState({\r\n      active: !this.state.active,\r\n    });\r\n  };\r\n  async login(username, password) {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    /*await authenticationService.login(\r\n      \"juh3do.ko3sdntdiainen@hotmail.fi\",\r\n      \"kidasa3sdadsdasdask\"\r\n    );*/\r\n    await timeout(1500);\r\n    let res = await authenticationService.login(username, password);\r\n\r\n    this.setState({\r\n      loading: false,\r\n    });\r\n    if (!res) {\r\n      //no res => all OK\r\n      this.props.history.push(\"/\");\r\n    } else {\r\n      this.setState({\r\n        error: res,\r\n      });\r\n    }\r\n    //this.props.history.push(\"/\");\r\n  }\r\n  async signUp(newUser) {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    await timeout(1500);\r\n    let res = await authenticationService.signup(newUser);\r\n    this.setState({\r\n      loading: false,\r\n    });\r\n    if (!res) {\r\n      this.props.history.push(\"/\");\r\n    }\r\n    if (res && res.data.error[0]) {\r\n      let data = res.data.error[0];\r\n      this.setState({\r\n        SignUpError: data.name || data.email || data.password || res.data.error,\r\n      });\r\n    }\r\n  }\r\n  signUpSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { signUpName, signUpEmail, signUpPassword } = this.state;\r\n    const role = \"User\";\r\n    const newUser = {\r\n      signUpName,\r\n      signUpEmail,\r\n      signUpPassword,\r\n      role,\r\n    };\r\n    this.signUp(newUser);\r\n  };\r\n  signInSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.login(this.state.email, this.state.password);\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={this.state.active ? \"ss right-panel-active\" : \"ss\"}>\r\n        <h1 className=\"position\">WELCOME TO TUBEMUSIC</h1>\r\n        <Container id=\"login-container\">\r\n          <Container className=\"form-container sign-up-container\">\r\n            <Form onSubmit={this.signUpSubmit}>\r\n              <h1>Create an account</h1>\r\n              <br />\r\n              {this.state.SignUpError ? (\r\n                <div className=\"error2\">{this.state.SignUpError}</div>\r\n              ) : (\r\n                <span className=\"span2\">\r\n                  Please fill in the form to create a new account!\r\n                </span>\r\n              )}\r\n              <br />\r\n              <FormGroup>\r\n                <Input\r\n                  name=\"signUpName\"\r\n                  autoComplete=\"username\"\r\n                  type=\"text\"\r\n                  placeholder=\"Name\"\r\n                  onChange={this.onChange}\r\n                  required={true}\r\n                />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Input\r\n                  name=\"signUpEmail\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  placeholder=\"Email\"\r\n                  onChange={this.onChange}\r\n                  required={true}\r\n                />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Input\r\n                  name=\"signUpPassword\"\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={this.onChange}\r\n                  required={true}\r\n                />\r\n              </FormGroup>\r\n              <div>\r\n                <button className={this.state.loading ? \"loading\" : \"\"}>\r\n                  {this.state.loading ? \"Loading...\" : \"Sign up\"}\r\n                </button>\r\n                {this.state.loading ? <div className=\"spin\"></div> : \"\"}\r\n              </div>\r\n            </Form>\r\n          </Container>\r\n          <Container className=\"form-container sign-in-container\">\r\n            <Form onSubmit={this.signInSubmit}>\r\n              <h1>Sign in</h1>\r\n              <br />\r\n              {this.state.error ? (\r\n                <div className=\"error\">{this.state.error}</div>\r\n              ) : (\r\n                <span className=\"span2\">\r\n                  Please login using your email and password!\r\n                </span>\r\n              )}\r\n              <br />\r\n              <FormGroup>\r\n                <Input\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  autoComplete=\"username\"\r\n                  onChange={this.onChange}\r\n                  required={true}\r\n                />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Input\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={this.onChange}\r\n                  required={true}\r\n                />\r\n              </FormGroup>\r\n              <a href=\"# \">Forgot your password?</a>\r\n              <div>\r\n                <button className={this.state.loading ? \"loading\" : \"\"}>\r\n                  {this.state.loading ? \"Signing in...\" : \"Sign in\"}\r\n                </button>\r\n                {this.state.loading ? <div className=\"spin\"></div> : \"\"}\r\n              </div>\r\n            </Form>\r\n          </Container>\r\n          <div className=\"overlay-container\">\r\n            <div className=\"overlay\">\r\n              <div className=\"overlay-panel overlay-left\">\r\n                <h1>Already have an account?</h1>\r\n                <p>\r\n                  To keep connected with us please login with your personal info\r\n                </p>\r\n                <button\r\n                  onClick={this.togglePanel}\r\n                  className=\"ghost\"\r\n                  id=\"signIn\"\r\n                >\r\n                  Sign In\r\n                </button>\r\n              </div>\r\n              <div className=\"overlay-panel overlay-right\">\r\n                <h1>Don't have an account yet?</h1>\r\n                <p>\r\n                  No worries! Enter your personal details and start listening to\r\n                  music with us.\r\n                </p>\r\n                <button\r\n                  onClick={this.togglePanel}\r\n                  className=\"ghost\"\r\n                  id=\"signUp\"\r\n                >\r\n                  Sign Up\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardText, Button, Row, Col } from \"reactstrap\";\r\n\r\nimport \"moment-duration-format\";\r\n\r\nclass PlaylistModalItem extends Component {\r\n  state = {\r\n    artistName: this.props.artistName,\r\n    title: this.props.title,\r\n    imported: this.props.imported,\r\n  };\r\n\r\n  /*shouldComponentUpdate(nextProps, nextState) {\r\n    return false;\r\n  }*/\r\n  addToImport(props) {\r\n    //console.log(props);\r\n    this.props.addToImport(props);\r\n  }\r\n  removeFromPlaylist(props) {\r\n    this.props.removeFromPlaylist(props);\r\n  }\r\n  render() {\r\n    //console.log(\"item\");\r\n    return (\r\n      <div>\r\n        <Card className=\"card\">\r\n          <CardBody>\r\n            <Row>\r\n              <Col xs=\"4\" sm=\"4\">\r\n                <CardText>{this.state.title}</CardText>\r\n              </Col>\r\n              <Col xs=\"4\" sm=\"4\">\r\n                <CardText className=\"float-left\">\r\n                  {this.state.artistName}\r\n                </CardText>\r\n              </Col>\r\n              <Col xs=\"2\" sm=\"2\">\r\n                {this.props.createdAt}\r\n                {/* format better using moment */}\r\n              </Col>\r\n              <Col xs=\"2\" sm=\"2\">\r\n                {this.state.imported ? (\r\n                  <Button\r\n                    onClick={this.removeFromPlaylist.bind(this, this.props)}\r\n                    className=\"btn btn-primary\"\r\n                    color=\"danger\"\r\n                  >\r\n                    x\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    onClick={this.addToImport.bind(this, this.props)}\r\n                    className=\"btn btn-primary\"\r\n                    color=\"primary\"\r\n                  >\r\n                    +\r\n                  </Button>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//actions we want to use as second paranthesis\r\nexport default PlaylistModalItem;\r\n","//näissä chekkaa onko muttunu tms.\r\nimport React, { Component } from \"react\";\r\nimport PlaylistModalItem from \"./PlaylistModalItem\";\r\n\r\nimport { List, AutoSizer } from \"react-virtualized\";\r\n\r\nclass LoadedList extends Component {\r\n  renderRow = ({ index, key, isScrolling, isVisible, style }) => {\r\n    const tracks = this.props.tracks;\r\n    const { title, artistName, id, createdAt } = tracks[index];\r\n    //const { value } = items[index];\r\n    return (\r\n      <div key={Math.random()} style={style}>\r\n        <PlaylistModalItem\r\n          id={Math.random()} //random to ensure unique id as there can be duplicates of each track\r\n          key={id}\r\n          artistName={artistName}\r\n          addToImport={this.props.addToImport}\r\n          imported={false}\r\n          title={title}\r\n          createdAt={createdAt}\r\n        ></PlaylistModalItem>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    //console.log(\"loadedList\");\r\n    //const tracks = this.props.tracks;\r\n    //console.log(tracks);\r\n    //console.log(this.state.loading);\r\n\r\n    return (\r\n      <div>\r\n        <AutoSizer>\r\n          {({ width }) => (\r\n            <List\r\n              width={width}\r\n              height={550}\r\n              rowCount={this.props.tracks.length}\r\n              rowHeight={80}\r\n              rowRenderer={this.renderRow}\r\n            ></List>\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default LoadedList;\r\n","import React, { Component } from \"react\";\r\nimport PlaylistModalItem from \"./PlaylistModalItem\";\r\nimport { List, AutoSizer } from \"react-virtualized\";\r\nimport isEqual from \"react-fast-compare\";\r\n\r\nclass ImportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      toBeImportedPlaylist: this.props.toBeImportedPlaylist,\r\n      updated: \"\",\r\n    };\r\n    this.removeFromPlaylist = this.removeFromPlaylist.bind(this);\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        toBeImportedPlaylist: this.props.toBeImportedPlaylist,\r\n      });\r\n    }\r\n  }\r\n  renderRow = ({ index, key, isScrolling, isVisible, style }) => {\r\n    const toBeImportedPlaylist = this.props.toBeImportedPlaylist;\r\n    const { title, artistName, id } = toBeImportedPlaylist[index];\r\n    //const { value } = items[index];\r\n    return (\r\n      <div key={id} style={style}>\r\n        <PlaylistModalItem\r\n          key={id}\r\n          id={id}\r\n          artistName={artistName}\r\n          importPlaylistToApp={this.props.importPlaylistToApp}\r\n          removeFromPlaylist={this.removeFromPlaylist}\r\n          imported={true}\r\n          title={title}\r\n        ></PlaylistModalItem>\r\n      </div>\r\n    );\r\n  };\r\n  removeFromPlaylist(item) {\r\n    if (!item) return;\r\n    if (typeof this.state.toBeImportedPlaylist[0] === \"undefined\") return;\r\n    // console.log(this.state.toBeImportedPlaylist[0]);\r\n    //console.log(item);\r\n    for (let i = 0; i < this.state.toBeImportedPlaylist.length; i++) {\r\n      if (this.state.toBeImportedPlaylist[i].id === item.id) {\r\n        //console.log(this.state.toBeImportedPlaylist[i]);\r\n        //delete item from toBeImportedPlaylist\r\n        this.state.toBeImportedPlaylist.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      updated: item.videoId,\r\n    });\r\n  }\r\n  render() {\r\n    //console.log(\"Importlist\");\r\n    //const toBeImportedPlaylist = this.state.toBeImportedPlaylist;\r\n    //console.log(this.state.toBeImportedPlaylist);\r\n    return (\r\n      <div>\r\n        <br />\r\n        <p>{this.props.toBeImportedPlaylist.length} songs in the list.</p>\r\n\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <AutoSizer>\r\n          {({ width }) => (\r\n            <List\r\n              width={width}\r\n              height={550}\r\n              rowCount={this.props.toBeImportedPlaylist.length}\r\n              rowHeight={82}\r\n              rowRenderer={this.renderRow}\r\n            ></List>\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ImportList;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Progress,\r\n  Input,\r\n} from \"reactstrap\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport LoadedList from \"./loadedList\";\r\nimport ImportList from \"./importList\";\r\nimport LoadingSpinner from \"../../../spinner/spinner\";\r\nimport {\r\n  handleSpotifySearchFromYoutube,\r\n  getContentDetails,\r\n  makePlaylist,\r\n  handleScrape,\r\n  addUserPlaylist,\r\n} from \"../../../functions/functions\";\r\nimport \"./PlaylistModal.css\";\r\nimport { authenticationService } from \"../../../functions/authenthication\";\r\nconst timeout = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n//TODO: add option to \"create\" own songs just by entering title and artist. These songs\r\n//can be added  then to the importList which will be further on webscraped\r\nclass PlaylistModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: this.props,\r\n      description: this.props.description,\r\n      imageUrl: this.props.imageUrl,\r\n      name: this.props.name,\r\n      id: this.props.id,\r\n      key: this.props.id,\r\n      trackRef: this.props.trackRef,\r\n      totalTracks: this.props.totalTracks,\r\n      ownerName: this.props.ownerName,\r\n      chosenListsTracks: this.props.chosenListsTracks,\r\n      toBeImportedPlaylist: [],\r\n      importCount: 0,\r\n      loading: false,\r\n      imported: false,\r\n      progressValue: 0,\r\n      notFoundArray: [],\r\n      filter: \"\",\r\n    };\r\n    this.importPlaylistToApp = this.importPlaylistToApp.bind(this);\r\n    this.removeFromPlaylist = this.removeFromPlaylist.bind(this);\r\n    this.addToImport = this.addToImport.bind(this);\r\n    this.toggle = this.toggle.bind(this);\r\n    this.moveAllToImport = this.moveAllToImport.bind(this);\r\n    this.clearList = this.clearList.bind(this);\r\n    this.webScrape = this.webScrape.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    const currentUser = authenticationService.currentUserValue;\r\n\r\n    if (currentUser) {\r\n      this.setState({\r\n        token: currentUser.token,\r\n        userName: currentUser.user.name,\r\n      });\r\n    }\r\n  }\r\n  async webScrape() {\r\n    if (this.state.toBeImportedPlaylist.length < 1) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      loading: true,\r\n      progressValue: 0,\r\n      importCount: 0,\r\n    });\r\n    let tracksFromYoutube = [];\r\n    let tracks = this.state.toBeImportedPlaylist;\r\n    let numberOfTracks = this.state.toBeImportedPlaylist.length;\r\n\r\n    let step = (1 / numberOfTracks) * 100;\r\n    let batchSize = 25; //MAX 500\r\n    let left = 0;\r\n    while (numberOfTracks > left) {\r\n      let res = await handleScrape(tracks.slice(left, left + batchSize));\r\n      if (!res) {\r\n        while (!res) {\r\n          await timeout(250);\r\n          res = await handleScrape(tracks.slice(left, left + batchSize));\r\n        }\r\n      }\r\n      res.forEach((track) => {\r\n        tracksFromYoutube.push(track);\r\n      });\r\n      this.setState({\r\n        progressValue: step * tracksFromYoutube.length,\r\n        importCount: tracksFromYoutube.filter((track) => track !== null).length,\r\n      });\r\n      left += batchSize;\r\n    }\r\n    await timeout(6500);\r\n    if (tracksFromYoutube.length > 0) {\r\n      const name = this.state.name;\r\n      //console.log(res);\r\n      const playlist = tracksFromYoutube.filter((track) => track !== null);\r\n      const body = JSON.stringify({\r\n        name,\r\n        playlist: playlist,\r\n        isPrivate: true,\r\n        owner: this.state.userName,\r\n      });\r\n      if (playlist.length > 0) {\r\n        //console.log(tracksFromYoutube.length - playlist.length);\r\n        const respond = await makePlaylist(body);\r\n        addUserPlaylist(\r\n          respond.data._id,\r\n          respond.data.name,\r\n          respond.data.private,\r\n          respond.data.owner,\r\n          respond.data.createdAt,\r\n          this.state.token\r\n        );\r\n        if (respond.status === 200) {\r\n          this.setState({\r\n            imported: true,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            imported: false,\r\n          });\r\n          alert(\"Error making creating the playlist.\");\r\n        }\r\n      } else {\r\n        this.setState({\r\n          imported: false,\r\n        });\r\n        alert(\"No songs were found.\");\r\n      }\r\n    }\r\n  }\r\n  clearList() {\r\n    this.setState({\r\n      toBeImportedPlaylist: [],\r\n    });\r\n  }\r\n  moveAllToImport(filteredData) {\r\n    //const chosenListsTracks = this.state.chosenListsTracks;\r\n    filteredData.forEach((track) => this.addToImport(track)); //need to generate uniqueIDs\r\n  }\r\n  toggle() {\r\n    this.setState({\r\n      toBeImportedPlaylist: [],\r\n    });\r\n    this.props.toggle();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        modal: this.props,\r\n        description: this.props.description,\r\n        imageUrl: this.props.imageUrl,\r\n        name: this.props.name,\r\n        id: this.props.id,\r\n        key: this.props.id,\r\n        trackRef: this.props.trackRef,\r\n        totalTracks: this.props.totalTracks,\r\n        ownerName: this.props.ownerName,\r\n        chosenListsTracks: this.props.chosenListsTracks,\r\n        imported: false,\r\n        progressValue: 0,\r\n        importCount: 0,\r\n      });\r\n    }\r\n  }\r\n  async makePlaylist(name, playlist) {\r\n    //API request to create a new playlist (database)\r\n    const item = JSON.stringify({ name, playlist });\r\n    const result = await makePlaylist(item);\r\n    //console.log(result.data._id);\r\n    this.setState({\r\n      playlistId: result.data._id,\r\n      playlistName: result.data.name,\r\n      playlist: playlist,\r\n    });\r\n  }\r\n  async importPlaylistToApp() {\r\n    //DEPRECATED\r\n    this.setState({\r\n      loading: true,\r\n      progressValue: 0,\r\n      importCount: 0,\r\n    });\r\n    let numberOfTracks = this.state.toBeImportedPlaylist.length;\r\n    let step = (1 / numberOfTracks) * 100;\r\n\r\n    const tracksFromYoutube = [];\r\n    const tracks = this.state.toBeImportedPlaylist;\r\n    for (let i = 0; i < tracks.length; i++) {\r\n      let artistName = tracks[i].artistName;\r\n      let title = tracks[i].title;\r\n      let term = title + \" \" + artistName; //need to think about how to improve\r\n      let result = await handleSpotifySearchFromYoutube(term);\r\n      if (result === null) {\r\n        this.setState({\r\n          loading: false,\r\n          error: true,\r\n        });\r\n        return;\r\n      }\r\n      let trackObject = {};\r\n      trackObject[\"videoId\"] = result[0].id.videoId;\r\n      trackObject[\"title\"] = result[0].snippet.title;\r\n      trackObject[\"publishedAt\"] = result[0].snippet.publishedAt;\r\n      trackObject[\"description\"] = result[0].snippet.description;\r\n      trackObject[\"channelTitle\"] = result[0].snippet.channelTitle;\r\n      const contentDetails = await getContentDetails(result[0].id.videoId);\r\n      trackObject[\"duration\"] = contentDetails[0].contentDetails.duration;\r\n      trackObject[\"uniqueId\"] = Math.random();\r\n      //console.log(trackObject);\r\n      tracksFromYoutube.push(trackObject);\r\n      this.setState({\r\n        progressValue: this.state.progressValue + step,\r\n      });\r\n    }\r\n    //console.log(tracksFromYoutube);\r\n    const name = this.state.name;\r\n    const body = JSON.stringify({ name, playlist: tracksFromYoutube });\r\n    const res = await makePlaylist(body);\r\n    this.setState({\r\n      loading: false,\r\n      progressValue: 0,\r\n      importCount: 0,\r\n    });\r\n    if (res.status === 200) {\r\n      this.setState({\r\n        imported: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        imported: false,\r\n      });\r\n      alert(\"Error\");\r\n    }\r\n    //console.log(res);\r\n  }\r\n  removeFromPlaylist(item) {\r\n    if (!item) return;\r\n    if (typeof this.state.toBeImportedPlaylist[0] === \"undefined\") return;\r\n    //console.log(this.state.toBeImportedPlaylist[0]);\r\n    //console.log(item);\r\n    for (let i = 0; i < this.state.toBeImportedPlaylist.length; i++) {\r\n      if (this.state.toBeImportedPlaylist[i].id === item.id) {\r\n        //console.log(this.state.toBeImportedPlaylist[i]);\r\n        //delete item from toBeImportedPlaylist\r\n        this.state.toBeImportedPlaylist.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      updated: item.videoId,\r\n    });\r\n  }\r\n\r\n  addToImport(item) {\r\n    //console.log(item);\r\n    let song = {};\r\n    song[\"artistName\"] = item.artistName;\r\n    song[\"title\"] = item.title;\r\n    song[\"id\"] = Math.random();\r\n    this.state.toBeImportedPlaylist.push(song);\r\n    this.setState({\r\n      //just to trigger re-rendering -> new props to children\r\n      updated: true,\r\n    });\r\n  }\r\n  handleChange = (event) => {\r\n    this.setState({ filter: event.target.value });\r\n  };\r\n  render() {\r\n    const tracks = this.state.chosenListsTracks;\r\n    const { filter } = this.state;\r\n    const lowercasedFilter = filter.toLowerCase();\r\n    const filteredData = tracks.filter((item) => {\r\n      return Object.keys(item).some(\r\n        (key) =>\r\n          typeof item[key] === \"string\" &&\r\n          key !== \"id\" && //don't compare id\r\n          item[key].toLowerCase().includes(lowercasedFilter)\r\n      );\r\n    });\r\n    return (\r\n      <div>\r\n        <Modal\r\n          isOpen={this.props.isOpen}\r\n          toggle={this.props.toggle}\r\n          size=\"lg\"\r\n          style={{ maxWidth: \"1600px\", width: \"100%\", margin: \"10px auto\" }}\r\n        >\r\n          <ModalHeader className=\"mb-4\" toggle={this.props.toggle}>\r\n            <span>\r\n              Songs in the playlist <br />\r\n              <i>{this.state.name}</i>\r\n            </span>\r\n            <span className=\"inthemiddle\">Playlist importer</span>\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <span>\r\n              I recommend using webScraping for retrieving songs from YouTube.\r\n            </span>\r\n            {this.state.notFoundArray.length > 1 ? (\r\n              <div id=\"notFoundArray\">\r\n                <h3>\r\n                  Following songs were not found:\r\n                  <br />\r\n                  <br />\r\n                </h3>\r\n                {this.state.notFoundArray.map(({ title, artistName }) => (\r\n                  <span id=\"notFoundItem\" key={title}>\r\n                    <p>{title}</p> by <p>{artistName} </p>\r\n                    <br />\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {this.state.error ? (\r\n              <div>\r\n                <span id=\"errorImport\">\r\n                  Daily limit exdeeded. Try again tomorrow.\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {this.state.imported ? (\r\n              <span id=\"successImport\">Succesfully created the playlist!</span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {this.state.loading ? (\r\n              <div id=\"LoadingSpot\">\r\n                <h2 className=\"loadingTitle\">Importing songs</h2>\r\n                <div id=\"spinner\">\r\n                  <LoadingSpinner size={35} color={\"#17a2b8\"} />\r\n                </div>\r\n                <span className=\"importedNumbers\" id=\"creatingInfo\">\r\n                  {this.state.progressValue < 100\r\n                    ? \"Importing songs...\"\r\n                    : \"Creating playlist...\"}\r\n                </span>\r\n                <span className=\"importedNumbers\">\r\n                  {this.state.importCount} /{\" \"}\r\n                  {this.state.toBeImportedPlaylist.length} songs imported.\r\n                </span>\r\n                <span className=\"importedNumbers\" id=\"creatingInfo2\">\r\n                  {(this.state.progressValue > 99) &\r\n                  (this.state.toBeImportedPlaylist.length !==\r\n                    this.state.importCount)\r\n                    ? \"Unfortunately we were unable to import all of the songs\"\r\n                    : \"\"}\r\n                </span>\r\n                <div id=\"progressbar\">\r\n                  <Progress\r\n                    animated\r\n                    color=\"info\"\r\n                    value={this.state.progressValue}\r\n                  />\r\n                </div>\r\n                <span className=\"loadingInfo\">\r\n                  Fetching songs from YouTube and adding them to our database...\r\n                  This might take awhile.\r\n                </span>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <Row>\r\n              <Col xs=\"6\" sm=\"6\">\r\n                <div id=\"lists\">\r\n                  <ImportList\r\n                    importPlaylistToApp={this.importPlaylistToApp}\r\n                    removeFromPlaylist={this.removeFromPlaylist}\r\n                    toBeImportedPlaylist={this.state.toBeImportedPlaylist}\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col xs=\"6\" sm=\"6\">\r\n                <div id=\"lists\">\r\n                  <p>{filteredData.length} songs</p>\r\n                  <span className=\"float-right filterSpan\">\r\n                    By {this.props.ownerName}\r\n                  </span>\r\n                  <br />\r\n                  <Input\r\n                    value={filter}\r\n                    onChange={this.handleChange}\r\n                    placeholder=\"Filter songs based on artist, album or title...\"\r\n                  />\r\n                  <br />\r\n                  <LoadedList\r\n                    ownerName={this.state.ownerName}\r\n                    totalTracks={this.state.totalTracks}\r\n                    tracks={filteredData}\r\n                    addToImport={this.addToImport}\r\n                  />\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row id=\"lowerRow\">\r\n              <Col xs=\"4\" sm=\"4\">\r\n                <div className=\"placeforbutton\">\r\n                  <Button\r\n                    disabled={\r\n                      this.state.loading || !this.state.toBeImportedPlaylist[0]\r\n                        ? true\r\n                        : false\r\n                    }\r\n                    onClick={this.clearList}\r\n                  >\r\n                    Clear list\r\n                  </Button>\r\n                </div>\r\n              </Col>\r\n              <Col xs=\"4\" sm=\"4\">\r\n                <div className=\"placeforbutton\">\r\n                  <Button\r\n                    disabled={this.state.loading}\r\n                    onClick={this.moveAllToImport.bind(this, filteredData)}\r\n                  >\r\n                    Get all songs\r\n                  </Button>\r\n                </div>\r\n              </Col>\r\n              <Col xs=\"4\" sm=\"4\">\r\n                <div className=\"placeforbutton\">\r\n                  <Button\r\n                    disabled={\r\n                      this.state.loading || !this.state.toBeImportedPlaylist[0]\r\n                        ? true\r\n                        : false\r\n                    }\r\n                    onClick={this.webScrape}\r\n                  >\r\n                    Import songs\r\n                  </Button>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <Button onClick={this.toggle} className=\"btn btn-primary\">\r\n            Cancel\r\n          </Button>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlaylistModal;\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardText, Row, Col } from \"reactstrap\";\r\n\r\nimport \"moment-duration-format\";\r\nimport PlaylistModal from \"./Playlistmodal/PlaylistModal\";\r\n\r\nimport {\r\n  getPlaylistTracks,\r\n  getRequestWithToken,\r\n} from \"../../functions/functions\";\r\nclass PlaylistItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false,\r\n      description: this.props.description,\r\n      imageUrl: this.props.imageUrl,\r\n      name: this.props.name,\r\n      id: this.props.id,\r\n      key: this.props.id,\r\n      trackRef: this.props.trackRef,\r\n      totalTracks: this.props.totalTracks,\r\n      ownerName: this.props.ownerName,\r\n      token: this.props.token,\r\n      chosenListsTracks: [],\r\n      loading: false,\r\n    };\r\n    this.toggle = this.toggle.bind(this);\r\n    this.clickOnPlayList = this.clickOnPlayList.bind(this);\r\n  }\r\n  async clickOnPlayList() {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    let token = this.state.token;\r\n    let data = await getPlaylistTracks(this.state.id, token);\r\n    //console.log(data);\r\n    let dataArray = [];\r\n    let nextData = null;\r\n    dataArray = data.items;\r\n\r\n    while (data.next !== null && typeof data.next !== \"undefined\") {\r\n      nextData = await getRequestWithToken(token, data.next);\r\n      // console.log(nextData);\r\n      dataArray = dataArray.concat(nextData.items);\r\n      if (nextData.next === null) {\r\n        break;\r\n      }\r\n      data.next = nextData.next;\r\n    }\r\n    let nameArray = [];\r\n    let tempArtistArray = [];\r\n    let itemArray = [];\r\n    let idArray = [];\r\n    let albumArray = [];\r\n    let createdAtArray = [];\r\n\r\n    dataArray = dataArray.filter((item) => item.track !== null); //filter out those which are null (for some reason)\r\n    dataArray.forEach((item) => nameArray.push(item.track.name));\r\n    dataArray.forEach((item) => tempArtistArray.push(item.track.artists));\r\n    dataArray.forEach((item) => idArray.push(item.track.id));\r\n    dataArray.forEach((item) => albumArray.push(item.track.album.name));\r\n    dataArray.forEach((item) => createdAtArray.push(item.added_at));\r\n    //TODO: use map to do this better\r\n    //console.log(dataArray);\r\n    for (let i = 0; i < tempArtistArray.length; i++) {\r\n      //take only max two artist names\r\n      let itemObject = {};\r\n      itemObject[\"artistName\"] = tempArtistArray[i][0].name;\r\n      if (typeof tempArtistArray[i][1] !== \"undefined\") {\r\n        itemObject[\"artistName\"] = itemObject[\"artistName\"].concat(\r\n          \" & \" + tempArtistArray[i][1].name\r\n        );\r\n      }\r\n      itemObject[\"title\"] = nameArray[i];\r\n      itemObject[\"id\"] = idArray[i];\r\n      itemObject[\"album\"] = albumArray[i];\r\n      itemObject[\"createdAt\"] = createdAtArray[i];\r\n      itemArray.push(itemObject);\r\n      //console.log(artistObject);\r\n    }\r\n\r\n    this.setState({\r\n      loading: false,\r\n      chosenListsTracks: itemArray,\r\n    });\r\n    this.toggleList(itemArray);\r\n  }\r\n  toggleList = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  };\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  };\r\n  render() {\r\n    //console.log(this.state.name);\r\n    return (\r\n      <div>\r\n        {/*         <div>\r\n          {this.state.loading ? (\r\n            <div id=\"playlistSpinner\">\r\n              <LoadingSpinner size={30} color=\"#007d9ef5\" />\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>*/}\r\n        <div\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={this.clickOnPlayList.bind(this, this.state)}\r\n        >\r\n          <Card className=\"card\" id={this.state.loading ? \"loadingCard\" : null}>\r\n            <CardBody>\r\n              <Row>\r\n                <Col xs=\"1\" sm=\"1\"></Col>\r\n                <Col xs=\"8\" sm=\"8\">\r\n                  <CardText>{this.props.name}</CardText>\r\n                </Col>\r\n\r\n                <Col xs=\"3\" sm=\"3\">\r\n                  <small>\r\n                    {\" \"}\r\n                    {this.state.loading\r\n                      ? \"Loading...\"\r\n                      : this.props.totalTracks + \" songs\"}{\" \"}\r\n                  </small>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col xs=\"6\" sm=\"6\">\r\n                  <small className=\"float-left\">\r\n                    By {this.props.ownerName}\r\n                  </small>\r\n                </Col>\r\n              </Row>\r\n            </CardBody>\r\n          </Card>\r\n        </div>\r\n        <PlaylistModal\r\n          isOpen={this.state.modal}\r\n          toggle={this.toggle}\r\n          description={this.state.description}\r\n          imageUrl={this.state.imageUrl}\r\n          name={this.state.name}\r\n          id={this.state.id}\r\n          key={this.state.id}\r\n          trackRef={this.state.trackRef}\r\n          totalTracks={this.state.totalTracks}\r\n          ownerName={this.state.ownerName}\r\n          chosenListsTracks={this.state.chosenListsTracks}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//actions we want to use as second paranthesis\r\nexport default PlaylistItem;\r\n","import React, { Component } from \"react\";\r\nimport SpotifyItem from \"./spotifPlaylistitem\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport LoadingSpinner from \"../../spinner/spinner\";\r\nimport { Input } from \"reactstrap\";\r\nimport \"./spotifyPlaylist.css\";\r\nclass SpotifyPlaylist extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: this.props.loading,\r\n      userPlaylists: [],\r\n      sortedPlaylists: [],\r\n      filteredData: [],\r\n      filter: \"\",\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        loading: this.props.loading,\r\n        userPlaylists: this.props.Userplaylists,\r\n        filteredData: this.props.Userplaylists,\r\n        sortedPlaylists: this.props.Userplaylists,\r\n      });\r\n    }\r\n  }\r\n  onSortChange = (e) => {\r\n    let filter = e.target.value;\r\n    const playlists = [...this.state.userPlaylists];\r\n    //shallow copy so we won't change props when sorting..........\r\n\r\n    let sorted;\r\n    switch (filter) {\r\n      case \"Latest\":\r\n        sorted = playlists;\r\n        break;\r\n      case \"Last\":\r\n        sorted = playlists.sort((a, b) => (a < b ? 1 : -1));\r\n        break;\r\n      case \"By name\":\r\n        sorted = playlists.sort((a, b) => (a.name > b.name ? 1 : -1));\r\n        break;\r\n      case \"By owner\":\r\n        sorted = playlists.sort((a, b) => (a.ownerName > b.ownerName ? 1 : -1));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.setState({\r\n      sortedPlaylists: sorted,\r\n    });\r\n  };\r\n  handleChange = (event) => {\r\n    const playlists = this.state.userPlaylists;\r\n    const filter = event.target.value;\r\n    const lowercasedFilter = filter.toLowerCase();\r\n    const filteredData = playlists.filter((item) => {\r\n      if (item === null || typeof item === \"undefined\") return playlists; //problems\r\n      return Object.keys(item).some(\r\n        (key) =>\r\n          typeof item[key] === \"string\" &&\r\n          key !== \"imageUrl\" &&\r\n          key !== \"description\" &&\r\n          key !== \"trackRef\" && //TODO: make it so only it can be filtered only by name or owner?\r\n          //only filter based on name\r\n          item[key].toLowerCase().includes(lowercasedFilter)\r\n      );\r\n    });\r\n\r\n    this.setState({ filter: event.target.value, filteredData: filteredData });\r\n  };\r\n  render() {\r\n    const { filteredData, filter, sortedPlaylists } = this.state;\r\n    //console.log(filteredData);\r\n    let finalSorted = sortedPlaylists.filter(\r\n      (item) => -1 !== filteredData.indexOf(item)\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <p>\r\n          Click on a playlist to see what songs there are, and to choose which\r\n          songs will be imported.\r\n        </p>\r\n        <div className=\"inputDiv\">\r\n          <Input\r\n            id=\"filterId\"\r\n            value={filter}\r\n            onChange={this.handleChange}\r\n            placeholder=\"Filter playlists...\"\r\n          />\r\n          <Input\r\n            onChange={this.onSortChange}\r\n            type=\"select\"\r\n            name=\"select\"\r\n            id=\"exampleSelect\"\r\n          >\r\n            <option key={\"Latest\"} value={\"Latest\"}>\r\n              Latest\r\n            </option>\r\n            <option key={\"Last\"} value={\"Last\"}>\r\n              Last\r\n            </option>\r\n            <option key={\"By name\"} value={\"By name\"}>\r\n              By name\r\n            </option>\r\n            <option key={\"By owner\"} value={\"By owner\"}>\r\n              By owner\r\n            </option>\r\n          </Input>\r\n        </div>\r\n        <div id={finalSorted.length > 0 ? \"spotifyPlaylist\" : \"template\"}>\r\n          {this.state.loading ? (\r\n            <div className=\"loadingPlace2\">\r\n              <LoadingSpinner color=\"#545454\" />\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {finalSorted.map(\r\n                ({\r\n                  id,\r\n                  name,\r\n                  description,\r\n                  imageUrl,\r\n                  trackRef,\r\n                  totalTracks,\r\n                  ownerName,\r\n                }) => (\r\n                  <SpotifyItem\r\n                    description={description}\r\n                    imageUrl={imageUrl}\r\n                    name={name}\r\n                    id={id}\r\n                    key={id}\r\n                    trackRef={trackRef}\r\n                    totalTracks={totalTracks}\r\n                    ownerName={ownerName}\r\n                    token={this.props.token}\r\n                  />\r\n                )\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default SpotifyPlaylist;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Button,\r\n  Row,\r\n  Input,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n} from \"reactstrap\";\r\n\r\nimport { searchSpotifyPlaylists } from \"../../functions/functions\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport SpotifyItem from \"../spotifyplaylist/spotifPlaylistitem\";\r\n\r\nimport LoadingSpinner from \"../../spinner/spinner\";\r\nimport \"./discovery.css\";\r\nclass DiscoveryModal extends Component {\r\n  state = {\r\n    modal: false,\r\n    name: \"\",\r\n    token: this.props.token,\r\n    search: \"\",\r\n    playlists: [],\r\n  };\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  submit = async (e) => {\r\n    e.preventDefault();\r\n    let res = await searchSpotifyPlaylists(this.state.search, this.state.token);\r\n\r\n    this.setState({\r\n      playlists: res.playlists.items,\r\n    });\r\n  };\r\n  onChangeSearch = (e) => {\r\n    this.setState({\r\n      search: e.target.value,\r\n    });\r\n  };\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        token: this.props.token,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal\r\n          id=\"discovery\"\r\n          isOpen={this.props.isOpen}\r\n          toggle={this.props.toggle}\r\n          size=\"lg\"\r\n          style={{ maxWidth: \"1600px\", width: \"100%\", margin: \"10px auto\" }}\r\n        >\r\n          <ModalHeader className=\"mb-4\" toggle={this.props.toggle}>\r\n            <span className=\"inthemiddle\">The discover</span>\r\n          </ModalHeader>\r\n          <Row>\r\n            <div className=\"inputDiv2\">\r\n              <form onSubmit={this.submit}>\r\n                <InputGroup>\r\n                  <InputGroupAddon addonType=\"prepend\"></InputGroupAddon>\r\n                  <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Search for playlists...\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.search}\r\n                    onChange={this.onChangeSearch}\r\n                  />\r\n                  <InputGroupAddon addonType=\"append\">\r\n                    <Button color=\"secondary\">Search</Button>\r\n                  </InputGroupAddon>\r\n                </InputGroup>\r\n              </form>\r\n            </div>\r\n          </Row>\r\n          <Row>\r\n            <div\r\n              id={\r\n                this.state.playlists.length > 0\r\n                  ? \"spotifyPlaylist2\"\r\n                  : \"template\"\r\n              }\r\n            >\r\n              {this.state.loading ? (\r\n                <div className=\"loadingPlace2\">\r\n                  <LoadingSpinner color=\"#545454\" />\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  {this.state.playlists.map(\r\n                    ({\r\n                      id,\r\n                      name,\r\n                      description,\r\n                      imageUrl,\r\n                      trackRef,\r\n                      totalTracks,\r\n                      ownerName,\r\n                    }) => (\r\n                      <SpotifyItem\r\n                        description={description}\r\n                        imageUrl={imageUrl}\r\n                        name={name}\r\n                        id={id}\r\n                        key={id}\r\n                        trackRef={trackRef}\r\n                        totalTracks={totalTracks}\r\n                        ownerName={ownerName}\r\n                        token={this.props.token}\r\n                      />\r\n                    )\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Row>\r\n\r\n          <ModalBody>\r\n            <div>asdasd asdasdasd</div>\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DiscoveryModal;\r\n","import React, { Component } from \"react\";\r\nimport { Row, Col, Button } from \"reactstrap\";\r\nimport SpotifyPlaylist from \"./spotifyplaylist/spotifyPlaylist\";\r\nimport {\r\n  getSpotifyUserId,\r\n  getSpotifyUsersPlaylists,\r\n  getRequestWithToken,\r\n} from \"../functions/functions\";\r\nimport DiscoveryModal from \"./discover/spotifySearchModal\";\r\nexport default class Spotify extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: false,\r\n      token: null,\r\n      userPlaylists: [],\r\n      display_name: \"\",\r\n      user_id: \"\",\r\n      nextPlaylists: null,\r\n      loading: false,\r\n      chosenPlaylist: [], //chosen playlist\r\n      isOpen: false,\r\n    };\r\n    this.getUserId = this.getUserId.bind(this);\r\n    this.getPlayListData = this.getPlayListData.bind(this);\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  async getUserId(token) {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    let data = await getSpotifyUserId(token);\r\n    setTimeout(\r\n      function () {\r\n        this.getPlayListData(token);\r\n      }.bind(this),\r\n      2000\r\n    );\r\n    //console.log(data.data);\r\n    this.setState({\r\n      display_name: data.data.display_name,\r\n      user_id: data.data.id,\r\n    });\r\n  }\r\n  async getPlayListData(token) {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    let data = await getSpotifyUsersPlaylists(token);\r\n\r\n    let dataArray = [];\r\n    let nextData = null;\r\n    dataArray = data.items;\r\n\r\n    while (typeof data.next !== \"undefined\" && data.next !== null) {\r\n      nextData = await getRequestWithToken(token, data.next);\r\n      //console.log(nextData);\r\n      dataArray = dataArray.concat(nextData.items);\r\n\r\n      if (nextData.next === null) {\r\n        break;\r\n      }\r\n      data.next = nextData.next;\r\n    }\r\n    //editing data array\r\n    let imageArray = [];\r\n    let trackRefArray = [];\r\n    let ownerArray = [];\r\n    let trackTotalArray = [];\r\n    //console.log(dataArray);\r\n    let userPlaylists = [];\r\n    dataArray.forEach((item) =>\r\n      item.images[0]\r\n        ? imageArray.push(item.images[0].url)\r\n        : imageArray.push(null)\r\n    );\r\n    dataArray.forEach((item) => trackRefArray.push(item.tracks.href));\r\n    dataArray.forEach((item) => trackTotalArray.push(item.tracks.total));\r\n    dataArray.forEach((item) => ownerArray.push(item.owner.display_name));\r\n\r\n    for (let i = 0; i < dataArray.length; i++) {\r\n      let dataObject = {};\r\n      dataObject[\"id\"] = dataArray[i].id;\r\n      dataObject[\"name\"] = dataArray[i].name;\r\n      dataObject[\"description\"] = dataArray[i].description;\r\n      dataObject[\"imageUrl\"] = imageArray[i];\r\n      dataObject[\"trackRef\"] = trackRefArray[i];\r\n      dataObject[\"ownerName\"] = ownerArray[i];\r\n      dataObject[\"totalTracks\"] = trackTotalArray[i];\r\n      userPlaylists.push(dataObject);\r\n    }\r\n\r\n    this.setState({\r\n      loading: false,\r\n      userPlaylists,\r\n    });\r\n  }\r\n  toggle() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen,\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    let url = window.location.href;\r\n    url = url.split(\"_token=\")[1]; //extract token from the url\r\n    if (typeof url !== \"undefined\") {\r\n      url = url.split(\"&token\")[0];\r\n      this.setState({\r\n        token: url,\r\n        auth: true,\r\n      });\r\n      this.getUserId(url);\r\n      //playlist haku->\r\n    } else {\r\n      this.setState({\r\n        token: null,\r\n        auth: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    //console.log(this.state);\r\n\r\n    return (\r\n      <div className=\"homepage-div\">\r\n        <br />\r\n        <h3>Import your spotify playlists into the app!</h3>\r\n        <div className=\"container-fluid\">\r\n          <Row>\r\n            <Col sm=\"4\" className=\"spotifypage1\">\r\n              {this.state.auth ? (\r\n                <span>\r\n                  Hello, you are logged in as <br />\r\n                  {this.state.display_name} !+\r\n                </span>\r\n              ) : (\r\n                \"Please login to use the playlist importer!\"\r\n              )}\r\n            </Col>\r\n            {/*https://tubemusicapp.herokuapp.com/spotify */}\r\n            <Col sm=\"4\" className=\"spotifypage2\">\r\n              {/*https://accounts.spotify.com/authorize?client_id=dc20085012814f3d8cab4b36a4144393&response_type=token&redirect_uri=http:%2F%2Flocalhost:3000%2Fspotify&show_dialog=true&scope=playlist-read-private%20playlist-read-collaborative%20user-follow-read */}\r\n              <Button\r\n                href={\r\n                  \"https://accounts.spotify.com/fi/authorize?client_id=dc20085012814f3d8cab4b36a4144393&response_type=token&redirect_uri=https:%2F%2Ftubemusicapp.herokuapp.com%2Fspotify&show_dialog=true&scope=playlist-read-private%20playlist-read-collaborative%20user-follow-read\"\r\n                }\r\n              >\r\n                {this.state.auth ? \"Change account.\" : \"Log in.\"}\r\n              </Button>\r\n              <br />\r\n              <br />\r\n              {this.state.auth ? (\r\n                <Button className=\"discover-button\" onClick={this.toggle}>\r\n                  {\" \"}\r\n                  Discover\r\n                </Button>\r\n              ) : null}\r\n            </Col>\r\n            <Col sm=\"4\" className=\"spotifypage3\">\r\n              {this.state.auth ? (\r\n                <SpotifyPlaylist\r\n                  Userplaylists={this.state.userPlaylists}\r\n                  loading={this.state.loading}\r\n                  token={this.state.token}\r\n                />\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </Col>\r\n            <DiscoveryModal\r\n              token={this.state.token}\r\n              isOpen={this.state.isOpen}\r\n              toggle={this.toggle}\r\n            />\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { authenticationService } from \"./authenthication\";\r\n\r\nvar jwtDecode = require(\"jwt-decode\");\r\n\r\nexport const PrivateRoute = ({ component: Component, roles, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) => {\r\n      const currentUser = authenticationService.currentUserValue;\r\n\r\n      if (!currentUser) {\r\n        // not logged in so redirect to login page with the return url\r\n        return (\r\n          <Redirect\r\n            to={{ pathname: \"/login\", state: { from: props.location } }}\r\n          />\r\n        );\r\n      }\r\n\r\n      if (jwtDecode(currentUser.token).exp < Date.now() / 1000) {\r\n        return (\r\n          <Redirect\r\n            to={{ pathname: \"/login\", state: { from: props.location } }}\r\n          />\r\n        );\r\n      }\r\n      if (roles && roles.indexOf(currentUser.user.role) === -1) {\r\n        // check if route is restricted by role\r\n        // role not authorised so redirect to home page\r\n        return <Redirect to={{ pathname: \"/\" }} />;\r\n      }\r\n      // authorised so return component\r\n      return (\r\n        <Component\r\n          {...props}\r\n          data={rest.data}\r\n          darkMode={rest.darkMode}\r\n          loadUser={rest.loadUser}\r\n        />\r\n      );\r\n    }}\r\n  />\r\n);\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardText, Row, Col, Button } from \"reactstrap\";\r\nimport Moment from \"react-moment\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport \"moment-duration-format\";\r\n\r\nimport { addUserPlaylist, deleteUserPlaylist } from \"../functions/functions\";\r\nimport { authenticationService } from \"../functions/authenthication\";\r\nclass PlayListItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentUserInfo: this.props.currentUserInfo,\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        currentUserInfo: this.props.currentUserInfo,\r\n      });\r\n    }\r\n  }\r\n  clickOnPlayList() {\r\n    this.props.getPlayListById(this.props.id);\r\n  }\r\n  async load(token) {\r\n    const Array2 = [];\r\n    let response = await authenticationService.loadUser(token);\r\n    if (response !== null) {\r\n      response.playlists.forEach((element) => {\r\n        Array2.push(element._id);\r\n      });\r\n      this.setState({\r\n        currentUserInfo: Array2,\r\n      });\r\n    }\r\n  }\r\n\r\n  async subscribe() {\r\n    await addUserPlaylist(\r\n      this.props.id,\r\n      this.props.name,\r\n      this.props.private,\r\n      this.props.owner,\r\n      this.props.createdAt,\r\n      this.props.token\r\n    );\r\n    this.load(this.props.token);\r\n    //props has token,createdAt,id,owner,private\r\n    //adds this playlist ID and NAME to current users (token)\r\n    //playlists.\r\n    //he cannot change name but he can delete & add items & change order\r\n  }\r\n  async unsubscribe() {\r\n    await deleteUserPlaylist(this.props.id);\r\n    this.load(this.props.token);\r\n  }\r\n  render() {\r\n    const playlists = this.state.currentUserInfo || \"\";\r\n    const id = this.props.id;\r\n    //console.log(this.props);\r\n    //console.log(this.state);\r\n    return (\r\n      <div>\r\n        <Card className=\"card2\">\r\n          <CardBody>\r\n            <Row>\r\n              <Col xs=\"2\" sm=\"2\">\r\n                {playlists.includes(id) ? (\r\n                  <div>\r\n                    <Button\r\n                      disabled={this.props.private}\r\n                      href=\"# \"\r\n                      color=\"secondary\"\r\n                      style={{ cursor: \"pointer\" }}\r\n                      onClick={this.unsubscribe.bind(this, this.state)}\r\n                    >\r\n                      <CardText>Unsubscribe</CardText>{\" \"}\r\n                    </Button>\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <Button\r\n                      disabled={this.props.private}\r\n                      href=\"# \"\r\n                      color=\"secondary\"\r\n                      style={{ cursor: \"pointer\" }}\r\n                      onClick={this.subscribe.bind(this, this.state)}\r\n                    >\r\n                      <CardText>Subscribe</CardText>{\" \"}\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </Col>\r\n              <Col xs=\"4\" sm=\"4\">\r\n                <Button\r\n                  href=\"# \"\r\n                  color=\"secondary\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={this.clickOnPlayList.bind(this, this.state)}\r\n                >\r\n                  <CardText>{this.props.name}</CardText>\r\n                </Button>\r\n              </Col>\r\n\r\n              <Col xs=\"4\" sm=\"4\">\r\n                <small className=\"text-muted\">\r\n                  Created at:{\" \"}\r\n                  <Moment format=\"DD-MM-YYYY HH:mm\">\r\n                    {this.props.createdAt}\r\n                  </Moment>\r\n                </small>\r\n              </Col>\r\n              <Col xs=\"2\" sm=\"2\">\r\n                By {this.props.owner}\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//actions we want to use as second paranthesis\r\nexport default PlayListItem;\r\n","import React from \"react\";\r\nimport RotateLoader from \"react-spinners/RotateLoader\";\r\nimport \"./spinner.css\";\r\n//https://www.davidhu.io/react-spinners/\r\nexport default class LoadingSpinner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true,\r\n      size: this.props.size || 150\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"sweet-loading\" id=\"spinner2\">\r\n        <br />\r\n        <RotateLoader\r\n          size={15}\r\n          //size={\"150px\"} this also works\r\n          color={this.props.color || \"#c45a8e\"}\r\n          loading={this.state.loading}\r\n          margin={2}\r\n        />\r\n        <br />\r\n        <br />\r\n        <i className=\"loadingText\">Loading...</i>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport { List, AutoSizer } from \"react-virtualized\";\r\nimport PlayListItem from \"./playListItem\";\r\nimport \"react-virtualized/styles.css\";\r\nimport { authenticationService } from \"../functions/authenthication\";\r\nimport Spinner from \"../spinner/spinner3\";\r\n\r\nclass PlaylistsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: this.props.playlists,\r\n      token: this.props.token,\r\n      userData: this.props.userData,\r\n      loading: this.props.loading || true,\r\n    };\r\n    this.load = this.load.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.load(this.state.token);\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n\r\n      if (this.list) {\r\n        this.list.forceUpdateGrid();\r\n      }\r\n      this.setState({\r\n        playlists: this.props.playlists,\r\n        token: this.props.token,\r\n        Userplaylists: this.props.Userplaylists,\r\n        userData: this.props.userData,\r\n        loading: this.props.loading,\r\n      });\r\n    }\r\n  }\r\n  async load(token) {\r\n    const Array2 = [];\r\n    let response = await authenticationService.loadUser(token);\r\n    if (response !== null) {\r\n      response.playlists.forEach((element) => {\r\n        Array2.push(element._id);\r\n      });\r\n    }\r\n  }\r\n  renderRow = ({ index, style }) => {\r\n    const playlists = this.props.playlists;\r\n    const { name, _id, createdAt, owner } = playlists[index];\r\n    const priv = playlists[index].private;\r\n    //const { value } = items[index];\r\n    return (\r\n      <div key={_id} style={style}>\r\n        <PlayListItem\r\n          currentUserInfo={this.state.currentUserInfo}\r\n          loadPlaylists={this.props.loadPlaylists}\r\n          getPlayListById={this.props.getPlayListById}\r\n          token={this.props.token}\r\n          createdAt={createdAt}\r\n          id={_id}\r\n          name={name}\r\n          owner={owner}\r\n          private={priv}\r\n        ></PlayListItem>\r\n      </div>\r\n    );\r\n  };\r\n  bindListRef = (ref) => {\r\n    //so we can force update, when props change cos thats how react-virtualized list works\r\n    this.list = ref;\r\n  };\r\n  render() {\r\n    //console.log(this.state);\r\n    const { playlists } = this.state;\r\n    //console.log(filteredData);\r\n    return (\r\n      <div>\r\n        <br />\r\n        <div id=\"spinnerDiv2\">\r\n          {this.state.loading ? <Spinner size={50} color=\"white\" /> : null}\r\n        </div>\r\n        <AutoSizer>\r\n          {({ width }) => (\r\n            <List\r\n              ref={this.bindListRef}\r\n              width={width}\r\n              height={700}\r\n              rowCount={playlists.length}\r\n              rowHeight={82}\r\n              rowRenderer={this.renderRow}\r\n            ></List>\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default PlaylistsList;\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardText, Button, Row, Col } from \"reactstrap\";\r\nimport \"moment-duration-format\";\r\n\r\nclass TrackItem extends Component {\r\n  state = {\r\n    artistName: this.props.artistName,\r\n    title: this.props.title,\r\n    imported: this.props.imported,\r\n    date: this.props.date,\r\n    duration: this.props.duration,\r\n  };\r\n\r\n  /*shouldComponentUpdate(nextProps, nextState) {\r\n    return false;\r\n  }*/\r\n  addToImport(props) {\r\n    //console.log(props);\r\n    this.props.addToImport(props);\r\n  }\r\n  removeFromPlaylist(props) {\r\n    this.props.removeFromPlaylist(props);\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Card className=\"card\">\r\n          <CardBody>\r\n            <Row>\r\n              <Col xs=\"2\" sm=\"2\">\r\n                {this.props.thumbnail && (\r\n                  <img\r\n                    height={60}\r\n                    src={this.props.thumbnail} // use normal <img> attributes as props\r\n                    width={60}\r\n                    style={{ position: \"absolute\" }}\r\n                    id=\"thumbnail44\"\r\n                    alt=\"foo\"\r\n                  />\r\n                )}\r\n              </Col>\r\n\r\n              <Col xs=\"8\" sm=\"8\">\r\n                <CardText>{this.state.title}</CardText>\r\n              </Col>\r\n              {/*tänne tavaraa mm. milloin lisätty? ovat nyt propeissa  */}\r\n              <Col xs=\"2\" sm=\"2\">\r\n                {this.state.imported ? (\r\n                  <Button\r\n                    onClick={this.removeFromPlaylist.bind(this, this.props)}\r\n                    className=\"btn btn-secondary\"\r\n                    color=\"secondary\"\r\n                  >\r\n                    x\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    onClick={this.addToImport.bind(this, this.props)}\r\n                    className=\"btn btn-secondary\"\r\n                    color=\"secondary\"\r\n                  >\r\n                    +\r\n                  </Button>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"10\" sm=\"10\">\r\n                <span className=\"float-right\">{this.state.duration}</span>\r\n              </Col>\r\n              <Col xs=\"2\" sm=\"2\"></Col>\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//actions we want to use as second paranthesis\r\nexport default TrackItem;\r\n","//näissä chekkaa onko muttunu tms.\r\nimport React, { Component } from \"react\";\r\nimport PlaylistModalItem from \"./trackItem\";\r\n\r\nimport { List, AutoSizer } from \"react-virtualized\";\r\n\r\nclass LoadedList extends Component {\r\n  renderRow = ({ index, key, isScrolling, isVisible, style }) => {\r\n    const tracks = this.props.tracks;\r\n    const {\r\n      title,\r\n      artistName,\r\n      id,\r\n      duration,\r\n      date,\r\n      videoId,\r\n      artists,\r\n      thumbnails,\r\n      thumbnail,\r\n      album,\r\n    } = tracks[index];\r\n    //const { value } = items[index];\r\n    return (\r\n      <div key={Math.random()} style={style}>\r\n        <PlaylistModalItem\r\n          id={Math.random()} //random to ensure unique id as there can be duplicates of each track\r\n          key={id}\r\n          artistName={artistName}\r\n          addToImport={this.props.addToImport}\r\n          imported={false}\r\n          title={title}\r\n          duration={duration}\r\n          date={date}\r\n          videoId={videoId}\r\n          artists={artists}\r\n          thumbnails={thumbnails}\r\n          thumbnail={thumbnail}\r\n          album={album}\r\n        ></PlaylistModalItem>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    //console.log(\"loadedList\");\r\n    //const tracks = this.props.tracks;\r\n    //console.log(tracks);\r\n    //console.log(this.state.loading);\r\n\r\n    return (\r\n      <div>\r\n        <AutoSizer>\r\n          {({ width }) => (\r\n            <List\r\n              width={width}\r\n              height={550}\r\n              rowCount={this.props.tracks.length}\r\n              rowHeight={80}\r\n              rowRenderer={this.renderRow}\r\n            ></List>\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default LoadedList;\r\n","import React, { Component } from \"react\";\r\nimport PlaylistModalItem from \"./trackItem\";\r\nimport { List, AutoSizer } from \"react-virtualized\";\r\nimport isEqual from \"react-fast-compare\";\r\n\r\nclass ImportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      toBeImportedPlaylist: this.props.toBeImportedPlaylist,\r\n      updated: \"\",\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        toBeImportedPlaylist: this.props.toBeImportedPlaylist,\r\n      });\r\n    }\r\n  }\r\n  renderRow = ({ index, key, isScrolling, isVisible, style }) => {\r\n    const toBeImportedPlaylist = this.props.toBeImportedPlaylist;\r\n    const {\r\n      title,\r\n      artistName,\r\n      id,\r\n      duration,\r\n      date,\r\n      videoId,\r\n      artists,\r\n      thumbnails,\r\n      thumbnail,\r\n      album,\r\n    } = toBeImportedPlaylist[index];\r\n    //const { value } = items[index];\r\n    //tänne samalla lailla noi durationit datet jne kuten loadedListissä\r\n    return (\r\n      <div key={id} style={style}>\r\n        <PlaylistModalItem\r\n          key={id}\r\n          id={id}\r\n          artistName={artistName}\r\n          importPlaylistToApp={this.props.importPlaylistToApp}\r\n          removeFromPlaylist={this.props.removeFromPlaylist}\r\n          imported={true}\r\n          title={title}\r\n          duration={duration}\r\n          date={date}\r\n          videoId={videoId}\r\n          artists={artists}\r\n          thumbnails={thumbnails}\r\n          thumbnail={thumbnail}\r\n          album={album}\r\n        ></PlaylistModalItem>\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    //console.log(\"Importlist\");\r\n    //const toBeImportedPlaylist = this.state.toBeImportedPlaylist;\r\n    //console.log(this.state.toBeImportedPlaylist);\r\n    return (\r\n      <div>\r\n        <AutoSizer>\r\n          {({ width }) => (\r\n            <List\r\n              width={width}\r\n              height={550}\r\n              rowCount={this.props.toBeImportedPlaylist.length}\r\n              rowHeight={82}\r\n              rowRenderer={this.renderRow}\r\n            ></List>\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ImportList;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n} from \"reactstrap\";\r\nimport GenresOptions from \"../../../functions/genres\";\r\n\r\nclass CreateNew extends Component {\r\n  state = {\r\n    modal: false,\r\n    name: \"\",\r\n    checked: false,\r\n    select: \"Random\",\r\n  };\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  };\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.makePlaylist(\r\n      this.state.name,\r\n      this.state.checked,\r\n      this.state.select,\r\n      this.props.owner\r\n    ); //if true, we have a private playlist\r\n    this.toggle();\r\n  };\r\n  boxChange = (evt) => {\r\n    this.setState({ checked: evt.target.checked });\r\n  };\r\n  render() {\r\n    //console.log(this.state.checked);\r\n    return (\r\n      <div>\r\n        <Button\r\n          disabled={this.props.disabled}\r\n          className=\"float-left btn-margin btn-secondary btn button\"\r\n          onClick={this.toggle}\r\n          href=\"#\"\r\n          color=\"secondary\"\r\n        >\r\n          Add playlist to your collections.\r\n        </Button>\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\r\n          <ModalHeader className=\"mb-4\" toggle={this.toggle}>\r\n            Create a new playlist here :)\r\n            <br />\r\n            <br />\r\n          </ModalHeader>\r\n\r\n          <Form onSubmit={this.onSubmit}>\r\n            <ModalBody>\r\n              <FormGroup>\r\n                <Label for=\"name\">Name for the playlist:</Label>\r\n                <Input\r\n                  type=\"name\"\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  placeholder=\"epic-partylist\"\r\n                  className=\"mb-4\"\r\n                  onChange={this.onChange}\r\n                  required={true}\r\n                ></Input>\r\n\r\n                <Label className=\"\">Genres</Label>\r\n                {GenresOptions(this.onChange)}\r\n                <br />\r\n                <div className=\"check\">\r\n                  <Label check className=\"float-right \">\r\n                    <Input\r\n                      name=\"checked\"\r\n                      onChange={this.boxChange}\r\n                      checked={this.state.checked}\r\n                      type=\"checkbox\"\r\n                    />\r\n                    Make the playlist private?\r\n                  </Label>\r\n                </div>\r\n\r\n                <br />\r\n                <Button className=\"btn btn-primary my-4 btn-block\">Save</Button>\r\n              </FormGroup>\r\n            </ModalBody>\r\n          </Form>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateNew;\r\n","//TODO:\r\n//itemit tietenkin:\r\n// näihin itemeihi tulee owner, private ? eli yhteissoittolista, DATE !! biisin aika, title :)\r\n//Ja pystyy tekemään copyn siu omalle accountille / subscribettämään yhteissoittolistaan (HUOM! Kaikki voivat\r\n//                                                                                        editoida näitä listoja)!\r\n//tälläne :)\r\n//eli react virtualized lista-lo -> itemit (ei voi muoakta itemeitä tässä, vaan copy koko höskä / sub)\r\n//Taaaaai vois tehä sellasen playlistmakerin, eli voit joko suoraan subata tossa playlists to choose from kohassa\r\n//sitte tässä olis kaks osane juttu, eka osa on siu tuleva playlist, oikealla puolella siu lataama playlista\r\n//eli voi rakentaa monesta jo olevasta playlistasta uusia playlistoja\r\n//filterit näihi molempiin!\r\n//game changing plan pog\r\n//tehdään samanlailla ku se spotifyModal\r\nimport React, { Component } from \"react\";\r\nimport { Button, Row, Col, Input } from \"reactstrap\";\r\nimport LoadedList from \"./components/loadedList\";\r\nimport ImportList from \"./components/importList\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport CreatePlayListModal from \"./components/createPlayListModal\";\r\nimport { makePlaylist, addUserPlaylist } from \"../../functions/functions\";\r\nimport toaster from \"toasted-notes\";\r\n//TODO: add option to \"create\" own songs just by entering title and artist. These songs\r\n//can be added  then to the importList which will be further on webscraped\r\nclass PlaylistModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      importFilter: \"\",\r\n      loadFilter: \"\",\r\n      tracks: this.props.tracks,\r\n      toBeImportedPlaylist: [],\r\n      modal: true,\r\n    };\r\n    this.addToImport = this.addToImport.bind(this);\r\n    this.removeFromPlaylist = this.removeFromPlaylist.bind(this);\r\n    this.addPlayListToColl = this.addPlayListToColl.bind(this);\r\n  }\r\n  removeFromPlaylist(item) {\r\n    if (!item) return;\r\n    if (typeof this.state.toBeImportedPlaylist[0] === \"undefined\") return;\r\n    // console.log(this.state.toBeImportedPlaylist[0]);\r\n    //console.log(item);\r\n    for (let i = 0; i < this.state.toBeImportedPlaylist.length; i++) {\r\n      if (this.state.toBeImportedPlaylist[i].id === item.id) {\r\n        //console.log(this.state.toBeImportedPlaylist[i]);\r\n        //delete item from toBeImportedPlaylist\r\n        this.state.toBeImportedPlaylist.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      updated: item.videoId,\r\n    });\r\n  }\r\n  addToImport(item) {\r\n    let song = Object.assign({}, item);\r\n    song[\"id\"] = Math.random();\r\n    this.state.toBeImportedPlaylist.push(song);\r\n    this.setState({\r\n      //just to trigger re-rendering -> new props to children\r\n      updated: true,\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        tracks: this.props.tracks,\r\n      });\r\n    }\r\n  }\r\n  handleChangeImport = (event) => {\r\n    this.setState({ importFilter: event.target.value });\r\n  };\r\n  handleChangeLoad = (event) => {\r\n    this.setState({ loadFilter: event.target.value });\r\n  };\r\n  clearList = () => {\r\n    this.setState({\r\n      toBeImportedPlaylist: [],\r\n    });\r\n  };\r\n  async addPlayListToColl(name, isPrivate, genre, owner) {\r\n    const playlist = this.state.toBeImportedPlaylist;\r\n    const item = JSON.stringify({\r\n      name,\r\n      playlist,\r\n      isPrivate,\r\n      owner: owner,\r\n      genre,\r\n    });\r\n    const result = await makePlaylist(item);\r\n    if (!result) {\r\n      toaster.notify(\r\n        <span>\r\n          An error making the playlist has occured. Please try again!\r\n        </span>,\r\n        {\r\n          duration: 2800,\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    addUserPlaylist(\r\n      result.data._id,\r\n      name,\r\n      isPrivate,\r\n      owner,\r\n      result.data.createdAt,\r\n      this.props.token\r\n    );\r\n    toaster.notify(<span>Playlist created!</span>, {\r\n      duration: 2800,\r\n    });\r\n    //this.props.token;\r\n    //makes new playlist, based on some name chosen by user.\r\n    //then adds the toBeImportedPlaylist to that.\r\n  }\r\n  getAllSongs = (LoadfilteredData) => {\r\n    LoadfilteredData.forEach((track) => this.addToImport(track));\r\n  };\r\n  render() {\r\n    const {\r\n      importFilter,\r\n      loadFilter,\r\n      toBeImportedPlaylist,\r\n      tracks,\r\n    } = this.state;\r\n\r\n    ///console.log(this.state.tracks);\r\n    const lowercasedFilterImport = importFilter.toLowerCase();\r\n    const importfilteredData = toBeImportedPlaylist.filter((item) => {\r\n      return Object.keys(item).some(\r\n        (key) =>\r\n          typeof item[key] === \"string\" &&\r\n          key !== \"id\" && //don't compare id\r\n          item[key].toLowerCase().includes(lowercasedFilterImport)\r\n      );\r\n    });\r\n\r\n    const lowercasedFilterLoad = loadFilter.toLowerCase();\r\n    const LoadfilteredData = tracks.filter((item) => {\r\n      return Object.keys(item).some(\r\n        (key) =>\r\n          typeof item[key] === \"string\" &&\r\n          key !== \"id\" && //don't compare id\r\n          item[key].toLowerCase().includes(lowercasedFilterLoad)\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"playlistEditor\">\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <Row>\r\n          <Col xs=\"6\" sm=\"6\">\r\n            <div id=\"lists\">\r\n              <Input\r\n                value={importFilter}\r\n                onChange={this.handleChangeImport}\r\n                placeholder=\"Filter songs based on title...\"\r\n              />\r\n              <span className=\"float-left\">\r\n                Songs: {importfilteredData.length}\r\n              </span>\r\n              <br />\r\n              <ImportList\r\n                removeFromPlaylist={this.removeFromPlaylist}\r\n                toBeImportedPlaylist={importfilteredData}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"6\" sm=\"6\">\r\n            <div id=\"lists\">\r\n              <Input\r\n                value={loadFilter}\r\n                onChange={this.handleChangeLoad}\r\n                placeholder=\"Filter songs based on title...\"\r\n              />\r\n              <span className=\"float-left\">\r\n                Songs: {LoadfilteredData.length}\r\n              </span>\r\n              <br />\r\n              <LoadedList\r\n                tracks={LoadfilteredData}\r\n                addToImport={this.addToImport}\r\n              />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row id=\"lowerRow\">\r\n          <Col xs=\"4\" sm=\"4\">\r\n            <div className=\"placeforbutton\">\r\n              <CreatePlayListModal\r\n                disabled={this.state.toBeImportedPlaylist.length ? false : true}\r\n                owner={this.props.data.name}\r\n                makePlaylist={this.addPlayListToColl}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"1\" sm=\"1\">\r\n            <div className=\"placeforbutton\">\r\n              <Button onClick={this.clearList.bind(this)}>Clear list</Button>\r\n            </div>\r\n          </Col>\r\n          <Col xs=\"2\" sm=\"2\">\r\n            <div className=\"placeforbutton\">\r\n              <Button onClick={this.getAllSongs.bind(this, LoadfilteredData)}>\r\n                Get all songs\r\n              </Button>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlaylistModal;\r\n","import React from \"react\";\r\nimport HashLoader from \"react-spinners/HashLoader\";\r\nimport \"./spinner.css\";\r\n//https://www.davidhu.io/react-spinners/\r\nexport default class LoadingSpinner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true,\r\n      size: this.props.size || 150\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"sweet-loading\" id=\"spinner2\">\r\n        <br />\r\n        <HashLoader\r\n          size={this.state.size}\r\n          //size={\"150px\"} this also works\r\n          color={this.props.color || \"#c45a8e\"}\r\n          loading={this.state.loading}\r\n        />\r\n        <br />\r\n        <br />\r\n        <i className=\"loadingText\">Loading...</i>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { getPlaylists, getPlayListById } from \"../functions/functions\";\r\nimport { authenticationService } from \"../functions/authenthication\";\r\nimport PlaylistsList from \"./playlistsList\";\r\n\r\nimport PlayListEditor from \"./playlistEditor/playlistEditor\";\r\n\r\nimport isEqual from \"react-fast-compare\";\r\nimport Spinner from \"../spinner/spinnerNo2\";\r\nimport { Row, Col, Input } from \"reactstrap\";\r\nimport GenresOptions from \"../functions/genres\";\r\nimport \"./styles.css\";\r\n\r\n//https://www.florin-pop.com/blog/2019/03/double-slider-sign-in-up-form/\r\nconst timeout = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\nexport default class PublicPlaylists extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: [],\r\n      token: \"\",\r\n      filter: \"\",\r\n      tracks: [],\r\n      loading: false,\r\n      filteredData: [],\r\n      genreFilteredData: [],\r\n      sortedPlaylists: [],\r\n      data: this.props.data,\r\n    };\r\n    this.loadPlaylists = this.loadPlaylists.bind(this);\r\n    this.getPlayListById = this.getPlayListById.bind(this);\r\n    // redirect to home if already logged in\r\n  }\r\n\r\n  async loadPlaylists() {\r\n    this.setState({\r\n      loadingPlaylists: true,\r\n    });\r\n    await timeout(300);\r\n    const res = await getPlaylists();\r\n    this.setState({\r\n      playlists: res.data.Playlist.reverse(),\r\n      filteredData: res.data.Playlist,\r\n      genreFilteredData: res.data.Playlist,\r\n      sortedPlaylists: res.data.Playlist,\r\n      loadingPlaylists: false,\r\n    });\r\n  }\r\n  async getPlayListById(id) {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    //tähä vois laittaa ihan pienen delayn.\r\n    await timeout(2500);\r\n    const result = await getPlayListById(id);\r\n    this.setState({\r\n      tracks: result.data.playlist,\r\n      loading: false,\r\n    });\r\n    //console.log(result);\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        user: this.props.data,\r\n      });\r\n      if (this.props.data) {\r\n        this.setState({\r\n          Userplaylists: this.props.data.playlists,\r\n          data: this.props.data,\r\n        });\r\n      }\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const currentUser = authenticationService.currentUserValue;\r\n    if (currentUser && currentUser.token) {\r\n      this.setState({\r\n        token: currentUser.token,\r\n        data: this.props.data,\r\n      });\r\n      this.loadPlaylists();\r\n    }\r\n    this.props.loadUser();\r\n  }\r\n  onSortChange = (e) => {\r\n    let filter = e.target.value;\r\n    const { playlists } = this.state;\r\n    switch (filter) {\r\n      case \"Latest\":\r\n        playlists.sort((a, b) => (b.createdAt > a.createdAt ? 1 : -1));\r\n        break;\r\n      case \"Last\":\r\n        playlists.sort((a, b) => (a.createdAt > b.createdAt ? 1 : -1));\r\n        break;\r\n      case \"By name\":\r\n        playlists.sort((a, b) => (a.name > b.name ? 1 : -1));\r\n        break;\r\n      case \"By owner\":\r\n        playlists.sort((a, b) => (a.owner > b.owner ? 1 : -1));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.setState({\r\n      sortedPlaylists: playlists,\r\n    });\r\n  };\r\n  onChange = (e) => {\r\n    //genre\r\n    let filter = e.target.value;\r\n\r\n    if (e.target.value === \"All\") filter = \"\";\r\n    this.setState({ genreFilter: filter });\r\n    const { playlists } = this.state;\r\n    const lowercasedFilter = filter.toLowerCase();\r\n    //console.log(playlist);\r\n    const filteredData = playlists.filter((item) => {\r\n      if (item === null || typeof item === \"undefined\") return playlists; //problems\r\n      return Object.keys(item).some(\r\n        (key) =>\r\n          typeof item[key] === \"string\" &&\r\n          key !== \"_id\" && //TODO: make it so only it can be filtered only by name or owner?\r\n          //only filter based on name\r\n          item[key].toLowerCase().includes(lowercasedFilter)\r\n      );\r\n    });\r\n    this.setState({\r\n      genreFilter: e.target.value,\r\n      genreFilteredData: filteredData,\r\n    });\r\n  };\r\n  handleChange = (event) => {\r\n    this.setState({ filter: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { token, filter } = this.state;\r\n    const { genreFilteredData, sortedPlaylists } = this.state;\r\n    const lowercasedFilter = filter.toLowerCase();\r\n\r\n    let finalSorted = sortedPlaylists.filter(\r\n      (item) => -1 !== genreFilteredData.indexOf(item)\r\n    );\r\n\r\n    const filteredData = finalSorted.filter((item) => {\r\n      if (item === null || typeof item === \"undefined\") return finalSorted; //problems\r\n      return Object.keys(item).some(\r\n        (key) =>\r\n          typeof item[key] === \"string\" &&\r\n          key !== \"_id\" &&\r\n          key !== \"createdAt\" &&\r\n          key !== \"updatedAt\" && //TODO: make it so only it can be filtered only by name or owner?\r\n          //only filter based on name\r\n          item[key].toLowerCase().includes(lowercasedFilter)\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid homepage-div\">\r\n        <div id=\"spinnerDiv\">\r\n          {this.state.loading ? <Spinner color=\"white\" /> : null}\r\n        </div>\r\n        <div id=\"spinnerDiv2\">\r\n          {this.state.playlistsLoading ? (\r\n            <Spinner size={50} color=\"white\" />\r\n          ) : null}\r\n        </div>\r\n        {/*tee uus spinneri sinne spinner kansioo , vähä elegantimpi ja tähä*/}\r\n        <br />\r\n        <div className=\"container-fluid\">\r\n          <Row>\r\n            <Col xs=\"4\" sm=\"4\" className=\"spotifypage1\">\r\n              Playlists to choose from :)!\r\n              <br />\r\n              You can subscribe to public playlists or just load a playlist by\r\n              clicking on the name and editing on the playlist-editor on the\r\n              right side.\r\n              <br />\r\n              <br />\r\n              <div className=\"inputDiv\">\r\n                <Input\r\n                  id=\"filterId\"\r\n                  value={filter}\r\n                  onChange={this.handleChange}\r\n                  placeholder=\"Filter playlists...\"\r\n                />\r\n                <Input\r\n                  onChange={this.onSortChange}\r\n                  type=\"select\"\r\n                  name=\"select\"\r\n                  id=\"exampleSelect\"\r\n                >\r\n                  <option key={\"Latest\"} value={\"Latest\"}>\r\n                    Latest\r\n                  </option>\r\n                  <option key={\"Last\"} value={\"Last\"}>\r\n                    Last\r\n                  </option>\r\n                  <option key={\"By name\"} value={\"By name\"}>\r\n                    By name\r\n                  </option>\r\n                  <option key={\"By owner\"} value={\"By owner\"}>\r\n                    By owner\r\n                  </option>\r\n                </Input>\r\n                {GenresOptions(this.onChange, true)}\r\n              </div>\r\n              <PlaylistsList\r\n                userData={this.state.Userplaylists}\r\n                loadPlaylists={this.loadPlaylists}\r\n                token={token}\r\n                playlists={filteredData}\r\n                getPlayListById={this.getPlayListById}\r\n                loading={this.state.loadingPlaylists}\r\n              />\r\n            </Col>\r\n            <Col xs=\"8\" sm=\"8\" className=\"spotifypage2\">\r\n              <div\r\n                className={\r\n                  this.state.tracks.length\r\n                    ? \"playListEditorActive\"\r\n                    : \"playListEditorNotActive\"\r\n                }\r\n              >\r\n                {this.state.tracks.length ? (\r\n                  <PlayListEditor\r\n                    data={this.props.data}\r\n                    loadPlaylists={this.loadPlaylists}\r\n                    token={token}\r\n                    playlists={filteredData}\r\n                    getPlayListById={this.getPlayListById}\r\n                    tracks={this.state.tracks}\r\n                  />\r\n                ) : null}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { createBrowserHistory } from \"history\";\r\n\r\nexport const history = createBrowserHistory();\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardTitle, Button } from \"reactstrap\";\r\n\r\nclass Link extends Component {\r\n  loadPlaylist(playlist) {\r\n    this.props.loadPlaylist(playlist._id);\r\n  }\r\n  deletePlaylist(playlist) {\r\n    this.props.deletePlaylist(playlist._id);\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Card className=\"card\">\r\n          <CardBody>\r\n            <span style={{ flexDirection: \"column\" }}>\r\n              <Button\r\n                className=\"btn btn-primary float-right btn-remove\"\r\n                color=\"danger\"\r\n                onClick={this.deletePlaylist.bind(this, this.props)}\r\n                disabled={true}\r\n              >\r\n                Delete:TODO\r\n              </Button>\r\n            </span>\r\n            <CardTitle style={{ textAlign: \"center\" }}>\r\n              {this.props.name}\r\n            </CardTitle>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//actions we want to use as second paranthesis\r\nexport default Link;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { List } from \"react-virtualized\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport PlayListItem from \"./PlayListItem\";\r\n\r\nclass ChosenPlaylist extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: this.props.playlists,\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        playlists: this.props.playlists,\r\n      });\r\n    }\r\n  }\r\n  renderRow = ({ index, style }) => {\r\n    const playlists = this.props.playlists;\r\n\r\n    const { title, artistName, uniqueId } = playlists[index];\r\n\r\n    return (\r\n      <div key={uniqueId} style={style}>\r\n        <PlayListItem\r\n          key={uniqueId}\r\n          id={uniqueId}\r\n          artistName={artistName}\r\n          name={title}\r\n        ></PlayListItem>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const playlists = this.props.playlists;\r\n    return (\r\n      <div>\r\n        <List\r\n          width={470}\r\n          height={550}\r\n          rowCount={playlists.length}\r\n          rowHeight={82}\r\n          rowRenderer={this.renderRow}\r\n        ></List>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ChosenPlaylist;\r\n","import React, { Component } from \"react\";\r\nimport { Modal, ModalHeader, ModalBody } from \"reactstrap\";\r\nimport ChosenPlaylist from \"./ChosenPlaylist\";\r\nclass AdminPlaylistModal extends Component {\r\n  state = {\r\n    modal: false,\r\n  };\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  };\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  render() {\r\n    const playlists = this.props.playlists;\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.props.isOpen} toggle={this.props.toggle}>\r\n          <ModalHeader className=\"mb-4\" toggle={this.props.toggle}>\r\n            {this.props.name}\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <p className=\"formText text-center\">Hello</p>\r\n            <ChosenPlaylist playlists={playlists || []}></ChosenPlaylist>\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminPlaylistModal;\r\n","import React, { Component } from \"react\";\r\nimport { Card, CardBody, CardText, Row, Col, Button } from \"reactstrap\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-duration-format\";\r\nimport { getPlayListById } from \"../functions/functions\";\r\nimport AdminPlaylistModal from \"./AdminPlaylistModal\";\r\n\r\nclass AdminPlaylistItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false,\r\n      loading: false,\r\n    };\r\n    this.deletePlaylist = this.deletePlaylist.bind(this);\r\n  }\r\n  deletePlaylist() {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    this.props.deletePlaylist(this.props.id);\r\n  }\r\n  async clickOnPlayList() {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    const result = await getPlayListById(this.props.id);\r\n\r\n    this.setState({\r\n      playlist: result.data.playlist,\r\n      playlistName: result.data.name,\r\n      playlistId: result.data._id,\r\n      loading: false,\r\n      private: result.data.private,\r\n    });\r\n    this.toggleList();\r\n  }\r\n  toggleList = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  };\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Card className=\"card\">\r\n          <CardBody>\r\n            <Row>\r\n              <Col xs=\"6\" sm=\"6\">\r\n                <Button\r\n                  href=\"# \"\r\n                  color=\"secondary\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={this.clickOnPlayList.bind(this, this.state)}\r\n                >\r\n                  <CardText>{this.props.name}</CardText>\r\n                </Button>\r\n              </Col>\r\n\r\n              <Col xs=\"4\" sm=\"4\">\r\n                <small className=\"text-muted\">\r\n                  Created at:{\" \"}\r\n                  <Moment format=\"DD-MM-YYYY HH:mm\">\r\n                    {this.props.createdAt}\r\n                  </Moment>\r\n                </small>\r\n              </Col>\r\n\r\n              <Col xs=\"2\" sm=\"2\">\r\n                <Button\r\n                  color=\"secondary\"\r\n                  onClick={this.deletePlaylist.bind(this)}\r\n                  className={\r\n                    this.state.loading\r\n                      ? \"loading btn btn-primary float-left\"\r\n                      : \"btn btn-primary float-left\"\r\n                  }\r\n                >\r\n                  {this.state.loading ? \"Deleting...\" : \"Delete\"}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </CardBody>\r\n        </Card>\r\n        <AdminPlaylistModal\r\n          isOpen={this.state.modal}\r\n          toggle={this.toggle}\r\n          name={this.state.playlistName}\r\n          playlists={this.state.playlist}\r\n        ></AdminPlaylistModal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//actions we want to use as second paranthesis\r\nexport default AdminPlaylistItem;\r\n","import React, { Component } from \"react\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport { List, AutoSizer } from \"react-virtualized\";\r\nimport AdminPlaylistItem from \"./AdminPlaylistItem\";\r\n\r\nclass PlaylistsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: this.props.playlists,\r\n      token: this.props.token,\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (!isEqual(this.props, prevProps)) {\r\n      //if change in props\r\n      this.setState({\r\n        playlists: this.props.playlists,\r\n        token: this.props.token,\r\n      });\r\n    }\r\n  }\r\n\r\n  renderRow = ({ index, style }) => {\r\n    const playlists = this.props.playlists;\r\n    const { name, _id, createdAt } = playlists[index];\r\n    //const { value } = items[index];\r\n    return (\r\n      <div key={_id} style={style}>\r\n        <AdminPlaylistItem\r\n          loadPlaylists={this.props.loadPlaylists}\r\n          deletePlaylist={this.props.deletePlaylist}\r\n          token={this.props.token}\r\n          createdAt={createdAt}\r\n          id={_id}\r\n          name={name}\r\n        ></AdminPlaylistItem>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { playlists } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        All playlists\r\n        <br />\r\n        <br />\r\n        <AutoSizer>\r\n          {({ width }) => (\r\n            <List\r\n              width={width}\r\n              height={700}\r\n              rowCount={playlists.length}\r\n              rowHeight={82}\r\n              rowRenderer={this.renderRow}\r\n            ></List>\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default PlaylistsList;\r\n","import React, { Component } from \"react\";\r\nimport { authenticationService } from \"../functions/authenthication\";\r\nimport { getPlaylists, deletePlaylist } from \"../functions/functions\";\r\nimport PlaylistsList from \"./PlaylistsList\";\r\nimport { Row, Col } from \"reactstrap\";\r\nimport \"./admin.css\";\r\n\r\nclass AdminPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playlists: [],\r\n      token: \"\",\r\n    };\r\n    this.loadPlaylists = this.loadPlaylists.bind(this);\r\n    this.deletePlaylist = this.deletePlaylist.bind(this);\r\n  }\r\n  async loadPlaylists() {\r\n    let res = await getPlaylists();\r\n    this.setState({\r\n      playlists: res.data.Playlist,\r\n    });\r\n  }\r\n  async deletePlaylist(id) {\r\n    await deletePlaylist(id);\r\n\r\n    this.loadPlaylists();\r\n  }\r\n  componentDidMount() {\r\n    const currentUser = authenticationService.currentUserValue;\r\n    if (currentUser && currentUser.token) {\r\n      this.setState({\r\n        token: currentUser.token,\r\n      });\r\n      this.loadPlaylists();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { token, playlists } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container-fluid homepage-div\">\r\n          <Row>\r\n            <Col xs=\"2\" sm=\"2\" className=\"adminpage1\">\r\n              ds\r\n            </Col>\r\n            <Col xs=\"6\" sm=\"6\" className=\"adminpage2\">\r\n              <PlaylistsList\r\n                loadPlaylists={this.loadPlaylists}\r\n                token={token}\r\n                playlists={playlists}\r\n                deletePlaylist={this.deletePlaylist}\r\n              />\r\n            </Col>\r\n            <Col xs=\"4\" sm=\"4\" className=\"adminpage3\">\r\n              d\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default AdminPage;\r\n","import React, { Component } from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport Navbar from \"./components/navbar/navbar-component\";\r\nimport \"./App.css\";\r\nimport HomePage from \"./components/homepage/homepage-component.tsx\";\r\nimport Login from \"./components/login/login-component\";\r\nimport Spotify from \"./components/spotify/spotify-component\";\r\nimport { authenticationService } from \"./components/functions/authenthication\";\r\nimport { tokenConfig } from \"./components/functions/functions\";\r\nimport { PrivateRoute } from \"./components/functions/PrivateRoute\";\r\nimport PublicPlaylists from \"./components/playlistGrabber/publicPlaylists\";\r\nimport { history } from \"./components/History\";\r\nimport Admin from \"./components/admin/Admin\";\r\nvar jwtDecode = require(\"jwt-decode\");\r\n\r\nconst NoMatchPage = () => {\r\n  return <h3>404 - Not found</h3>;\r\n};\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentUserInfo: null,\r\n      isAuth: false,\r\n    };\r\n    this.loadUser = this.loadUser.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n  async loadUser(token) {\r\n    let res2 = await authenticationService.loadUser(token);\r\n    if (res2 !== null) {\r\n      this.setState({\r\n        currentUserInfo: res2,\r\n        isAuth: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        currentUserInfo: null,\r\n        isAuth: false,\r\n        token: null,\r\n      });\r\n    }\r\n    this.forceUpdate();\r\n  }\r\n  componentDidMount() {\r\n    authenticationService.currentUser.subscribe((x) => {\r\n      //when change happens, this gets called\r\n      if (x) {\r\n        this.setState({\r\n          token: x.token,\r\n        });\r\n        this.loadUser();\r\n      }\r\n    });\r\n    //for checking if we need to renew token\r\n    tokenConfig();\r\n    this.interval = setInterval(() => {\r\n      tokenConfig(); //check token\r\n    }, 900000); //check token every 15 mins //needs tweaking\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval); //clear the made interval\r\n  }\r\n\r\n  logout() {\r\n    authenticationService.logout();\r\n    history.push(\"/login\");\r\n    this.setState({\r\n      token: null,\r\n    });\r\n  }\r\n  render() {\r\n    const { currentUserInfo, token } = this.state;\r\n\r\n    return (\r\n      <div className=\"App wrapper\">\r\n        <Router history={history}>\r\n          {token && jwtDecode(token).exp > Date.now() / 1000 && (\r\n            <Navbar darkMode={true} logout={this.logout} />\r\n          )}\r\n          <Switch>\r\n            <Route path=\"/login\" component={Login} />\r\n            <PrivateRoute\r\n              path=\"/\"\r\n              data={currentUserInfo}\r\n              darkMode={true}\r\n              loadUser={this.loadUser}\r\n              exact\r\n              component={HomePage}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/spotify\"\r\n              data={currentUserInfo}\r\n              component={Spotify}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/playlists\"\r\n              data={currentUserInfo}\r\n              component={PublicPlaylists}\r\n              loadUser={this.loadUser}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/admin\"\r\n              data={currentUserInfo}\r\n              roles={[\"Admin\"]}\r\n              component={Admin}\r\n            />\r\n            <Route component={NoMatchPage} />\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}